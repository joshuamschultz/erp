  <!-- Wells -->
<div class="row-fluid">
    <h4 class="span3 left">Part No: <%= @item.item_part_no %><span></span></h4>
    <span class="span9 right">
        <%= link_to 'Back to Current Revision', @item, :class => "btn btn-small btn-success" unless @item_revision == @item.current_revision %>
        <%= link_to 'New Revision', new_item_item_revision_path(@item), :class => "btn btn-small btn-success" %>
        <%= link_to 'Edit Revision', edit_item_item_revision_path(@item, @item_revision), :class => "btn btn-small" if @item_revision %> 
        <%= link_to 'Change Part No', edit_item_path(@item), :class => "btn btn-small" %>        
        <%= link_to 'Back to Items', items_path, :class => "btn btn-small" %>
    </span>
</div>

<div class="row-fluid">
    <div class="span3 well item_detail_view">
        <table class="table">
            <tbody>
              <% if @item_revision %>
                  <tr>
                    <td>Revision Title:</td>
                    <td><%= @item_revision.item_revision_name %></td>
                  </tr>

                  <tr>
                    <td>Revision Date:</td>
                    <td><%= @item_revision.item_revision_date %></td>
                  </tr>

                  <tr>
                    <td>Part Name:</td>
                    <td><%= @item_revision.item_name %></td>
                  </tr>

                  <tr>
                    <td>Description:</td>
                    <td><%= @item_revision.item_description %></td>
                  </tr>

                  <!-- <tr>
                    <td>Alt Names:</td>
                    <td>
                        <%#= @item_revision.item_alt_names.collect{|alt_name| link_to(alt_name.item_alt_identifier, item_alt_name_path(alt_name))}.join(",  ").html_safe %>
                    </td>
                  </tr> -->                

                  <tr>
                    <td>Owner:</td>
                    <td><%= link_to @item_revision.owner.owner_identifier, owner_path(@item_revision.owner) if @item_revision.owner %></td>
                  </tr>

                  <tr>
                    <td>Vendor:</td>
                    <td><%= link_to @item_revision.organization.organization_short_name, organization_path(@item_revision.organization) if @item_revision.organization %></td>
                  </tr> 

                  <!-- <tr>
                    <td>Quality:</td>
                    <td><%#= link_to @item_revision.vendor_quality.quality_name, vendor_quality_path(@item_revision.vendor_quality) if @item_revision.vendor_quality %></td>
                  </tr> -->                           

                  <tr>
                    <td>Tooling:</td>
                    <td><%= @item_revision.item_tooling %></td>
                  </tr>

                  <tr>
                    <td>Cost:</td>
                    <td>$<%= @item_revision.item_cost.to_f %></td>
                  </tr>

                  <tr>
                    <td>Print:</td>
                    <td>
                        <%#= @item_revision.prints.collect{|print| link_to(print.print_identifier, print_path(print))}.join(",  ").html_safe %>

                        <%= link_to(@item_revision.print.print_identifier, @item_revision.print.attachment.attachment.url(:original), target: "_blank") if @item_revision.print && @item_revision.print.attachment %>
                    </td>
                  </tr>

                   <tr>
                    <td>Material:</td>
                    <td>
                      <%#= @item_revision.materials.collect{|material| link_to(material.material_short_name, material_path(material))}.join(",  ").html_safe %>

                      <%= link_to(@item_revision.material.material_short_name, material_path(@item_revision.material).html_safe) if @item_revision.material %>
                    </td>
                  </tr> 

                  <tr>
                    <td>Specs:</td>
                    <td>
                        <%= @item_revision.specifications.collect{|spec| link_to(spec.specification_identifier, spec.attachment.attachment.url(:original), target: "_blank") if spec.attachment }.join(",  ").html_safe %>
                    </td>
                  </tr>  

                  <tr>
                    <td>Processes:</td>
                    <td>
                        <%= @item_revision.process_types.collect{|process| link_to(process.process_short_name, process.attachment.attachment.url(:original), target: "_blank") if process.attachment }.join(",  ").html_safe %>
                    </td>
                  </tr>    

                  <tr>
                    <td>Notes:</td>
                    <td><%= @item_revision.item_notes %></td>
                  </tr>
              <% else %>              
                  <tr>No Revision available!</tr>
              <% end %>

              <tr>
                <td>Active:</td>
                <td><%= @item.item_active %></td>
              </tr>
            </tbody>
          </table>
    </div>

    <div class="span9"> 
        <div class="row-fluid item_detail_classic_btn">
            <div class="span3 well">
                <a class="widget-stats" href="#" id="">
                    <h4><strong>50</strong></h4>
                    <span class="txt"><strong>Quantity On Hand</strong></span>
                    <div class="clearfix"></div>
                </a>
            </div>

            <div class="span3 well">
                <a class="widget-stats" href="#" id="">
                    <h4><strong>50</strong></h4>
                    <span class="txt"><strong>Quantity On Order</strong></span>
                    <div class="clearfix"></div>
                </a>
            </div>

            <div class="span3 well">
                <a class="widget-stats" href="#" id="">
                    <h4><strong>$<%= @item_revision.item_cost.to_f if @item_revision %></strong></h4>
                    <span class="txt"><strong>Cost</strong></span>
                    <div class="clearfix"></div>
                </a>
            </div>

            <div class="span3 well">
                <a class="widget-stats" href="#" id="">
                    <h4><strong>6-42</strong></h4>
                    <span class="txt"><strong>Location</strong></span>
                    <div class="clearfix"></div>
                </a>
            </div>
        </div>

        <div class="separator bottom"></div>

        <!-- Dimensions -->
        <%= render 'item_part_dimensions/item_dimensions' %>
    </div>
</div>

<!-- Attachments -->
<%= render 'attachments/attachments' if @item_revision %>

<%= render :partial => 'po_headers/po_list', locals: {
    all_path: item_path(@item, :revision_id => @item_revision.id),
    open_path: item_path(@item, :revision_id => @item_revision.id, :po_status => "open"),
    closed_path: item_path(@item, :revision_id => @item_revision.id, :po_status => "closed"),
    index_path: po_headers_path(:po_status => params[:po_status], :item_revision_id => @item_revision.id),
    new_path: new_po_header_path
    }
%>

<%= render :partial => 'so_headers/so_list', locals: {
    all_path: item_path(@item, :revision_id => @item_revision.id),
    open_path: item_path(@item, :revision_id => @item_revision.id, :so_status => "open"),
    closed_path: item_path(@item, :revision_id => @item_revision.id, :so_status => "closed"),
    index_path: so_headers_path(:so_status => params[:so_status], :item_revision_id => @item_revision.id),
    new_path: new_so_header_path
    }
%>

<!-- Quotes -->
<div class="widget">
    <div class="widget-head">
        <div class="row-fluid">
            <h4 class="span6 heading">Quotes</h4>
            <span class="span6 heading right">
                <%= link_to 'Customer', "#", :class => "btn btn-mini btn-success" %>
                <%= link_to 'Vendor', "#", :class => "btn btn-mini btn-success" %>
            </span>
        </div> 
    </div>
    <div class="widget-body" style="height:150px"></div>
</div>

<!-- Revisions -->
<%= render 'item_revisions/item_revisions' %>







