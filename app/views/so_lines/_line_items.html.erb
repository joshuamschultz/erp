<div class="widget ">
    <!-- Widget heading -->
    <div class="widget-head">
        <div class="row-fluid">
            <h4 class="span6 heading">SO Line Items</h4>
            <span class="span6 heading right">
            <% if can? :edit , SoLine %>
                <%= link_to 'New Line Item', new_so_header_so_line_path(@so_header), :class => "btn btn-mini btn-success" %>
            <% end %>
            </span>
        </div> 
    </div>
    <!-- // Widget heading END -->
<% if user_signed_in? && current_user.is_customer? %>
    <% if can? :view, SoLine %>
         <div class="widget-body">
            <table id="table_report_items" class="dynamicTable table table-striped table-bordered table-condensed">
                <thead>
                  <tr>
                    <th>Part No</th>                   
                    <th>Sell</th>      
                    <th>Quantity</th>
                    <th>Status</th>              
                    <th></th>
                  </tr>
                </thead>
                <body>
                    
                </body>
            </table>
        </div>
    </div>

    <%= render :partial => 'layouts/app_layouts/data_table', :locals => 
        {:name => "table_report_items", :path => so_header_so_lines_path(@so_header), :extras => {:slno => false},
            :columns => '[
                            { "mData": "item_part_no" },                            
                            { "mData": "so_line_sell" },
                            { "mData": "so_line_quantity" },
                            { "mData": "so_line_status" },
                            { "mData": "links", "bSortable": false, "bSearchable": false }
                            
                        ]'
        } 
    %>

    <% end %>
<% else %>
            <div class="widget-body">
            <table id="table_report_items" class="dynamicTable table table-striped table-bordered table-condensed">
                <thead>
                  <tr>
                    <th>Part No</th>
                    <th>Vendor</th>
                    <th>Vendor PO</th>                    
                    <th>Status</th>
                    <th>Sell</th>      
                    <th>Quantity</th>
                    <th>Freight</th>
                    <th>Total</th>                
                    <th></th>
                  </tr>
                </thead>
                <body>
                    
                </body>
            </table>
        </div>
    </div>

    <%= render :partial => 'layouts/app_layouts/data_table', :locals => 
        {:name => "table_report_items", :path => so_header_so_lines_path(@so_header), :extras => {:slno => false},
            :columns => '[
                            { "mData": "item_part_no" },
                            { "mData": "vendor_name" },
                            { "mData": "vendor_po" },                            
                            { "mData": "so_line_status" },
                            { "mData": "so_line_sell" },
                            { "mData": "so_line_quantity" },
                            { "mData": "so_line_freight" },
                            { "mData": "so_line_price" },
                            { "mData": "links", "bSortable": false, "bSearchable": false }
                            
                        ]'
        } 
    %>



<% end %>

<%= link_to 'SAVE', so_header_path(@so_header), {:style =>'font-size: 14px; padding: 4px 18px; margin-top:5px;',  :class =>"btn btn-mini btn-success btn-007"} if @so_header && @so_line %>
