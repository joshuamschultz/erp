/* ==========================================================
 * ErgoAdmin v1.2
 * common.js
 * 
 * http://www.mosaicpro.biz
 * Copyright MosaicPro
 *
 * Built exclusively for sale @Envato Marketplaces
 * ========================================================== */
function randNum(){return Math.floor(Math.random()*21)+20}function mt_rand(e,t){var n=arguments.length;if(0===n)e=0,t=2147483647;else{if(1===n)throw new Error("Warning: mt_rand() expects exactly 2 parameters, 1 given");e=parseInt(e,10),t=parseInt(t,10)}return Math.floor(Math.random()*(t-e+1))+e}function scrollTo(e){$(e).length&&$("html,body").animate({scrollTop:$(e).offset().top},"slow")}function toggleMenuHidden(){$(".container-fluid:first").toggleClass("menu-hidden"),$("#menu").toggleClass("hidden-phone",function(){$(".container-fluid:first").is(".menu-hidden")?"undefined"!=typeof resetResizableMenu&&resetResizableMenu(!0):(removeMenuHiddenPhone(),"undefined"!=typeof lastResizableMenuPosition&&lastResizableMenuPosition()),typeof $.cookie!="undefined"&&$.cookie("menuHidden",$(".container-fluid:first").is(".menu-hidden"))}),"undefined"!=typeof masonryGallery&&masonryGallery()}function removeMenuHiddenPhone(){!$(".container-fluid:first").is(".menu-hidden")&&$("#menu").is(".hidden-phone")&&$("#menu").removeClass("hidden-phone")}function genSparklines(){$(".sparkline").length&&($.each($("#content .sparkline"),function(e,t){var n={w:150,h:28};$(this).parent().is(".widget-stats")&&(n={w:150,h:35});var i=primaryColor;$(this).is(".danger")&&(i=dangerColor),$(this).is(".success")&&(i=successColor),$(this).is(".warning")&&(i=warningColor),$(this).is(".inverse")&&(i=inverseColor);var a=[[1,3+randNum()],[2,5+randNum()],[3,8+randNum()],[4,11+randNum()],[5,14+randNum()],[6,17+randNum()],[7,20+randNum()],[8,15+randNum()],[9,18+randNum()],[10,22+randNum()]];$(t).sparkline(a,{type:"bar",width:n.w,height:n.h,stackedBarColor:["#dadada",i],lineWidth:2})}),$.each($("#menu .sparkline"),function(e,t){var n={w:150,h:20};$(this).parent().is(".widget-stats-3")&&(n={w:150,h:35});var i=primaryColor;$(this).is(".danger")&&(i=dangerColor),$(this).is(".success")&&(i=successColor),$(this).is(".warning")&&(i=warningColor),$(this).is(".inverse")&&(i=inverseColor);var a=[[1,3+randNum()],[2,5+randNum()],[3,8+randNum()],[4,11+randNum()],[5,14+randNum()],[6,17+randNum()],[7,20+randNum()],[8,15+randNum()],[9,18+randNum()],[10,22+randNum()]];$(t).sparkline(a,{type:"bar",width:n.w,height:n.h,stackedBarColor:["#dadada",i],lineWidth:2})}))}function genEasyPie(){$(".easy-pie").length&&$.fn.easyPieChart&&$.each($(".easy-pie"),function(e,t){var n=primaryColor;$(this).is(".danger")&&(n=dangerColor),$(this).is(".success")&&(n=successColor),$(this).is(".warning")&&(n=warningColor),$(this).is(".inverse")&&(n=inverseColor),$(t).easyPieChart({barColor:n,animate:$("html").is(".ie")?!1:3e3,lineWidth:4,size:50})})}function JQSliderCreate(){$(this).removeClass("ui-corner-all ui-widget-content").wrap('<span class="ui-slider-wrap"></span>').find(".ui-slider-handle").removeClass("ui-corner-all ui-state-default")}/*!
 * jQuery Cookie Plugin v1.3
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function(e,t,n){function i(e){return e}function a(e){return decodeURIComponent(e.replace(s," "))}var s=/\+/g,r=e.cookie=function(s,o,l){if(o!==n){if(l=e.extend({},r.defaults,l),null===o&&(l.expires=-1),typeof l.expires=="number"){var d=l.expires,u=l.expires=new Date;u.setDate(u.getDate()+d)}return o=r.json?JSON.stringify(o):String(o),t.cookie=[encodeURIComponent(s),"=",r.raw?o:encodeURIComponent(o),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var c=r.raw?i:a,h=t.cookie.split("; "),p=0,f=h.length;f>p;p++){var g=h[p].split("=");if(c(g.shift())===s){var m=c(g.join("="));return r.json?JSON.parse(m):m}}return null};r.defaults={},e.removeCookie=function(t,n){return e.cookie(t)!==null?(e.cookie(t,null,n),!0):!1}})(jQuery,document),/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.1.1
 *
 */
function(e){jQuery.fn.extend({slimScroll:function(t){var n=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200},t);return this.each(function(){function i(t){if(d){t=t||window.event;var i=0;t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),e(t.target||t.srcTarget).closest("."+n.wrapperClass).is(y.parent())&&a(i,!0),t.preventDefault&&!b&&t.preventDefault(),b||(t.returnValue=!1)}}function a(e,t,i){var a=e,s=y.outerHeight()-S.outerHeight();t&&(a=parseInt(S.css("top"))+e*parseInt(n.wheelStep)/100*S.outerHeight(),a=Math.min(Math.max(a,0),s),a=e>0?Math.ceil(a):Math.floor(a),S.css({top:a+"px"})),g=parseInt(S.css("top"))/(y.outerHeight()-S.outerHeight()),a=g*(y[0].scrollHeight-y.outerHeight()),i&&(a=e,e=a/y[0].scrollHeight*y.outerHeight(),e=Math.min(Math.max(e,0),s),S.css({top:e+"px"})),y.scrollTop(a),y.trigger("slimscrolling",~~a),o(),l()}function s(){window.addEventListener?(this.addEventListener("DOMMouseScroll",i,!1),this.addEventListener("mousewheel",i,!1)):document.attachEvent("onmousewheel",i)}function r(){f=Math.max(y.outerHeight()/y[0].scrollHeight*y.outerHeight(),v),S.css({height:f+"px"});var e=f==y.outerHeight()?"none":"block";S.css({display:e})}function o(){r(),clearTimeout(h),g==~~g&&(b=n.allowPageScroll,m!=g&&y.trigger("slimscroll",0==~~g?"top":"bottom")),m=g,f>=y.outerHeight()?b=!0:(S.stop(!0,!0).fadeIn("fast"),n.railVisible&&w.stop(!0,!0).fadeIn("fast"))}function l(){n.alwaysVisible||(h=setTimeout(function(){n.disableFadeOut&&d||u||c||(S.fadeOut("slow"),w.fadeOut("slow"))},1e3))}var d,u,c,h,p,f,g,m,v=30,b=!1,y=e(this);if(y.parent().hasClass(n.wrapperClass)){var C=y.scrollTop(),S=y.parent().find("."+n.barClass),w=y.parent().find("."+n.railClass);if(r(),e.isPlainObject(t)){if("scrollTo"in t)C=parseInt(n.scrollTo);else if("scrollBy"in t)C+=parseInt(n.scrollBy);else if("destroy"in t)return S.remove(),w.remove(),y.unwrap(),void 0;a(C,!1,!0)}}else{n.height="auto"==n.height?y.parent().innerHeight():n.height,C=e("<div></div>").addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height}),y.css({overflow:"hidden",width:n.width,height:n.height});var w=e("<div></div>").addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.size,background:n.railColor,opacity:n.railOpacity,zIndex:90}),S=e("<div></div>").addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.size,BorderRadius:n.size,MozBorderRadius:n.size,WebkitBorderRadius:n.size,zIndex:99}),x="right"==n.position?{right:n.distance}:{left:n.distance};w.css(x),S.css(x),y.wrap(C),y.parent().append(S),y.parent().append(w),n.railDraggable&&S.draggable({axis:"y",containment:"parent",start:function(){c=!0},stop:function(){c=!1,l()},drag:function(){a(0,e(this).position().top,!1)}}),w.hover(function(){o()},function(){l()}),S.hover(function(){u=!0},function(){u=!1}),y.hover(function(){d=!0,o(),l()},function(){d=!1,l()}),y.bind("touchstart",function(e){e.originalEvent.touches.length&&(p=e.originalEvent.touches[0].pageY)}),y.bind("touchmove",function(e){e.originalEvent.preventDefault(),e.originalEvent.touches.length&&a((p-e.originalEvent.touches[0].pageY)/n.touchScrollStep,!0)}),"bottom"===n.start?(S.css({top:y.outerHeight()-S.outerHeight()}),a(0,!0)):"top"!==n.start&&(a(e(n.start).position().top,null,!0),n.alwaysVisible||S.hide()),s(),r()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),$(function(){$("#menu .collapse").on("show",function(e){e.stopPropagation(),$(this).parents(".hasSubmenu:first").addClass("active")}).on("hidden",function(e){e.stopPropagation(),$(this).parents(".hasSubmenu:first").removeClass("active")}),$(".navbar.main .btn-navbar").click(function(){toggleMenuHidden()}),$(".navbar.main .toggle-navbar").click(function(){var e=$(this);$(".navbar.main .wrapper").is(":hidden")?$(this).slideUp(20,function(){$(".navbar.main .wrapper").show(),$(".navbar.main").animate({height:34},200,function(){$(".navbar.main").toggleClass("navbar-hidden"),e.slideDown()})}):$(this).slideUp(20,function(){$(".navbar.main").animate({height:0},200,function(){$(".navbar.main .wrapper").hide(),$(".navbar.main").toggleClass("navbar-hidden"),e.slideDown()})})}),$(".submenu").hover(function(){$(this).children("ul").removeClass("submenu-hide").addClass("submenu-show")},function(){$(this).children("ul").removeClass(".submenu-show").addClass("submenu-hide")}).find("a:first").append(" &raquo; "),$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover(),$('[data-toggle="print"]').click(function(e){e.preventDefault(),window.print()}),$('.widget[data-toggle="collapse-widget"] .widget-body').on("show",function(){$(this).parents(".widget:first").attr("data-collapse-closed","false")}).on("shown",function(){setTimeout(function(){$(window).resize()},500)}).on("hidden",function(){$(this).parents(".widget:first").attr("data-collapse-closed","true")}),$('.widget[data-toggle="collapse-widget"]').each(function(){$(this).find(".widget-head").append('<span class="collapse-toggle"></span>'),$(this).find(".widget-body").addClass("collapse"),$(this).attr("data-collapse-closed")!=="true"&&$(this).find(".widget-body").addClass("in"),$(this).find(".collapse-toggle").on("click",function(){$(this).parents(".widget:first").find(".widget-body").collapse("toggle")})}),genSparklines(),genEasyPie(),$(".prettyprint").length&&prettyPrint(),$(window).resize(function(){}),$(window).resize(),$(".btn-source-toggle").click(function(e){e.preventDefault(),$(".code:not(.show)").toggleClass("hide")}),$('[data-toggle="hide"]').click(function(){$($(this).attr("data-target")).toggleClass("hide"),$(this).is(".scrollTarget")&&!$($(this).attr("data-target")).is(".hide")&&scrollTo($(this).attr("data-target"))}),$("#toggle-menu-position").on("change",function(){$(".container-fluid:first").toggleClass("menu-right"),$(this).prop("checked")?$(".container-fluid:first").removeClass("menu-left"):$(".container-fluid:first").addClass("menu-left"),typeof $.cookie!="undefined"&&$.cookie("rightMenu",$(this).prop("checked")?$(this).prop("checked"):null),"undefined"!=typeof resetResizableMenu&&"undefined"!=typeof lastResizableMenuPosition&&(resetResizableMenu(!0),lastResizableMenuPosition()),removeMenuHiddenPhone()}),typeof $.cookie!="undefined"&&$.cookie("rightMenu")&&$("#toggle-menu-position").length&&($("#toggle-menu-position").prop("checked",!0),$(".container-fluid:first").not(".menu-right").removeClass("menu-left").addClass("menu-right")),$("#toggle-layout").on("change",function(){$(this).prop("checked")?$(".container-fluid:first").addClass("fixed"):$(".container-fluid:first").removeClass("fixed"),typeof $.cookie!="undefined"&&($.cookie("layoutFixed",$(this).prop("checked")?$(this).prop("checked"):null),$.cookie("layoutFluid",$(this).prop("checked")?null:$(this).prop("checked")))}),typeof $.cookie!="undefined"&&$.cookie("layoutFixed")&&$("#toggle-layout").length?($("#toggle-layout").prop("checked",!0),$(".container-fluid:first").addClass("fixed")):(!$(".container-fluid:first").is(".fixed")||typeof $.cookie!="undefined"&&$.cookie("layoutFluid"))&&($("#toggle-layout").prop("checked",!1),$(".container-fluid:first").removeClass("fixed")),typeof $.cookie!="undefined"&&$.cookie("menuHidden")&&$.cookie("menuHidden")=="true"||!$(".container-fluid").is(".menu-hidden")&&!$("#menu").is(":visible")?toggleMenuHidden():$("#menu").is(":visible")&&(removeMenuHiddenPhone(),"undefined"!=typeof lastResizableMenuPosition&&lastResizableMenuPosition()),setTimeout(function(){var e=parseInt($("#menu .slim-scroll").attr("data-scroll-height")),t=parseInt($("#wrapper").height());$("#menu .slim-scroll").slimScroll({height:(t>e?t-40:e)+"px",allowPageScroll:!0,railDraggable:$.fn.draggable?!0:!1}),Modernizr.touch||$("#menu .slim-scroll").trigger("mouseenter").trigger("mouseleave")},200),$(".widget-scroll").each(function(){$(this).find(".widget-body > div").slimScroll({height:$(this).attr("data-scroll-height")})}),$("#content .slim-scroll").each(function(){$(this).slimScroll({height:$(this).attr("data-scroll-height"),allowPageScroll:!0,railDraggable:$.fn.draggable?!0:!1})}),$("textarea.wysihtml5").size()>0&&$("textarea.wysihtml5").wysihtml5(),$(".selectpicker").length&&$(".selectpicker").selectpicker(),$(".toggle-button").length&&$(".toggle-button").toggleButtons(),$(".uniformjs").length&&$(".uniformjs").find("select, input, button, textarea").uniform(),$("#colorpicker").length&&$("#colorpicker").farbtastic("#colorpickerColor"),$("#datepicker").length&&$("#datepicker").datepicker({showOtherMonths:!0}),$("#datepicker-inline").length&&$("#datepicker-inline").datepicker({inline:!0,showOtherMonths:!0}),$("#dateRangeFrom").length&&$("#dateRangeTo").length&&($("#dateRangeFrom").datepicker({defaultDate:"+1w",changeMonth:!1,numberOfMonths:2,onClose:function(e){$("#dateRangeTo").datepicker("option","minDate",e)}}).datepicker("option","maxDate",$("#dateRangeTo").val()),$("#dateRangeTo").datepicker({defaultDate:"+1w",changeMonth:!1,numberOfMonths:2,onClose:function(e){$("#dateRangeFrom").datepicker("option","maxDate",e)}}).datepicker("option","minDate",$("#dateRangeFrom").val())),$(".checkboxs thead :checkbox").change(function(){$(this).is(":checked")?($(".checkboxs tbody :checkbox").prop("checked",!0).parent().addClass("checked"),$(".checkboxs tbody tr.selectable").addClass("selected"),$(".checkboxs_actions").show()):($(".checkboxs tbody :checkbox").prop("checked",!1).parent().removeClass("checked"),$(".checkboxs tbody tr.selectable").removeClass("selected"),$(".checkboxs_actions").hide())}),$(".checkboxs tbody").on("click","tr.selectable",function(e){var t=$(this).find(":checkbox");if($(e.srcElement),e.srcElement.nodeName=="INPUT")t.is(":checked")?$(this).addClass("selected"):$(this).removeClass("selected");else{if(e.srcElement.nodeName!="TD"&&e.srcElement.nodeName!="TR"&&e.srcElement.nodeName!="DIV")return!0;t.is(":checked")?(t.prop("checked",!1).parent().removeClass("checked"),$(this).removeClass("selected")):(t.prop("checked",!0).parent().addClass("checked"),$(this).addClass("selected"))}$(".checkboxs tr.selectable :checked").size()==$(".checkboxs tr.selectable :checkbox").size()?$(".checkboxs thead :checkbox").prop("checked",!0).parent().addClass("checked"):$(".checkboxs thead :checkbox").prop("checked",!1).parent().removeClass("checked"),$(".checkboxs tr.selectable :checked").size()>=1?$(".checkboxs_actions").show():$(".checkboxs_actions").hide()}),$(".checkboxs tbody :checked").size()==$(".checkboxs tbody :checkbox").size()&&$(".checkboxs tbody :checked").length&&$(".checkboxs thead :checkbox").prop("checked",!0).parent().addClass("checked"),$(".checkboxs tbody :checked").length&&$(".checkboxs_actions").show(),$(".radioboxs tbody tr.selectable").click(function(e){var t=$(this).find(":radio");if(e.srcElement.nodeName=="INPUT")t.is(":checked")?$(this).addClass("selected"):$(this).removeClass("selected");else{if(e.srcElement.nodeName!="TD"&&e.srcElement.nodeName!="TR")return!0;t.is(":checked")?(t.attr("checked",!1),$(this).removeClass("selected")):(t.attr("checked",!0),$(".radioboxs tbody tr.selectable").removeClass("selected"),$(this).addClass("selected"))}}),$(".js-table-sortable").length&&$(".js-table-sortable").sortable({placeholder:"ui-state-highlight",items:"tbody tr",handle:".js-sortable-handle",forcePlaceholderSize:!0,helper:function(e,t){return t.children().each(function(){$(this).width($(this).width())}),t},start:function(e,t){"undefined"!=typeof mainYScroller&&mainYScroller.disable(),t.placeholder.html('<td colspan="'+$(this).find("tbody tr:first td").size()+'">&nbsp;</td>')},stop:function(){"undefined"!=typeof mainYScroller&&mainYScroller.enable()}})});var Holder=Holder||{};(function(e,t){function n(e,t){var n="complete",i="readystatechange",a=!1,s=a,r=!0,o=e.document,l=o.documentElement,d=o.addEventListener?"addEventListener":"attachEvent",u=o.addEventListener?"removeEventListener":"detachEvent",c=o.addEventListener?"":"on",h=function(r){(r.type!=i||o.readyState==n)&&((r.type=="load"?e:o)[u](c+r.type,h,a),!s&&(s=!0)&&t.call(e,null))},p=function(){try{l.doScroll("left")}catch(e){return setTimeout(p,50),void 0}h("poll")};if(o.readyState==n)t.call(e,"lazy");else{if(o.createEventObject&&l.doScroll){try{r=!e.frameElement}catch(f){}r&&p()}o[d](c+"DOMContentLoaded",h,a),o[d](c+i,h,a),e[d](c+"load",h,a)}}function a(e){e=e.match(/^(\W)?(.*)/);var t=document["getElement"+(e[1]?e[1]=="#"?"ById":"sByClassName":"sByTagName")](e[2]),n=[];return null!=t&&(n=t.length?t:t.length==0?t:[t]),n}function s(e,t){var n={};for(var i in e)n[i]=e[i];for(var a in t)n[a]=t[a];return n}function r(e,t,n){var i=[t,e].sort(),a=Math.round(i[1]/16);Math.round(i[0]/16);var s=Math.max(n.size,a);return{height:s}}function o(e,t,n,i){var a=r(t.width,t.height,n),s=a.height,o=t.width*i,l=t.height*i,d=n.font?n.font:"sans-serif";f.width=o,f.height=l,e.textAlign="center",e.textBaseline="middle",e.fillStyle=n.background,e.fillRect(0,0,o,l),e.fillStyle=n.foreground,e.font="bold "+s+"px "+d;var u=n.text?n.text:t.width+"x"+t.height;return e.measureText(u).width/o>1&&(s=n.size/(e.measureText(u).width/o)),e.font="bold "+s*i+"px "+d,e.fillText(u,o/2,l/2,o),f.toDataURL("image/png")}function l(e,t,n,i){var a=n.dimensions,r=n.theme,l=n.text?decodeURIComponent(n.text):n.text,d=a.width+"x"+a.height;r=l?s(r,{text:l}):r,r=n.font?s(r,{font:n.font}):r,"image"==e?(t.setAttribute("data-src",i),t.setAttribute("alt",l?l:r.text?r.text+" ["+d+"]":d),(p||!n.auto)&&(t.style.width=a.width+"px",t.style.height=a.height+"px"),p?t.style.backgroundColor=r.background:t.setAttribute("src",o(g,a,r,b))):p||(t.style.backgroundImage="url("+o(g,a,r,b)+")",t.style.backgroundSize=a.width+"px "+a.height+"px")}function d(e,t){var n=t.dimensions,i=t.theme,a=t.text,r=n.width+"x"+n.height;i=a?s(i,{text:a}):i;var o=document.createElement("div");e.fluidRef&&(o=e.fluidRef),o.style.backgroundColor=i.background,o.style.color=i.foreground,o.className=e.className+" holderjs-fluid",o.style.width=t.dimensions.width+(t.dimensions.width.indexOf("%")>0?"":"px"),o.style.height=t.dimensions.height+(t.dimensions.height.indexOf("%")>0?"":"px"),o.id=e.id,e.style.width=0,e.style.height=0,e.fluidRef||(i.text?o.appendChild(document.createTextNode(i.text)):(o.appendChild(document.createTextNode(r)),y.push(o),setTimeout(u,0))),e.fluidRef=o,e.parentNode.insertBefore(o,e.nextSibling),window.jQuery&&jQuery(function(t){t(e).on("load",function(){e.style.width=o.style.width,e.style.height=o.style.height,t(e).show(),t(o).remove()})})}function u(){for(i in y)if(y.hasOwnProperty(i)){var e=y[i],t=e.firstChild;e.style.lineHeight=e.offsetHeight+"px",t.data=e.offsetWidth+"x"+e.offsetHeight}}function c(t,n){var i={theme:C.themes.gray},a=!1;for(sl=t.length,j=0;sl>j;j++){var s=t[j];e.flags.dimensions.match(s)?(a=!0,i.dimensions=e.flags.dimensions.output(s)):e.flags.fluid.match(s)?(a=!0,i.dimensions=e.flags.fluid.output(s),i.fluid=!0):e.flags.colors.match(s)?i.theme=e.flags.colors.output(s):n.themes[s]?i.theme=n.themes[s]:e.flags.text.match(s)?i.text=e.flags.text.output(s):e.flags.font.match(s)?i.font=e.flags.font.output(s):e.flags.auto.match(s)&&(i.auto=!0)}return a?i:!1}var h=!1,p=!1,f=document.createElement("canvas");if(document.getElementsByClassName||(document.getElementsByClassName=function(e){var t,n,i,a=document,s=[];if(a.querySelectorAll)return a.querySelectorAll("."+e);if(a.evaluate)for(n=".//*[contains(concat(' ', @class, ' '), ' "+e+" ')]",t=a.evaluate(n,a,null,0,null);i=t.iterateNext();)s.push(i);else for(t=a.getElementsByTagName("*"),n=new RegExp("(^|\\s)"+e+"(\\s|$)"),i=0;i<t.length;i++)n.test(t[i].className)&&s.push(t[i]);return s}),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e){var t=this.__proto__||this.constructor.prototype;return e in this&&(!(e in t)||t[e]!==this[e])}),f.getContext)if(f.toDataURL("image/png").indexOf("data:image/png")<0)p=!0;else var g=f.getContext("2d");else p=!0;var m=1,v=1;p||(m=window.devicePixelRatio||1,v=g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1);var b=m/v,y=[],C={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};e.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(e){var t=this.regex.exec(e);return{width:+t[1],height:+t[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(e){var t=this.regex.exec(e);return{width:t[1],height:t[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(e){var t=this.regex.exec(e);return{size:C.themes.gray.size,foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},font:{regex:/font\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},auto:{regex:/^auto$/}};for(var S in e.flags)e.flags.hasOwnProperty(S)&&(e.flags[S].match=function(e){return e.match(this.regex)});e.add_theme=function(t,n){return null!=t&&null!=n&&(C.themes[t]=n),e},e.add_image=function(t,n){var i=a(n);if(i.length)for(var s=0,r=i.length;r>s;s++){var o=document.createElement("img");o.setAttribute("data-src",t),i[s].appendChild(o)}return e},e.run=function(t){var n=s(C,t),i=[],r=[],o=[];for(typeof n.images=="string"?r=a(n.images):window.NodeList&&n.images instanceof window.NodeList?r=n.images:window.Node&&n.images instanceof window.Node&&(r=[n.images]),typeof n.bgnodes=="string"?o=a(n.bgnodes):window.NodeList&&n.elements instanceof window.NodeList?o=n.bgnodes:window.Node&&n.bgnodes instanceof window.Node&&(o=[n.bgnodes]),h=!0,g=0,f=r.length;f>g;g++)i.push(r[g]);var u=document.getElementById("holderjs-style");u||(u=document.createElement("style"),u.setAttribute("id","holderjs-style"),u.type="text/css",document.getElementsByTagName("head")[0].appendChild(u)),n.nocss||(u.styleSheet?u.styleSheet.cssText+=n.stylesheet:u.appendChild(document.createTextNode(n.stylesheet)));for(var p=new RegExp(n.domain+'/(.*?)"?\\)'),f=o.length,g=0;f>g;g++){var m=window.getComputedStyle(o[g],null).getPropertyValue("background-image"),v=m.match(p),b=o[g].getAttribute("data-background-src");if(v){var y=c(v[1].split("/"),n);y&&l("background",o[g],y,m)}else if(null!=b){var y=c(b.substr(b.lastIndexOf(n.domain)+n.domain.length+1).split("/"),n);y&&l("background",o[g],y,m)}}for(f=i.length,g=0;f>g;g++){var S=attr_data_src=m=null;try{S=i[g].getAttribute("src"),attr_datasrc=i[g].getAttribute("data-src")}catch(w){}if(null==attr_datasrc&&S&&S.indexOf(n.domain)>=0?m=S:attr_datasrc&&attr_datasrc.indexOf(n.domain)>=0&&(m=attr_datasrc),m){var y=c(m.substr(m.lastIndexOf(n.domain)+n.domain.length+1).split("/"),n);y&&(y.fluid?d(i[g],y,m):l("image",i[g],y,m))}}return e},n(t,function(){window.addEventListener?(window.addEventListener("resize",u,!1),window.addEventListener("orientationchange",u,!1)):window.attachEvent("onresize",u),h||e.run()}),"function"==typeof define&&define.amd&&define("Holder",[],function(){return e})})(Holder,window),function(e){e.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0},elements:[]},e.support.selectOpacity=e.browser.msie&&e.browser.version<7?!1:!0,e.fn.uniform=function(t){function n(t){$el=e(t),$el.addClass($el.attr("type")),d(t)}function i(t){e(t).addClass("uniform"),d(t)}function a(n){var i=e(n),a=e("<div>"),s=e("<span>");a.addClass(t.buttonClass),t.useID&&i.attr("id")!=""&&a.attr("id",t.idPrefix+"-"+i.attr("id"));var r;i.is("a")||i.is("button")?r=i.text():(i.is(":submit")||i.is(":reset")||i.is("input[type=button]"))&&(r=i.attr("value")),r=""==r?i.is(":reset")?"Reset":"Submit":r,s.html(r),i.css("opacity",0),i.wrap(a),i.wrap(s),a=i.closest("div"),s=i.closest("span"),i.is(":disabled")&&a.addClass(t.disabledClass),a.bind({"mouseenter.uniform":function(){a.addClass(t.hoverClass)},"mouseleave.uniform":function(){a.removeClass(t.hoverClass),a.removeClass(t.activeClass)},"mousedown.uniform touchbegin.uniform":function(){a.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){a.removeClass(t.activeClass)},"click.uniform touchend.uniform":function(t){if(e(t.target).is("span")||e(t.target).is("div"))if(n[0].dispatchEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),n[0].dispatchEvent(i)}else n[0].click()}}),n.bind({"focus.uniform":function(){a.addClass(t.focusClass)},"blur.uniform":function(){a.removeClass(t.focusClass)}}),e.uniform.noSelect(a),d(n)}function s(n){var i=e(n),a=e("<div />"),s=e("<span />");!i.css("display")=="none"&&t.autoHide&&a.hide(),a.addClass(t.selectClass),t.useID&&n.attr("id")!=""&&a.attr("id",t.idPrefix+"-"+n.attr("id"));var r=n.find(":selected:first");r.length==0&&(r=n.find("option:first")),s.html(r.html()),n.css("opacity",0),n.wrap(a),n.before(s),a=n.parent("div"),s=n.siblings("span"),n.bind({"change.uniform":function(){s.text(n.find(":selected").html()),a.removeClass(t.activeClass)},"focus.uniform":function(){a.addClass(t.focusClass)},"blur.uniform":function(){a.removeClass(t.focusClass),a.removeClass(t.activeClass)},"mousedown.uniform touchbegin.uniform":function(){a.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){a.removeClass(t.activeClass)},"click.uniform touchend.uniform":function(){a.removeClass(t.activeClass)},"mouseenter.uniform":function(){a.addClass(t.hoverClass)},"mouseleave.uniform":function(){a.removeClass(t.hoverClass),a.removeClass(t.activeClass)},"keyup.uniform":function(){s.text(n.find(":selected").html())}}),e(n).attr("disabled")&&a.addClass(t.disabledClass),e.uniform.noSelect(s),d(n)}function r(n){var i=e(n),a=e("<div />"),s=e("<span />");!i.css("display")=="none"&&t.autoHide&&a.hide(),a.addClass(t.checkboxClass),t.useID&&n.attr("id")!=""&&a.attr("id",t.idPrefix+"-"+n.attr("id")),e(n).wrap(a),e(n).wrap(s),s=n.parent(),a=s.parent(),e(n).css("opacity",0).bind({"focus.uniform":function(){a.addClass(t.focusClass)},"blur.uniform":function(){a.removeClass(t.focusClass)},"click.uniform touchend.uniform":function(){e(n).attr("checked")?s.addClass(t.checkedClass):s.removeClass(t.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){a.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){a.removeClass(t.activeClass)},"mouseenter.uniform":function(){a.addClass(t.hoverClass)},"mouseleave.uniform":function(){a.removeClass(t.hoverClass),a.removeClass(t.activeClass)}}),e(n).attr("checked")&&s.addClass(t.checkedClass),e(n).attr("disabled")&&a.addClass(t.disabledClass),d(n)}function o(n){var i=e(n),a=e("<div />"),s=e("<span />");!i.css("display")=="none"&&t.autoHide&&a.hide(),a.addClass(t.radioClass),t.useID&&n.attr("id")!=""&&a.attr("id",t.idPrefix+"-"+n.attr("id")),e(n).wrap(a),e(n).wrap(s),s=n.parent(),a=s.parent(),e(n).css("opacity",0).bind({"focus.uniform":function(){a.addClass(t.focusClass)},"blur.uniform":function(){a.removeClass(t.focusClass)},"click.uniform touchend.uniform":function(){if(e(n).attr("checked")){var i=t.radioClass.split(" ")[0];e("."+i+" span."+t.checkedClass+":has([name='"+e(n).attr("name")+"'])").removeClass(t.checkedClass),s.addClass(t.checkedClass)}else s.removeClass(t.checkedClass)},"mousedown.uniform touchend.uniform":function(){e(n).is(":disabled")||a.addClass(t.activeClass)},"mouseup.uniform touchbegin.uniform":function(){a.removeClass(t.activeClass)},"mouseenter.uniform touchend.uniform":function(){a.addClass(t.hoverClass)},"mouseleave.uniform":function(){a.removeClass(t.hoverClass),a.removeClass(t.activeClass)}}),e(n).attr("checked")&&s.addClass(t.checkedClass),e(n).attr("disabled")&&a.addClass(t.disabledClass),d(n)}function l(n){var i=e(n),a=e("<div />"),s=e("<span>"+t.fileDefaultText+"</span>"),r=e("<span>"+t.fileBtnText+"</span>");if(!i.css("display")=="none"&&t.autoHide&&a.hide(),a.addClass(t.fileClass),s.addClass(t.filenameClass),r.addClass(t.fileBtnClass),t.useID&&i.attr("id")!=""&&a.attr("id",t.idPrefix+"-"+i.attr("id")),i.wrap(a),i.after(r),i.after(s),a=i.closest("div"),s=i.siblings("."+t.filenameClass),r=i.siblings("."+t.fileBtnClass),!i.attr("size")){var o=a.width();i.attr("size",o/10)}var l=function(){var e=i.val();""===e?e=t.fileDefaultText:(e=e.split(/[\/\\]+/),e=e[e.length-1]),s.text(e)};l(),i.css("opacity",0).bind({"focus.uniform":function(){a.addClass(t.focusClass)},"blur.uniform":function(){a.removeClass(t.focusClass)},"mousedown.uniform":function(){e(n).is(":disabled")||a.addClass(t.activeClass)},"mouseup.uniform":function(){a.removeClass(t.activeClass)},"mouseenter.uniform":function(){a.addClass(t.hoverClass)},"mouseleave.uniform":function(){a.removeClass(t.hoverClass),a.removeClass(t.activeClass)}}),e.browser.msie?i.bind("click.uniform.ie7",function(){setTimeout(l,0)}):i.bind("change.uniform",l),i.attr("disabled")&&a.addClass(t.disabledClass),e.uniform.noSelect(s),e.uniform.noSelect(r),d(n)}function d(t){t=e(t).get(),t.length>1?e.each(t,function(t,n){e.uniform.elements.push(n)}):e.uniform.elements.push(t)}t=e.extend(e.uniform.options,t);var u=this;return t.resetSelector!=0&&e(t.resetSelector).mouseup(function(){function t(){e.uniform.update(u)}setTimeout(t,10)}),e.uniform.restore=function(t){void 0==t&&(t=e(e.uniform.elements)),e(t).each(function(){e(this).is(":checkbox")?e(this).unwrap().unwrap():e(this).is("select")?(e(this).siblings("span").remove(),e(this).unwrap()):e(this).is(":radio")?e(this).unwrap().unwrap():e(this).is(":file")?(e(this).siblings("span").remove(),e(this).unwrap()):e(this).is("button, :submit, :reset, a, input[type='button']")&&e(this).unwrap().unwrap(),e(this).unbind(".uniform"),e(this).css("opacity","1");var n=e.inArray(e(t),e.uniform.elements);e.uniform.elements.splice(n,1)})},e.uniform.noSelect=function(t){function n(){return!1}e(t).each(function(){this.onselectstart=this.ondragstart=n,e(this).mousedown(n).css({MozUserSelect:"none"})})},e.uniform.update=function(n){void 0==n&&(n=e(e.uniform.elements)),n=e(n),n.each(function(){var i=e(this);if(i.is("select")){var a=i.siblings("span"),s=i.parent("div");s.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),a.html(i.find(":selected").html()),i.is(":disabled")?s.addClass(t.disabledClass):s.removeClass(t.disabledClass)}else if(i.is(":checkbox")){var a=i.closest("span"),s=i.closest("div");s.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),a.removeClass(t.checkedClass),i.is(":checked")&&a.addClass(t.checkedClass),i.is(":disabled")?s.addClass(t.disabledClass):s.removeClass(t.disabledClass)}else if(i.is(":radio")){var a=i.closest("span"),s=i.closest("div");s.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),a.removeClass(t.checkedClass),i.is(":checked")&&a.addClass(t.checkedClass),i.is(":disabled")?s.addClass(t.disabledClass):s.removeClass(t.disabledClass)}else if(i.is(":file")){var s=i.parent("div"),r=i.siblings(t.filenameClass);btnTag=i.siblings(t.fileBtnClass),s.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),r.text(i.val()),i.is(":disabled")?s.addClass(t.disabledClass):s.removeClass(t.disabledClass)}else if(i.is(":submit")||i.is(":reset")||i.is("button")||i.is("a")||n.is("input[type=button]")){var s=i.closest("div");s.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),i.is(":disabled")?s.addClass(t.disabledClass):s.removeClass(t.disabledClass)}})},this.each(function(){if(e.support.selectOpacity){var t=e(this);t.is("select")?t.attr("multiple")!=1&&(t.attr("size")==void 0||t.attr("size")<=1)&&s(t):t.is(":checkbox")?r(t):t.is(":radio")?o(t):t.is(":file")?l(t):t.is(":text, :password, input[type='email']")?n(t):t.is("textarea")?i(t):(t.is("a")||t.is(":submit")||t.is(":reset")||t.is("button")||t.is("input[type=button]"))&&a(t)}})}}(jQuery),/*
 * File:        jquery.dataTables.min.js
 * Version:     1.9.4
 * Author:      Allan Jardine (www.sprymedia.co.uk)
 * Info:        www.datatables.net
 * 
 * Copyright 2008-2012 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD style license, available at:
 *   http://datatables.net/license_gpl2
 *   http://datatables.net/license_bsd
 * 
 * This source file is distributed in the hope that it will be useful, but 
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY 
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 */
function(X,l,n){var L=function(h){var j=function(e){function o(e,t){var i=j.defaults.columns,a=e.aoColumns.length,i=h.extend({},j.models.oColumn,i,{sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,nTh:t?t:l.createElement("th"),sTitle:i.sTitle?i.sTitle:t?t.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[a],mData:i.mData?i.oDefaults:a});e.aoColumns.push(i),e.aoPreSearchCols[a]===n||null===e.aoPreSearchCols[a]?e.aoPreSearchCols[a]=h.extend({},j.models.oSearch):(i=e.aoPreSearchCols[a],i.bRegex===n&&(i.bRegex=!0),i.bSmart===n&&(i.bSmart=!0),i.bCaseInsensitive===n&&(i.bCaseInsensitive=!0)),m(e,a,null)}function m(e,t,i){var a=e.aoColumns[t];i!==n&&null!==i&&(i.mDataProp&&!i.mData&&(i.mData=i.mDataProp),i.sType!==n&&(a.sType=i.sType,a._bAutoType=!1),h.extend(a,i),p(a,i,"sWidth","sWidthOrig"),i.iDataSort!==n&&(a.aDataSort=[i.iDataSort]),p(a,i,"aDataSort"));var s=a.mRender?Q(a.mRender):null,r=Q(a.mData);a.fnGetData=function(e,t){var n=r(e,t);return a.mRender&&t&&""!==t?s(n,t,e):n},a.fnSetData=L(a.mData),e.oFeatures.bSort||(a.bSortable=!1),!a.bSortable||-1==h.inArray("asc",a.asSorting)&&-1==h.inArray("desc",a.asSorting)?(a.sSortingClass=e.oClasses.sSortableNone,a.sSortingClassJUI=""):-1==h.inArray("asc",a.asSorting)&&-1==h.inArray("desc",a.asSorting)?(a.sSortingClass=e.oClasses.sSortable,a.sSortingClassJUI=e.oClasses.sSortJUI):-1!=h.inArray("asc",a.asSorting)&&-1==h.inArray("desc",a.asSorting)?(a.sSortingClass=e.oClasses.sSortableAsc,a.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed):-1==h.inArray("asc",a.asSorting)&&-1!=h.inArray("desc",a.asSorting)&&(a.sSortingClass=e.oClasses.sSortableDesc,a.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed)}function k(e){if(!1===e.oFeatures.bAutoWidth)return!1;da(e);for(var t=0,n=e.aoColumns.length;n>t;t++)e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}function G(e,t){var n=r(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function R(e,t){var n=r(e,"bVisible"),n=h.inArray(t,n);return-1!==n?n:null}function t(e){return r(e,"bVisible").length}function r(e,t){var n=[];return h.map(e.aoColumns,function(e,i){e[t]&&n.push(i)}),n}function B(e){for(var t=j.ext.aTypes,n=t.length,i=0;n>i;i++){var a=t[i](e);if(null!==a)return a}return"string"}function u(e,t){for(var n=t.split(","),i=[],a=0,s=e.aoColumns.length;s>a;a++)for(var r=0;s>r;r++)if(e.aoColumns[a].sName==n[r]){i.push(r);break}return i}function M(e){for(var t="",n=0,i=e.aoColumns.length;i>n;n++)t+=e.aoColumns[n].sName+",";return t.length==i?"":t.slice(0,-1)}function ta(e,t,n,i){var a,s,r,l,d;if(t)for(a=t.length-1;a>=0;a--){var u=t[a].aTargets;for(h.isArray(u)||D(e,1,"aTargets must be an array of targets, not a "+typeof u),s=0,r=u.length;r>s;s++)if("number"==typeof u[s]&&0<=u[s]){for(;e.aoColumns.length<=u[s];)o(e);i(u[s],t[a])}else if("number"==typeof u[s]&&0>u[s])i(e.aoColumns.length+u[s],t[a]);else if("string"==typeof u[s])for(l=0,d=e.aoColumns.length;d>l;l++)("_all"==u[s]||h(e.aoColumns[l].nTh).hasClass(u[s]))&&i(l,t[a])}if(n)for(a=0,e=n.length;e>a;a++)i(a,n[a])}function H(e,t){var n;n=h.isArray(t)?t.slice():h.extend(!0,{},t);var i=e.aoData.length,a=h.extend(!0,{},j.models.oRow);a._aData=n,e.aoData.push(a);for(var s,a=0,r=e.aoColumns.length;r>a;a++)n=e.aoColumns[a],"function"==typeof n.fnRender&&n.bUseRendered&&null!==n.mData?F(e,i,a,S(e,i,a)):F(e,i,a,v(e,i,a)),n._bAutoType&&"string"!=n.sType&&(s=v(e,i,a,"type"),null!==s&&""!==s&&(s=B(s),null===n.sType?n.sType=s:n.sType!=s&&"html"!=n.sType&&(n.sType="string")));return e.aiDisplayMaster.push(i),e.oFeatures.bDeferRender||ea(e,i),i}function ua(e){var t,n,i,a,s,r,o;if(e.bDeferLoading||null===e.sAjaxSource)for(t=e.nTBody.firstChild;t;){if("TR"==t.nodeName.toUpperCase())for(n=e.aoData.length,t._DT_RowIndex=n,e.aoData.push(h.extend(!0,{},j.models.oRow,{nTr:t})),e.aiDisplayMaster.push(n),s=t.firstChild,i=0;s;)r=s.nodeName.toUpperCase(),("TD"==r||"TH"==r)&&(F(e,n,i,h.trim(s.innerHTML)),i++),s=s.nextSibling;t=t.nextSibling}for(a=T(e),i=[],t=0,n=a.length;n>t;t++)for(s=a[t].firstChild;s;)r=s.nodeName.toUpperCase(),("TD"==r||"TH"==r)&&i.push(s),s=s.nextSibling;for(n=0,a=e.aoColumns.length;a>n;n++){o=e.aoColumns[n],null===o.sTitle&&(o.sTitle=o.nTh.innerHTML);var l,d,u=o._bAutoType,c="function"==typeof o.fnRender,p=null!==o.sClass,f=o.bVisible;if(u||c||p||!f)for(r=0,t=e.aoData.length;t>r;r++)s=e.aoData[r],l=i[r*a+n],u&&"string"!=o.sType&&(d=v(e,r,n,"type"),""!==d&&(d=B(d),null===o.sType?o.sType=d:o.sType!=d&&"html"!=o.sType&&(o.sType="string"))),o.mRender?l.innerHTML=v(e,r,n,"display"):o.mData!==n&&(l.innerHTML=v(e,r,n,"display")),c&&(d=S(e,r,n),l.innerHTML=d,o.bUseRendered&&F(e,r,n,d)),p&&(l.className+=" "+o.sClass),f?s._anHidden[n]=null:(s._anHidden[n]=l,l.parentNode.removeChild(l)),o.fnCreatedCell&&o.fnCreatedCell.call(e.oInstance,l,v(e,r,n,"display"),s._aData,r,n)}if(0!==e.aoRowCreatedCallback.length)for(t=0,n=e.aoData.length;n>t;t++)s=e.aoData[t],A(e,"aoRowCreatedCallback",null,[s.nTr,s._aData,t])}function I(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null}function fa(e,t,n){for(var t=J(e,t),i=0,e=e.aoColumns.length;e>i;i++)if(t[i]===n)return i;return-1}function Y(e,t,n,i){for(var a=[],s=0,r=i.length;r>s;s++)a.push(v(e,t,i[s],n));return a}function v(e,t,i,a){var s=e.aoColumns[i];if((i=s.fnGetData(e.aoData[t]._aData,a))===n)return e.iDrawError!=e.iDraw&&null===s.sDefaultContent&&(D(e,0,"Requested unknown parameter "+("function"==typeof s.mData?"{mData function}":"'"+s.mData+"'")+" from the data source for row "+t),e.iDrawError=e.iDraw),s.sDefaultContent;if(null===i&&null!==s.sDefaultContent)i=s.sDefaultContent;else if("function"==typeof i)return i();return"display"==a&&null===i?"":i}function F(e,t,n,i){e.aoColumns[n].fnSetData(e.aoData[t]._aData,i)}function Q(e){if(null===e)return function(){return null};if("function"==typeof e)return function(t,n,i){return e(t,n,i)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("["))){var t=function(e,i,a){var s,r=a.split(".");if(""!==a){var o=0;for(s=r.length;s>o;o++){if(a=r[o].match(U)){r[o]=r[o].replace(U,""),""!==r[o]&&(e=e[r[o]]),s=[],r.splice(0,o+1);for(var r=r.join("."),o=0,l=e.length;l>o;o++)s.push(t(e[o],i,r));e=a[0].substring(1,a[0].length-1),e=""===e?s:s.join(e);break}if(null===e||e[r[o]]===n)return n;e=e[r[o]]}}return e};return function(n,i){return t(n,i,e)}}return function(t){return t[e]}}function L(e){if(null===e)return function(){};if("function"==typeof e)return function(t,n){e(t,"set",n)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("["))){var t=function(e,i,a){var s,r,a=a.split("."),o=0;for(r=a.length-1;r>o;o++){if(s=a[o].match(U)){a[o]=a[o].replace(U,""),e[a[o]]=[],s=a.slice(),s.splice(0,o+1),r=s.join(".");for(var l=0,d=i.length;d>l;l++)s={},t(s,i[l],r),e[a[o]].push(s);return}(null===e[a[o]]||e[a[o]]===n)&&(e[a[o]]={}),e=e[a[o]]}e[a[a.length-1].replace(U,"")]=i};return function(n,i){return t(n,i,e)}}return function(t,n){t[e]=n}}function Z(e){for(var t=[],n=e.aoData.length,i=0;n>i;i++)t.push(e.aoData[i]._aData);return t}function ga(e){e.aoData.splice(0,e.aoData.length),e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length),e.aiDisplay.splice(0,e.aiDisplay.length),y(e)}function ha(e,t){for(var n=-1,i=0,a=e.length;a>i;i++)e[i]==t?n=i:e[i]>t&&e[i]--;-1!=n&&e.splice(n,1)}function S(e,t,n){var i=e.aoColumns[n];return i.fnRender({iDataRow:t,iDataColumn:n,oSettings:e,aData:e.aoData[t]._aData,mDataProp:i.mData},v(e,t,n,"display"))}function ea(e,t){var n,i=e.aoData[t];if(null===i.nTr){i.nTr=l.createElement("tr"),i.nTr._DT_RowIndex=t,i._aData.DT_RowId&&(i.nTr.id=i._aData.DT_RowId),i._aData.DT_RowClass&&(i.nTr.className=i._aData.DT_RowClass);for(var a=0,s=e.aoColumns.length;s>a;a++){var r=e.aoColumns[a];n=l.createElement(r.sCellType),n.innerHTML="function"!=typeof r.fnRender||r.bUseRendered&&null!==r.mData?v(e,t,a,"display"):S(e,t,a),null!==r.sClass&&(n.className=r.sClass),r.bVisible?(i.nTr.appendChild(n),i._anHidden[a]=null):i._anHidden[a]=n,r.fnCreatedCell&&r.fnCreatedCell.call(e.oInstance,n,v(e,t,a,"display"),i._aData,t,a)}A(e,"aoRowCreatedCallback",null,[i.nTr,i._aData,t])}}function va(e){var t,n,i;if(0!==h("th, td",e.nTHead).length)for(t=0,i=e.aoColumns.length;i>t;t++)n=e.aoColumns[t].nTh,n.setAttribute("role","columnheader"),e.aoColumns[t].bSortable&&(n.setAttribute("tabindex",e.iTabIndex),n.setAttribute("aria-controls",e.sTableId)),null!==e.aoColumns[t].sClass&&h(n).addClass(e.aoColumns[t].sClass),e.aoColumns[t].sTitle!=n.innerHTML&&(n.innerHTML=e.aoColumns[t].sTitle);else{var a=l.createElement("tr");for(t=0,i=e.aoColumns.length;i>t;t++)n=e.aoColumns[t].nTh,n.innerHTML=e.aoColumns[t].sTitle,n.setAttribute("tabindex","0"),null!==e.aoColumns[t].sClass&&h(n).addClass(e.aoColumns[t].sClass),a.appendChild(n);h(e.nTHead).html("")[0].appendChild(a),V(e.aoHeader,e.nTHead)}if(h(e.nTHead).children("tr").attr("role","row"),e.bJUI)for(t=0,i=e.aoColumns.length;i>t;t++){n=e.aoColumns[t].nTh,a=l.createElement("div"),a.className=e.oClasses.sSortJUIWrapper,h(n).contents().appendTo(a);var s=l.createElement("span");s.className=e.oClasses.sSortIcon,a.appendChild(s),n.appendChild(a)}if(e.oFeatures.bSort)for(t=0;t<e.aoColumns.length;t++)!1!==e.aoColumns[t].bSortable?ia(e,e.aoColumns[t].nTh,t):h(e.aoColumns[t].nTh).addClass(e.oClasses.sSortableNone);if(""!==e.oClasses.sFooterTH&&h(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH),null!==e.nTFoot)for(n=N(e,null,e.aoFooter),t=0,i=e.aoColumns.length;i>t;t++)n[t]&&(e.aoColumns[t].nTf=n[t],e.aoColumns[t].sClass&&h(n[t]).addClass(e.aoColumns[t].sClass))}function W(e,t,i){var a,s,r,o,l=[],d=[],u=e.aoColumns.length;for(i===n&&(i=!1),a=0,s=t.length;s>a;a++){for(l[a]=t[a].slice(),l[a].nTr=t[a].nTr,r=u-1;r>=0;r--)!e.aoColumns[r].bVisible&&!i&&l[a].splice(r,1);d.push([])}for(a=0,s=l.length;s>a;a++){if(e=l[a].nTr)for(;r=e.firstChild;)e.removeChild(r);for(r=0,t=l[a].length;t>r;r++)if(o=u=1,d[a][r]===n){for(e.appendChild(l[a][r].cell),d[a][r]=1;l[a+u]!==n&&l[a][r].cell==l[a+u][r].cell;)d[a+u][r]=1,u++;for(;l[a][r+o]!==n&&l[a][r].cell==l[a][r+o].cell;){for(i=0;u>i;i++)d[a+i][r+o]=1;o++}l[a][r].cell.rowSpan=u,l[a][r].cell.colSpan=o}}}function x(e){var i=A(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==h.inArray(!1,i))E(e,!1);else{var a,s,i=[],r=0,o=e.asStripeClasses.length;if(a=e.aoOpenRows.length,e.bDrawing=!0,e.iInitDisplayStart!==n&&-1!=e.iInitDisplayStart&&(e._iDisplayStart=e.oFeatures.bServerSide?e.iInitDisplayStart:e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,y(e)),e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++;else if(e.oFeatures.bServerSide){if(!e.bDestroying&&!wa(e))return}else e.iDraw++;if(0!==e.aiDisplay.length){var d=e._iDisplayStart;for(s=e._iDisplayEnd,e.oFeatures.bServerSide&&(d=0,s=e.aoData.length);s>d;d++){var u=e.aoData[e.aiDisplay[d]];null===u.nTr&&ea(e,e.aiDisplay[d]);var c=u.nTr;if(0!==o){var p=e.asStripeClasses[r%o];u._sRowStripe!=p&&(h(c).removeClass(u._sRowStripe).addClass(p),u._sRowStripe=p)}if(A(e,"aoRowCallback",null,[c,e.aoData[e.aiDisplay[d]]._aData,r,d]),i.push(c),r++,0!==a)for(u=0;a>u;u++)if(c==e.aoOpenRows[u].nParent){i.push(e.aoOpenRows[u].nTr);break}}}else i[0]=l.createElement("tr"),e.asStripeClasses[0]&&(i[0].className=e.asStripeClasses[0]),a=e.oLanguage,o=a.sZeroRecords,1!=e.iDraw||null===e.sAjaxSource||e.oFeatures.bServerSide?a.sEmptyTable&&0===e.fnRecordsTotal()&&(o=a.sEmptyTable):o=a.sLoadingRecords,a=l.createElement("td"),a.setAttribute("valign","top"),a.colSpan=t(e),a.className=e.oClasses.sRowEmpty,a.innerHTML=ja(e,o),i[r].appendChild(a);if(A(e,"aoHeaderCallback","header",[h(e.nTHead).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),A(e,"aoFooterCallback","footer",[h(e.nTFoot).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),r=l.createDocumentFragment(),a=l.createDocumentFragment(),e.nTBody){if(o=e.nTBody.parentNode,a.appendChild(e.nTBody),!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered)for(;a=e.nTBody.firstChild;)e.nTBody.removeChild(a);for(a=0,s=i.length;s>a;a++)r.appendChild(i[a]);e.nTBody.appendChild(r),null!==o&&o.appendChild(e.nTBody)}A(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1,e.oFeatures.bServerSide&&(E(e,!1),e._bInitComplete||$(e))}}function aa(e){e.oFeatures.bSort?O(e,e.oPreviousSearch):e.oFeatures.bFilter?K(e,e.oPreviousSearch):(y(e),x(e))}function xa(e){var t=h("<div></div>")[0];e.nTable.parentNode.insertBefore(t,e.nTable),e.nTableWrapper=h('<div id="'+e.sTableId+'_wrapper" class="'+e.oClasses.sWrapper+'" role="grid"></div>')[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var n,i,a,s,r,o,l,d=e.nTableWrapper,u=e.sDom.split(""),c=0;c<u.length;c++){if(i=0,a=u[c],"<"==a){if(s=h("<div></div>")[0],r=u[c+1],"'"==r||'"'==r){for(o="",l=2;u[c+l]!=r;)o+=u[c+l],l++;"H"==o?o=e.oClasses.sJUIHeader:"F"==o&&(o=e.oClasses.sJUIFooter),-1!=o.indexOf(".")?(r=o.split("."),s.id=r[0].substr(1,r[0].length-1),s.className=r[1]):"#"==o.charAt(0)?s.id=o.substr(1,o.length-1):s.className=o,c+=l}d.appendChild(s),d=s}else if(">"==a)d=d.parentNode;else if("l"==a&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange)n=ya(e),i=1;else if("f"==a&&e.oFeatures.bFilter)n=za(e),i=1;else if("r"==a&&e.oFeatures.bProcessing)n=Aa(e),i=1;else if("t"==a)n=Ba(e),i=1;else if("i"==a&&e.oFeatures.bInfo)n=Ca(e),i=1;else if("p"==a&&e.oFeatures.bPaginate)n=Da(e),i=1;else if(0!==j.ext.aoFeatures.length)for(s=j.ext.aoFeatures,l=0,r=s.length;r>l;l++)if(a==s[l].cFeature){(n=s[l].fnInit(e))&&(i=1);break}1==i&&null!==n&&("object"!=typeof e.aanFeatures[a]&&(e.aanFeatures[a]=[]),e.aanFeatures[a].push(n),d.appendChild(n))}t.parentNode.replaceChild(e.nTableWrapper,t)}function V(e,t){var n,i,a,s,r,o,l,d,u,c,p=h(t).children("tr");for(e.splice(0,e.length),a=0,o=p.length;o>a;a++)e.push([]);for(a=0,o=p.length;o>a;a++)for(n=p[a],i=n.firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){for(d=1*i.getAttribute("colspan"),u=1*i.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,u=u&&0!==u&&1!==u?u:1,s=0,r=e[a];r[s];)s++;for(l=s,c=1===d?!0:!1,r=0;d>r;r++)for(s=0;u>s;s++)e[a+s][l+r]={cell:i,unique:c},e[a+s].nTr=n}i=i.nextSibling}}function N(e,t,n){var i=[];n||(n=e.aoHeader,t&&(n=[],V(n,t)));for(var t=0,a=n.length;a>t;t++)for(var s=0,r=n[t].length;r>s;s++)!n[t][s].unique||i[s]&&e.bSortCellsTop||(i[s]=n[t][s].cell);return i}function wa(e){if(e.bAjaxDataGet){e.iDraw++,E(e,!0);var t=Ea(e);return ka(e,t),e.fnServerData.call(e.oInstance,e.sAjaxSource,t,function(t){Fa(e,t)},e),!1}return!0}function Ea(e){var t,n,i,a,s=e.aoColumns.length,r=[];for(r.push({name:"sEcho",value:e.iDraw}),r.push({name:"iColumns",value:s}),r.push({name:"sColumns",value:M(e)}),r.push({name:"iDisplayStart",value:e._iDisplayStart}),r.push({name:"iDisplayLength",value:!1!==e.oFeatures.bPaginate?e._iDisplayLength:-1}),i=0;s>i;i++)t=e.aoColumns[i].mData,r.push({name:"mDataProp_"+i,value:"function"==typeof t?"function":t});if(!1!==e.oFeatures.bFilter)for(r.push({name:"sSearch",value:e.oPreviousSearch.sSearch}),r.push({name:"bRegex",value:e.oPreviousSearch.bRegex}),i=0;s>i;i++)r.push({name:"sSearch_"+i,value:e.aoPreSearchCols[i].sSearch}),r.push({name:"bRegex_"+i,value:e.aoPreSearchCols[i].bRegex}),r.push({name:"bSearchable_"+i,value:e.aoColumns[i].bSearchable});if(!1!==e.oFeatures.bSort){var o=0;for(t=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),i=0;i<t.length;i++)for(n=e.aoColumns[t[i][0]].aDataSort,a=0;a<n.length;a++)r.push({name:"iSortCol_"+o,value:n[a]}),r.push({name:"sSortDir_"+o,value:t[i][1]}),o++;for(r.push({name:"iSortingCols",value:o}),i=0;s>i;i++)r.push({name:"bSortable_"+i,value:e.aoColumns[i].bSortable})}return r}function ka(e,t){A(e,"aoServerParams","serverParams",[t])}function Fa(e,t){if(t.sEcho!==n){if(1*t.sEcho<e.iDraw)return;e.iDraw=1*t.sEcho}(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered))&&ga(e),e._iRecordsTotal=parseInt(t.iTotalRecords,10),e._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10);var i,a=M(e),a=t.sColumns!==n&&""!==a&&t.sColumns!=a;a&&(i=u(e,t.sColumns));for(var s=Q(e.sAjaxDataProp)(t),r=0,o=s.length;o>r;r++)if(a){for(var l=[],d=0,c=e.aoColumns.length;c>d;d++)l.push(s[r][i[d]]);H(e,l)}else H(e,s[r]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,x(e),e.bAjaxDataGet=!0,E(e,!1)}function za(e){var t=e.oPreviousSearch,n=e.oLanguage.sSearch,n=-1!==n.indexOf("_INPUT_")?n.replace("_INPUT_",'<input type="text" />'):""===n?'<input type="text" />':n+' <input type="text" />',i=l.createElement("div");return i.className=e.oClasses.sFilter,i.innerHTML="<label>"+n+"</label>",e.aanFeatures.f||(i.id=e.sTableId+"_filter"),n=h('input[type="text"]',i),i._DT_Input=n[0],n.val(t.sSearch.replace('"',"&quot;")),n.bind("keyup.DT",function(){for(var n=e.aanFeatures.f,i=this.value===""?"":this.value,a=0,s=n.length;s>a;a++)n[a]!=h(this).parents("div.dataTables_filter")[0]&&h(n[a]._DT_Input).val(i);i!=t.sSearch&&K(e,{sSearch:i,bRegex:t.bRegex,bSmart:t.bSmart,bCaseInsensitive:t.bCaseInsensitive})}),n.attr("aria-controls",e.sTableId).bind("keypress.DT",function(e){return e.keyCode==13?!1:void 0}),i}function K(e,t,n){var i=e.oPreviousSearch,a=e.aoPreSearchCols,s=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive};if(e.oFeatures.bServerSide)s(t);else{for(Ga(e,t.sSearch,n,t.bRegex,t.bSmart,t.bCaseInsensitive),s(t),t=0;t<e.aoPreSearchCols.length;t++)Ha(e,a[t].sSearch,t,a[t].bRegex,a[t].bSmart,a[t].bCaseInsensitive);Ia(e)}e.bFiltered=!0,h(e.oInstance).trigger("filter",e),e._iDisplayStart=0,y(e),x(e),la(e,0)}function Ia(e){for(var t=j.ext.afnFiltering,n=r(e,"bSearchable"),i=0,a=t.length;a>i;i++)for(var s=0,o=0,l=e.aiDisplay.length;l>o;o++){var d=e.aiDisplay[o-s];t[i](e,Y(e,d,"filter",n),d)||(e.aiDisplay.splice(o-s,1),s++)}}function Ha(e,t,n,i,a,s){if(""!==t)for(var r=0,t=ma(t,i,a,s),i=e.aiDisplay.length-1;i>=0;i--)a=Ja(v(e,e.aiDisplay[i],n,"filter"),e.aoColumns[n].sType),t.test(a)||(e.aiDisplay.splice(i,1),r++)}function Ga(e,t,n,i,a,s){if(i=ma(t,i,a,s),a=e.oPreviousSearch,n||(n=0),0!==j.ext.afnFiltering.length&&(n=1),0>=t.length)e.aiDisplay.splice(0,e.aiDisplay.length),e.aiDisplay=e.aiDisplayMaster.slice();else if(e.aiDisplay.length==e.aiDisplayMaster.length||a.sSearch.length>t.length||1==n||0!==t.indexOf(a.sSearch))for(e.aiDisplay.splice(0,e.aiDisplay.length),la(e,1),t=0;t<e.aiDisplayMaster.length;t++)i.test(e.asDataSearch[t])&&e.aiDisplay.push(e.aiDisplayMaster[t]);else for(t=n=0;t<e.asDataSearch.length;t++)i.test(e.asDataSearch[t])||(e.aiDisplay.splice(t-n,1),n++)}function la(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch=[];for(var n=r(e,"bSearchable"),i=1===t?e.aiDisplayMaster:e.aiDisplay,a=0,s=i.length;s>a;a++)e.asDataSearch[a]=na(e,Y(e,i[a],"filter",n))}}function na(e,t){var n=t.join("  ");return-1!==n.indexOf("&")&&(n=h("<div>").html(n).text()),n.replace(/[\n\r]/g," ")}function ma(e,t,n,i){return n?(e=t?e.split(" "):oa(e).split(" "),e="^(?=.*?"+e.join(")(?=.*?")+").*$",RegExp(e,i?"i":"")):(e=t?e:oa(e),RegExp(e,i?"i":""))}function Ja(e,t){return"function"==typeof j.ext.ofnSearch[t]?j.ext.ofnSearch[t](e):null===e?"":"html"==t?e.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof e?e.replace(/[\r\n]/g," "):e}function oa(e){return e.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),"\\$1")}function Ca(e){var t=l.createElement("div");return t.className=e.oClasses.sInfo,e.aanFeatures.i||(e.aoDrawCallback.push({fn:Ka,sName:"information"}),t.id=e.sTableId+"_info"),e.nTable.setAttribute("aria-describedby",e.sTableId+"_info"),t}function Ka(e){if(e.oFeatures.bInfo&&0!==e.aanFeatures.i.length){var t,n=e.oLanguage,i=e._iDisplayStart+1,a=e.fnDisplayEnd(),s=e.fnRecordsTotal(),r=e.fnRecordsDisplay();for(t=0===r?n.sInfoEmpty:n.sInfo,r!=s&&(t+=" "+n.sInfoFiltered),t+=n.sInfoPostFix,t=ja(e,t),null!==n.fnInfoCallback&&(t=n.fnInfoCallback.call(e.oInstance,e,i,a,s,r,t)),e=e.aanFeatures.i,n=0,i=e.length;i>n;n++)h(e[n]).html(t)}}function ja(e,t){var n=e.fnFormatNumber(e._iDisplayStart+1),i=e.fnDisplayEnd(),i=e.fnFormatNumber(i),a=e.fnRecordsDisplay(),a=e.fnFormatNumber(a),s=e.fnRecordsTotal(),s=e.fnFormatNumber(s);return e.oScroll.bInfinite&&(n=e.fnFormatNumber(1)),t.replace(/_START_/g,n).replace(/_END_/g,i).replace(/_TOTAL_/g,a).replace(/_MAX_/g,s)}function ba(e){var t,n,i=e.iInitDisplayStart;if(!1===e.bInitialised)setTimeout(function(){ba(e)},200);else{for(xa(e),va(e),W(e,e.aoHeader),e.nTFoot&&W(e,e.aoFooter),E(e,!0),e.oFeatures.bAutoWidth&&da(e),t=0,n=e.aoColumns.length;n>t;t++)null!==e.aoColumns[t].sWidth&&(e.aoColumns[t].nTh.style.width=q(e.aoColumns[t].sWidth));e.oFeatures.bSort?O(e):e.oFeatures.bFilter?K(e,e.oPreviousSearch):(e.aiDisplay=e.aiDisplayMaster.slice(),y(e),x(e)),null===e.sAjaxSource||e.oFeatures.bServerSide?e.oFeatures.bServerSide||(E(e,!1),$(e)):(n=[],ka(e,n),e.fnServerData.call(e.oInstance,e.sAjaxSource,n,function(n){var a=e.sAjaxDataProp!==""?Q(e.sAjaxDataProp)(n):n;for(t=0;t<a.length;t++)H(e,a[t]);e.iInitDisplayStart=i,e.oFeatures.bSort?O(e):(e.aiDisplay=e.aiDisplayMaster.slice(),y(e),x(e)),E(e,!1),$(e,n)},e))}}function $(e,t){e._bInitComplete=!0,A(e,"aoInitComplete","init",[e,t])}function pa(e){var t=j.defaults.oLanguage;!e.sEmptyTable&&e.sZeroRecords&&"No data available in table"===t.sEmptyTable&&p(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&e.sZeroRecords&&"Loading..."===t.sLoadingRecords&&p(e,e,"sZeroRecords","sLoadingRecords")}function ya(e){if(e.oScroll.bInfinite)return null;var t,n,i='<select size="1" '+('name="'+e.sTableId+'_length"')+">",a=e.aLengthMenu;if(2==a.length&&"object"==typeof a[0]&&"object"==typeof a[1])for(t=0,n=a[0].length;n>t;t++)i+='<option value="'+a[0][t]+'">'+a[1][t]+"</option>";else for(t=0,n=a.length;n>t;t++)i+='<option value="'+a[t]+'">'+a[t]+"</option>";return i+="</select>",a=l.createElement("div"),e.aanFeatures.l||(a.id=e.sTableId+"_length"),a.className=e.oClasses.sLength,a.innerHTML="<label>"+e.oLanguage.sLengthMenu.replace("_MENU_",i)+"</label>",h('select option[value="'+e._iDisplayLength+'"]',a).attr("selected",!0),h("select",a).bind("change.DT",function(){var i=h(this).val(),a=e.aanFeatures.l;for(t=0,n=a.length;n>t;t++)a[t]!=this.parentNode&&h("select",a[t]).val(i);e._iDisplayLength=parseInt(i,10),y(e),e.fnDisplayEnd()==e.fnRecordsDisplay()&&(e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength,e._iDisplayStart<0&&(e._iDisplayStart=0)),e._iDisplayLength==-1&&(e._iDisplayStart=0),x(e)}),h("select",a).attr("aria-controls",e.sTableId),a}function y(e){e._iDisplayEnd=!1===e.oFeatures.bPaginate?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||-1==e._iDisplayLength?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength}function Da(e){if(e.oScroll.bInfinite)return null;var t=l.createElement("div");return t.className=e.oClasses.sPaging+e.sPaginationType,j.ext.oPagination[e.sPaginationType].fnInit(e,t,function(e){y(e),x(e)}),e.aanFeatures.p||e.aoDrawCallback.push({fn:function(e){j.ext.oPagination[e.sPaginationType].fnUpdate(e,function(e){y(e),x(e)})},sName:"pagination"}),t}function qa(e,t){var n=e._iDisplayStart;if("number"==typeof t)e._iDisplayStart=t*e._iDisplayLength,e._iDisplayStart>e.fnRecordsDisplay()&&(e._iDisplayStart=0);else if("first"==t)e._iDisplayStart=0;else if("previous"==t)e._iDisplayStart=0<=e._iDisplayLength?e._iDisplayStart-e._iDisplayLength:0,0>e._iDisplayStart&&(e._iDisplayStart=0);else if("next"==t)0<=e._iDisplayLength?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0;else if("last"==t)if(0<=e._iDisplayLength){var i=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1;e._iDisplayStart=(i-1)*e._iDisplayLength}else e._iDisplayStart=0;else D(e,0,"Unknown paging action: "+t);return h(e.oInstance).trigger("page",e),n!=e._iDisplayStart}function Aa(e){var t=l.createElement("div");return e.aanFeatures.r||(t.id=e.sTableId+"_processing"),t.innerHTML=e.oLanguage.sProcessing,t.className=e.oClasses.sProcessing,e.nTable.parentNode.insertBefore(t,e.nTable),t}function E(e,t){if(e.oFeatures.bProcessing)for(var n=e.aanFeatures.r,i=0,a=n.length;a>i;i++)n[i].style.visibility=t?"visible":"hidden";h(e.oInstance).trigger("processing",[e,t])}function Ba(e){if(""===e.oScroll.sX&&""===e.oScroll.sY)return e.nTable;var t=l.createElement("div"),n=l.createElement("div"),i=l.createElement("div"),a=l.createElement("div"),s=l.createElement("div"),r=l.createElement("div"),o=e.nTable.cloneNode(!1),d=e.nTable.cloneNode(!1),u=e.nTable.getElementsByTagName("thead")[0],c=0===e.nTable.getElementsByTagName("tfoot").length?null:e.nTable.getElementsByTagName("tfoot")[0],p=e.oClasses;return n.appendChild(i),s.appendChild(r),a.appendChild(e.nTable),t.appendChild(n),t.appendChild(a),i.appendChild(o),o.appendChild(u),null!==c&&(t.appendChild(s),r.appendChild(d),d.appendChild(c)),t.className=p.sScrollWrapper,n.className=p.sScrollHead,i.className=p.sScrollHeadInner,a.className=p.sScrollBody,s.className=p.sScrollFoot,r.className=p.sScrollFootInner,e.oScroll.bAutoCss&&(n.style.overflow="hidden",n.style.position="relative",s.style.overflow="hidden",a.style.overflow="auto"),n.style.border="0",n.style.width="100%",s.style.border="0",i.style.width=""!==e.oScroll.sXInner?e.oScroll.sXInner:"100%",o.removeAttribute("id"),o.style.marginLeft="0",e.nTable.style.marginLeft="0",null!==c&&(d.removeAttribute("id"),d.style.marginLeft="0"),i=h(e.nTable).children("caption"),0<i.length&&(i=i[0],"top"===i._captionSide?o.appendChild(i):"bottom"===i._captionSide&&c&&d.appendChild(i)),""!==e.oScroll.sX&&(n.style.width=q(e.oScroll.sX),a.style.width=q(e.oScroll.sX),null!==c&&(s.style.width=q(e.oScroll.sX)),h(a).scroll(function(){n.scrollLeft=this.scrollLeft,null!==c&&(s.scrollLeft=this.scrollLeft)})),""!==e.oScroll.sY&&(a.style.height=q(e.oScroll.sY)),e.aoDrawCallback.push({fn:La,sName:"scrolling"}),e.oScroll.bInfinite&&h(a).scroll(function(){!e.bDrawing&&h(this).scrollTop()!==0&&h(this).scrollTop()+h(this).height()>h(e.nTable).height()-e.oScroll.iLoadGap&&e.fnDisplayEnd()<e.fnRecordsDisplay()&&(qa(e,"next"),y(e),x(e))}),e.nScrollHead=n,e.nScrollFoot=s,t}function La(e){var t,n,i,a,s,r,o,l,d=e.nScrollHead.getElementsByTagName("div")[0],u=d.getElementsByTagName("table")[0],c=e.nTable.parentNode,p=[],f=[],g=null!==e.nTFoot?e.nScrollFoot.getElementsByTagName("div")[0]:null,m=null!==e.nTFoot?g.getElementsByTagName("table")[0]:null,v=e.oBrowser.bScrollOversize,b=function(e){o=e.style,o.paddingTop="0",o.paddingBottom="0",o.borderTopWidth="0",o.borderBottomWidth="0",o.height=0};h(e.nTable).children("thead, tfoot").remove(),t=h(e.nTHead).clone()[0],e.nTable.insertBefore(t,e.nTable.childNodes[0]),i=e.nTHead.getElementsByTagName("tr"),a=t.getElementsByTagName("tr"),null!==e.nTFoot&&(s=h(e.nTFoot).clone()[0],e.nTable.insertBefore(s,e.nTable.childNodes[1]),r=e.nTFoot.getElementsByTagName("tr"),s=s.getElementsByTagName("tr")),""===e.oScroll.sX&&(c.style.width="100%",d.parentNode.style.width="100%");var y=N(e,t);for(t=0,n=y.length;n>t;t++)l=G(e,t),y[t].style.width=e.aoColumns[l].sWidth;null!==e.nTFoot&&C(function(e){e.style.width=""},s),e.oScroll.bCollapse&&""!==e.oScroll.sY&&(c.style.height=c.offsetHeight+e.nTHead.offsetHeight+"px"),t=h(e.nTable).outerWidth(),""===e.oScroll.sX?(e.nTable.style.width="100%",v&&(h("tbody",c).height()>c.offsetHeight||"scroll"==h(c).css("overflow-y"))&&(e.nTable.style.width=q(h(e.nTable).outerWidth()-e.oScroll.iBarWidth))):""!==e.oScroll.sXInner?e.nTable.style.width=q(e.oScroll.sXInner):t==h(c).width()&&h(c).height()<h(e.nTable).height()?(e.nTable.style.width=q(t-e.oScroll.iBarWidth),h(e.nTable).outerWidth()>t-e.oScroll.iBarWidth&&(e.nTable.style.width=q(t))):e.nTable.style.width=q(t),t=h(e.nTable).outerWidth(),C(b,a),C(function(e){p.push(q(h(e).width()))},a),C(function(e,t){e.style.width=p[t]},i),h(a).height(0),null!==e.nTFoot&&(C(b,s),C(function(e){f.push(q(h(e).width()))},s),C(function(e,t){e.style.width=f[t]},r),h(s).height(0)),C(function(e,t){e.innerHTML="",e.style.width=p[t]},a),null!==e.nTFoot&&C(function(e,t){e.innerHTML="",e.style.width=f[t]},s),h(e.nTable).outerWidth()<t?(i=c.scrollHeight>c.offsetHeight||"scroll"==h(c).css("overflow-y")?t+e.oScroll.iBarWidth:t,v&&(c.scrollHeight>c.offsetHeight||"scroll"==h(c).css("overflow-y"))&&(e.nTable.style.width=q(i-e.oScroll.iBarWidth)),c.style.width=q(i),e.nScrollHead.style.width=q(i),null!==e.nTFoot&&(e.nScrollFoot.style.width=q(i)),""===e.oScroll.sX?D(e,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==e.oScroll.sXInner&&D(e,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")):(c.style.width=q("100%"),e.nScrollHead.style.width=q("100%"),null!==e.nTFoot&&(e.nScrollFoot.style.width=q("100%"))),""===e.oScroll.sY&&v&&(c.style.height=q(e.nTable.offsetHeight+e.oScroll.iBarWidth)),""!==e.oScroll.sY&&e.oScroll.bCollapse&&(c.style.height=q(e.oScroll.sY),v=""!==e.oScroll.sX&&e.nTable.offsetWidth>c.offsetWidth?e.oScroll.iBarWidth:0,e.nTable.offsetHeight<c.offsetHeight&&(c.style.height=q(e.nTable.offsetHeight+v))),v=h(e.nTable).outerWidth(),u.style.width=q(v),d.style.width=q(v),u=h(e.nTable).height()>c.clientHeight||"scroll"==h(c).css("overflow-y"),d.style.paddingRight=u?e.oScroll.iBarWidth+"px":"0px",null!==e.nTFoot&&(m.style.width=q(v),g.style.width=q(v),g.style.paddingRight=u?e.oScroll.iBarWidth+"px":"0px"),h(c).scroll(),(e.bSorted||e.bFiltered)&&(c.scrollTop=0)}function C(e,t,n){for(var i,a,s=0,r=0,o=t.length;o>r;){for(i=t[r].firstChild,a=n?n[r].firstChild:null;i;)1===i.nodeType&&(n?e(i,a,s):e(i,s),s++),i=i.nextSibling,a=n?a.nextSibling:null;r++}}function Ma(e,t){if(!e||null===e||""===e)return 0;t||(t=l.body);var n,i=l.createElement("div");return i.style.width=q(e),t.appendChild(i),n=i.offsetWidth,t.removeChild(i),n}function da(e){var t,n,i,a=0,s=0,r=e.aoColumns.length,o=h("th",e.nTHead),d=e.nTable.getAttribute("width");for(i=e.nTable.parentNode,n=0;r>n;n++)e.aoColumns[n].bVisible&&(s++,null!==e.aoColumns[n].sWidth&&(t=Ma(e.aoColumns[n].sWidthOrig,i),null!==t&&(e.aoColumns[n].sWidth=q(t)),a++));if(r==o.length&&0===a&&s==r&&""===e.oScroll.sX&&""===e.oScroll.sY)for(n=0;n<e.aoColumns.length;n++)t=h(o[n]).width(),null!==t&&(e.aoColumns[n].sWidth=q(t));else{for(a=e.nTable.cloneNode(!1),n=e.nTHead.cloneNode(!0),s=l.createElement("tbody"),t=l.createElement("tr"),a.removeAttribute("id"),a.appendChild(n),null!==e.nTFoot&&(a.appendChild(e.nTFoot.cloneNode(!0)),C(function(e){e.style.width=""},a.getElementsByTagName("tr"))),a.appendChild(s),s.appendChild(t),s=h("thead th",a),0===s.length&&(s=h("tbody tr:eq(0)>td",a)),o=N(e,n),n=s=0;r>n;n++){var u=e.aoColumns[n];u.bVisible&&null!==u.sWidthOrig&&""!==u.sWidthOrig?o[n-s].style.width=q(u.sWidthOrig):u.bVisible?o[n-s].style.width="":s++}for(n=0;r>n;n++)e.aoColumns[n].bVisible&&(s=Na(e,n),null!==s&&(s=s.cloneNode(!0),""!==e.aoColumns[n].sContentPadding&&(s.innerHTML+=e.aoColumns[n].sContentPadding),t.appendChild(s)));if(i.appendChild(a),""!==e.oScroll.sX&&""!==e.oScroll.sXInner?a.style.width=q(e.oScroll.sXInner):""!==e.oScroll.sX?(a.style.width="",h(a).width()<i.offsetWidth&&(a.style.width=q(i.offsetWidth))):""!==e.oScroll.sY?a.style.width=q(i.offsetWidth):d&&(a.style.width=q(d)),a.style.visibility="hidden",Oa(e,a),r=h("tbody tr:eq(0)",a).children(),0===r.length&&(r=N(e,h("thead",a)[0])),""!==e.oScroll.sX){for(n=s=i=0;n<e.aoColumns.length;n++)e.aoColumns[n].bVisible&&(i=null===e.aoColumns[n].sWidthOrig?i+h(r[s]).outerWidth():i+(parseInt(e.aoColumns[n].sWidth.replace("px",""),10)+(h(r[s]).outerWidth()-h(r[s]).width())),s++);a.style.width=q(i),e.nTable.style.width=q(i)}for(n=s=0;n<e.aoColumns.length;n++)e.aoColumns[n].bVisible&&(i=h(r[s]).width(),null!==i&&i>0&&(e.aoColumns[n].sWidth=q(i)),s++);r=h(a).css("width"),e.nTable.style.width=-1!==r.indexOf("%")?r:q(h(a).outerWidth()),a.parentNode.removeChild(a)}d&&(e.nTable.style.width=q(d))}function Oa(e,t){""===e.oScroll.sX&&""!==e.oScroll.sY?(h(t).width(),t.style.width=q(h(t).outerWidth()-e.oScroll.iBarWidth)):""!==e.oScroll.sX&&(t.style.width=q(h(t).outerWidth()))}function Na(e,t){var n=Pa(e,t);if(0>n)return null;if(null===e.aoData[n].nTr){var i=l.createElement("td");return i.innerHTML=v(e,n,t,""),i}return J(e,n)[t]}function Pa(e,t){for(var n=-1,i=-1,a=0;a<e.aoData.length;a++){var s=v(e,a,t,"display")+"",s=s.replace(/<.*?>/g,"");s.length>n&&(n=s.length,i=a)}return i}function q(e){if(null===e)return"0px";if("number"==typeof e)return 0>e?"0px":e+"px";var t=e.charCodeAt(e.length-1);return 48>t||t>57?e:e+"px"}function Qa(){var e=l.createElement("p"),t=e.style;t.width="100%",t.height="200px",t.padding="0px";var n=l.createElement("div"),t=n.style;return t.position="absolute",t.top="0px",t.left="0px",t.visibility="hidden",t.width="200px",t.height="150px",t.padding="0px",t.overflow="hidden",n.appendChild(e),l.body.appendChild(n),t=e.offsetWidth,n.style.overflow="scroll",e=e.offsetWidth,t==e&&(e=n.clientWidth),l.body.removeChild(n),t-e
}function O(e,t){var i,a,s,r,o,l,d=[],u=[],c=j.ext.oSort,p=e.aoData,f=e.aoColumns,g=e.oLanguage.oAria;if(!e.oFeatures.bServerSide&&(0!==e.aaSorting.length||null!==e.aaSortingFixed)){for(d=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),i=0;i<d.length;i++)if(a=d[i][0],s=R(e,a),r=e.aoColumns[a].sSortDataType,j.ext.afnSortData[r])if(o=j.ext.afnSortData[r].call(e.oInstance,e,a,s),o.length===p.length)for(s=0,r=p.length;r>s;s++)F(e,s,a,o[s]);else D(e,0,"Returned data sort array (col "+a+") is the wrong length");for(i=0,a=e.aiDisplayMaster.length;a>i;i++)u[e.aiDisplayMaster[i]]=i;var m,b=d.length;for(i=0,a=p.length;a>i;i++)for(s=0;b>s;s++)for(m=f[d[s][0]].aDataSort,o=0,l=m.length;l>o;o++)r=f[m[o]].sType,r=c[(r?r:"string")+"-pre"],p[i]._aSortData[m[o]]=r?r(v(e,i,m[o],"sort")):v(e,i,m[o],"sort");e.aiDisplayMaster.sort(function(e,t){var n,i,a,s,r;for(n=0;b>n;n++)for(r=f[d[n][0]].aDataSort,i=0,a=r.length;a>i;i++)if(s=f[r[i]].sType,s=c[(s?s:"string")+"-"+d[n][1]](p[e]._aSortData[r[i]],p[t]._aSortData[r[i]]),0!==s)return s;return c["numeric-asc"](u[e],u[t])})}for((t===n||t)&&!e.oFeatures.bDeferRender&&P(e),i=0,a=e.aoColumns.length;a>i;i++)r=f[i].sTitle.replace(/<.*?>/g,""),s=f[i].nTh,s.removeAttribute("aria-sort"),s.removeAttribute("aria-label"),f[i].bSortable?0<d.length&&d[0][0]==i?(s.setAttribute("aria-sort","asc"==d[0][1]?"ascending":"descending"),s.setAttribute("aria-label",r+("asc"==(f[i].asSorting[d[0][2]+1]?f[i].asSorting[d[0][2]+1]:f[i].asSorting[0])?g.sSortAscending:g.sSortDescending))):s.setAttribute("aria-label",r+("asc"==f[i].asSorting[0]?g.sSortAscending:g.sSortDescending)):s.setAttribute("aria-label",r);e.bSorted=!0,h(e.oInstance).trigger("sort",e),e.oFeatures.bFilter?K(e,e.oPreviousSearch,1):(e.aiDisplay=e.aiDisplayMaster.slice(),e._iDisplayStart=0,y(e),x(e))}function ia(e,t,n,i){Ra(t,{},function(t){if(!1!==e.aoColumns[n].bSortable){var a=function(){var i,a;if(t.shiftKey){for(var s=!1,r=0;r<e.aaSorting.length;r++)if(e.aaSorting[r][0]==n){s=!0,i=e.aaSorting[r][0],a=e.aaSorting[r][2]+1,e.aoColumns[i].asSorting[a]?(e.aaSorting[r][1]=e.aoColumns[i].asSorting[a],e.aaSorting[r][2]=a):e.aaSorting.splice(r,1);break}!1===s&&e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}else 1==e.aaSorting.length&&e.aaSorting[0][0]==n?(i=e.aaSorting[0][0],a=e.aaSorting[0][2]+1,e.aoColumns[i].asSorting[a]||(a=0),e.aaSorting[0][1]=e.aoColumns[i].asSorting[a],e.aaSorting[0][2]=a):(e.aaSorting.splice(0,e.aaSorting.length),e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0]));O(e)};e.oFeatures.bProcessing?(E(e,!0),setTimeout(function(){a(),e.oFeatures.bServerSide||E(e,!1)},0)):a(),"function"==typeof i&&i(e)}})}function P(e){var t,n,i,a,s,r=e.aoColumns.length,o=e.oClasses;for(t=0;r>t;t++)e.aoColumns[t].bSortable&&h(e.aoColumns[t].nTh).removeClass(o.sSortAsc+" "+o.sSortDesc+" "+e.aoColumns[t].sSortingClass);for(n=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),t=0;t<e.aoColumns.length;t++)if(e.aoColumns[t].bSortable){for(s=e.aoColumns[t].sSortingClass,a=-1,i=0;i<n.length;i++)if(n[i][0]==t){s="asc"==n[i][1]?o.sSortAsc:o.sSortDesc,a=i;break}h(e.aoColumns[t].nTh).addClass(s),e.bJUI&&(s=h("span."+o.sSortIcon,e.aoColumns[t].nTh),s.removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed),s.addClass(-1==a?e.aoColumns[t].sSortingClassJUI:"asc"==n[a][1]?o.sSortJUIAsc:o.sSortJUIDesc))}else h(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass);if(s=o.sSortColumn,e.oFeatures.bSort&&e.oFeatures.bSortClasses){for(e=J(e),a=[],t=0;r>t;t++)a.push("");for(t=0,i=1;t<n.length;t++)o=parseInt(n[t][0],10),a[o]=s+i,3>i&&i++;s=RegExp(s+"[123]");var l;for(t=0,n=e.length;n>t;t++)o=t%r,i=e[t].className,l=a[o],o=i.replace(s,l),o!=i?e[t].className=h.trim(o):0<l.length&&-1==i.indexOf(l)&&(e[t].className=i+" "+l)}}function ra(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t,n;t=e.oScroll.bInfinite;var i={iCreate:(new Date).getTime(),iStart:t?0:e._iDisplayStart,iEnd:t?e._iDisplayLength:e._iDisplayEnd,iLength:e._iDisplayLength,aaSorting:h.extend(!0,[],e.aaSorting),oSearch:h.extend(!0,{},e.oPreviousSearch),aoSearchCols:h.extend(!0,[],e.aoPreSearchCols),abVisCols:[]};for(t=0,n=e.aoColumns.length;n>t;t++)i.abVisCols.push(e.aoColumns[t].bVisible);A(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.fnStateSave.call(e.oInstance,e,i)}}function Sa(e,t){if(e.oFeatures.bStateSave){var n=e.fnStateLoad.call(e.oInstance,e);if(n){var i=A(e,"aoStateLoadParams","stateLoadParams",[e,n]);if(-1===h.inArray(!1,i)){for(e.oLoadedState=h.extend(!0,{},n),e._iDisplayStart=n.iStart,e.iInitDisplayStart=n.iStart,e._iDisplayEnd=n.iEnd,e._iDisplayLength=n.iLength,e.aaSorting=n.aaSorting.slice(),e.saved_aaSorting=n.aaSorting.slice(),h.extend(e.oPreviousSearch,n.oSearch),h.extend(!0,e.aoPreSearchCols,n.aoSearchCols),t.saved_aoColumns=[],i=0;i<n.abVisCols.length;i++)t.saved_aoColumns[i]={},t.saved_aoColumns[i].bVisible=n.abVisCols[i];A(e,"aoStateLoaded","stateLoaded",[e,n])}}}}function s(e){for(var t=0;t<j.settings.length;t++)if(j.settings[t].nTable===e)return j.settings[t];return null}function T(e){for(var t=[],e=e.aoData,n=0,i=e.length;i>n;n++)null!==e[n].nTr&&t.push(e[n].nTr);return t}function J(e,t){var i,a,s,r,o,l,d=[];a=0;var u=e.aoData.length;for(t!==n&&(a=t,u=t+1),s=a;u>s;s++)if(l=e.aoData[s],null!==l.nTr){for(a=[],i=l.nTr.firstChild;i;)r=i.nodeName.toLowerCase(),("td"==r||"th"==r)&&a.push(i),i=i.nextSibling;for(r=i=0,o=e.aoColumns.length;o>r;r++)e.aoColumns[r].bVisible?d.push(a[r-i]):(d.push(l._anHidden[r]),i++)}return d}function D(e,t,n){if(e=null===e?"DataTables warning: "+n:"DataTables warning (table id = '"+e.sTableId+"'): "+n,0===t){if("alert"!=j.ext.sErrMode)throw Error(e);alert(e)}else X.console&&console.log&&console.log(e)}function p(e,t,i,a){a===n&&(a=i),t[i]!==n&&(e[a]=t[i])}function Ta(t,n){var i,a;for(a in n)n.hasOwnProperty(a)&&(i=n[a],"object"==typeof e[a]&&null!==i&&!1===h.isArray(i)?h.extend(!0,t[a],i):t[a]=i);return t}function Ra(e,t,n){h(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(e){13===e.which&&n(e)}).bind("selectstart.DT",function(){return!1})}function z(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function A(e,t,n,i){for(var t=e[t],a=[],s=t.length-1;s>=0;s--)a.push(t[s].fn.apply(e.oInstance,i));return null!==n&&h(e.oInstance).trigger(n,i),a}function Ua(e){var t=h('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];l.body.appendChild(t),e.oBrowser.bScrollOversize=100===h("#DT_BrowserTest",t)[0].offsetWidth?!0:!1,l.body.removeChild(t)}function Va(e){return function(){var t=[s(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return j.ext.oApi[e].apply(this,t)}}var U=/\[.*?\]$/,Wa=X.JSON?JSON.stringify:function(e){var t=typeof e;if("object"!==t||null===e)return"string"===t&&(e='"'+e+'"'),e+"";var n,i,a=[],s=h.isArray(e);for(n in e)i=e[n],t=typeof i,"string"===t?i='"'+i+'"':"object"===t&&null!==i&&(i=Wa(i)),a.push((s?"":'"'+n+'":')+i);return(s?"[":"{")+a+(s?"]":"}")};this.$=function(e,t){var n,i,a,r=[];i=s(this[j.ext.iApiIndex]);var o=i.aoData,l=i.aiDisplay,d=i.aiDisplayMaster;if(t||(t={}),t=h.extend({},{filter:"none",order:"current",page:"all"},t),"current"==t.page)for(n=i._iDisplayStart,i=i.fnDisplayEnd();i>n;n++)(a=o[l[n]].nTr)&&r.push(a);else if("current"==t.order&&"none"==t.filter)for(n=0,i=d.length;i>n;n++)(a=o[d[n]].nTr)&&r.push(a);else if("current"==t.order&&"applied"==t.filter)for(n=0,i=l.length;i>n;n++)(a=o[l[n]].nTr)&&r.push(a);else if("original"==t.order&&"none"==t.filter)for(n=0,i=o.length;i>n;n++)(a=o[n].nTr)&&r.push(a);else if("original"==t.order&&"applied"==t.filter)for(n=0,i=o.length;i>n;n++)a=o[n].nTr,-1!==h.inArray(n,l)&&a&&r.push(a);else D(i,1,"Unknown selection options");return r=h(r),n=r.filter(e),r=r.find(e),h([].concat(h.makeArray(n),h.makeArray(r)))},this._=function(e,t){var n,i,a=[],s=this.$(e,t);for(n=0,i=s.length;i>n;n++)a.push(this.fnGetData(s[n]));return a},this.fnAddData=function(e,t){if(0===e.length)return[];var i,a=[],r=s(this[j.ext.iApiIndex]);if("object"==typeof e[0]&&null!==e[0])for(var o=0;o<e.length;o++){if(i=H(r,e[o]),-1==i)return a;a.push(i)}else{if(i=H(r,e),-1==i)return a;a.push(i)}return r.aiDisplay=r.aiDisplayMaster.slice(),(t===n||t)&&aa(r),a},this.fnAdjustColumnSizing=function(e){var t=s(this[j.ext.iApiIndex]);k(t),e===n||e?this.fnDraw(!1):(""!==t.oScroll.sX||""!==t.oScroll.sY)&&this.oApi._fnScrollDraw(t)},this.fnClearTable=function(e){var t=s(this[j.ext.iApiIndex]);ga(t),(e===n||e)&&x(t)},this.fnClose=function(e){for(var t=s(this[j.ext.iApiIndex]),n=0;n<t.aoOpenRows.length;n++)if(t.aoOpenRows[n].nParent==e)return(e=t.aoOpenRows[n].nTr.parentNode)&&e.removeChild(t.aoOpenRows[n].nTr),t.aoOpenRows.splice(n,1),0;return 1},this.fnDeleteRow=function(e,t,i){var a,r,o=s(this[j.ext.iApiIndex]),e="object"==typeof e?I(o,e):e,l=o.aoData.splice(e,1);for(a=0,r=o.aoData.length;r>a;a++)null!==o.aoData[a].nTr&&(o.aoData[a].nTr._DT_RowIndex=a);return a=h.inArray(e,o.aiDisplay),o.asDataSearch.splice(a,1),ha(o.aiDisplayMaster,e),ha(o.aiDisplay,e),"function"==typeof t&&t.call(this,o,l),o._iDisplayStart>=o.fnRecordsDisplay()&&(o._iDisplayStart-=o._iDisplayLength,0>o._iDisplayStart&&(o._iDisplayStart=0)),(i===n||i)&&(y(o),x(o)),l},this.fnDestroy=function(t){var i,a,r=s(this[j.ext.iApiIndex]),o=r.nTableWrapper.parentNode,l=r.nTBody,t=t===n?!1:t;if(r.bDestroying=!0,A(r,"aoDestroyCallback","destroy",[r]),!t)for(i=0,a=r.aoColumns.length;a>i;i++)!1===r.aoColumns[i].bVisible&&this.fnSetColumnVis(i,!0);for(h(r.nTableWrapper).find("*").andSelf().unbind(".DT"),h("tbody>tr>td."+r.oClasses.sRowEmpty,r.nTable).parent().remove(),r.nTable!=r.nTHead.parentNode&&(h(r.nTable).children("thead").remove(),r.nTable.appendChild(r.nTHead)),r.nTFoot&&r.nTable!=r.nTFoot.parentNode&&(h(r.nTable).children("tfoot").remove(),r.nTable.appendChild(r.nTFoot)),r.nTable.parentNode.removeChild(r.nTable),h(r.nTableWrapper).remove(),r.aaSorting=[],r.aaSortingFixed=[],P(r),h(T(r)).removeClass(r.asStripeClasses.join(" ")),h("th, td",r.nTHead).removeClass([r.oClasses.sSortable,r.oClasses.sSortableAsc,r.oClasses.sSortableDesc,r.oClasses.sSortableNone].join(" ")),r.bJUI&&(h("th span."+r.oClasses.sSortIcon+", td span."+r.oClasses.sSortIcon,r.nTHead).remove(),h("th, td",r.nTHead).each(function(){var e=h("div."+r.oClasses.sSortJUIWrapper,this),t=e.contents();h(this).append(t),e.remove()})),!t&&r.nTableReinsertBefore?o.insertBefore(r.nTable,r.nTableReinsertBefore):t||o.appendChild(r.nTable),i=0,a=r.aoData.length;a>i;i++)null!==r.aoData[i].nTr&&l.appendChild(r.aoData[i].nTr);if(!0===r.oFeatures.bAutoWidth&&(r.nTable.style.width=q(r.sDestroyWidth)),a=r.asDestroyStripes.length)for(t=h(l).children("tr"),i=0;a>i;i++)t.filter(":nth-child("+a+"n + "+i+")").addClass(r.asDestroyStripes[i]);for(i=0,a=j.settings.length;a>i;i++)j.settings[i]==r&&j.settings.splice(i,1);e=r=null},this.fnDraw=function(e){var t=s(this[j.ext.iApiIndex]);!1===e?(y(t),x(t)):aa(t)},this.fnFilter=function(e,t,i,a,r,o){var d=s(this[j.ext.iApiIndex]);if(d.oFeatures.bFilter)if((i===n||null===i)&&(i=!1),(a===n||null===a)&&(a=!0),(r===n||null===r)&&(r=!0),(o===n||null===o)&&(o=!0),t===n||null===t){if(K(d,{sSearch:e+"",bRegex:i,bSmart:a,bCaseInsensitive:o},1),r&&d.aanFeatures.f)for(t=d.aanFeatures.f,i=0,a=t.length;a>i;i++)try{t[i]._DT_Input!=l.activeElement&&h(t[i]._DT_Input).val(e)}catch(u){h(t[i]._DT_Input).val(e)}}else h.extend(d.aoPreSearchCols[t],{sSearch:e+"",bRegex:i,bSmart:a,bCaseInsensitive:o}),K(d,d.oPreviousSearch,1)},this.fnGetData=function(e,t){var i=s(this[j.ext.iApiIndex]);if(e!==n){var a=e;if("object"==typeof e){var r=e.nodeName.toLowerCase();"tr"===r?a=I(i,e):"td"===r&&(a=I(i,e.parentNode),t=fa(i,a,e))}return t!==n?v(i,a,t,""):i.aoData[a]!==n?i.aoData[a]._aData:null}return Z(i)},this.fnGetNodes=function(e){var t=s(this[j.ext.iApiIndex]);return e!==n?t.aoData[e]!==n?t.aoData[e].nTr:null:T(t)},this.fnGetPosition=function(e){var t=s(this[j.ext.iApiIndex]),n=e.nodeName.toUpperCase();return"TR"==n?I(t,e):"TD"==n||"TH"==n?(n=I(t,e.parentNode),e=fa(t,n,e),[n,R(t,e),e]):null},this.fnIsOpen=function(e){for(var t=s(this[j.ext.iApiIndex]),n=0;n<t.aoOpenRows.length;n++)if(t.aoOpenRows[n].nParent==e)return!0;return!1},this.fnOpen=function(e,n,i){var a=s(this[j.ext.iApiIndex]),r=T(a);if(-1!==h.inArray(e,r)){this.fnClose(e);var r=l.createElement("tr"),o=l.createElement("td");return r.appendChild(o),o.className=i,o.colSpan=t(a),"string"==typeof n?o.innerHTML=n:h(o).html(n),n=h("tr",a.nTBody),-1!=h.inArray(e,n)&&h(r).insertAfter(e),a.aoOpenRows.push({nTr:r,nParent:e}),r}},this.fnPageChange=function(e,t){var i=s(this[j.ext.iApiIndex]);qa(i,e),y(i),(t===n||t)&&x(i)},this.fnSetColumnVis=function(e,i,a){var r,o,l,d,u=s(this[j.ext.iApiIndex]),c=u.aoColumns,h=u.aoData;if(c[e].bVisible!=i){if(i){for(r=o=0;e>r;r++)c[r].bVisible&&o++;if(d=o>=t(u),!d)for(r=e;r<c.length;r++)if(c[r].bVisible){l=r;break}for(r=0,o=h.length;o>r;r++)null!==h[r].nTr&&(d?h[r].nTr.appendChild(h[r]._anHidden[e]):h[r].nTr.insertBefore(h[r]._anHidden[e],J(u,r)[l]))}else for(r=0,o=h.length;o>r;r++)null!==h[r].nTr&&(l=J(u,r)[e],h[r]._anHidden[e]=l,l.parentNode.removeChild(l));for(c[e].bVisible=i,W(u,u.aoHeader),u.nTFoot&&W(u,u.aoFooter),r=0,o=u.aoOpenRows.length;o>r;r++)u.aoOpenRows[r].nTr.colSpan=t(u);(a===n||a)&&(k(u),x(u)),ra(u)}},this.fnSettings=function(){return s(this[j.ext.iApiIndex])},this.fnSort=function(e){var t=s(this[j.ext.iApiIndex]);t.aaSorting=e,O(t)},this.fnSortListener=function(e,t,n){ia(s(this[j.ext.iApiIndex]),e,t,n)},this.fnUpdate=function(e,t,i,a,o){var l=s(this[j.ext.iApiIndex]),t="object"==typeof t?I(l,t):t;if(h.isArray(e)&&i===n)for(l.aoData[t]._aData=e.slice(),i=0;i<l.aoColumns.length;i++)this.fnUpdate(v(l,t,i),t,i,!1,!1);else if(h.isPlainObject(e)&&i===n)for(l.aoData[t]._aData=h.extend(!0,{},e),i=0;i<l.aoColumns.length;i++)this.fnUpdate(v(l,t,i),t,i,!1,!1);else{F(l,t,i,e);var e=v(l,t,i,"display"),d=l.aoColumns[i];null!==d.fnRender&&(e=S(l,t,i),d.bUseRendered&&F(l,t,i,e)),null!==l.aoData[t].nTr&&(J(l,t)[i].innerHTML=e)}return i=h.inArray(t,l.aiDisplay),l.asDataSearch[i]=na(l,Y(l,t,"filter",r(l,"bSearchable"))),(o===n||o)&&k(l),(a===n||a)&&aa(l),0},this.fnVersionCheck=j.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:Va,_fnInitialise:ba,_fnInitComplete:$,_fnLanguageCompat:pa,_fnAddColumn:o,_fnColumnOptions:m,_fnAddData:H,_fnCreateTr:ea,_fnGatherData:ua,_fnBuildHead:va,_fnDrawHead:W,_fnDraw:x,_fnReDraw:aa,_fnAjaxUpdate:wa,_fnAjaxParameters:Ea,_fnAjaxUpdateDraw:Fa,_fnServerParams:ka,_fnAddOptionsHtml:xa,_fnFeatureHtmlTable:Ba,_fnScrollDraw:La,_fnAdjustColumnSizing:k,_fnFeatureHtmlFilter:za,_fnFilterComplete:K,_fnFilterCustom:Ia,_fnFilterColumn:Ha,_fnFilter:Ga,_fnBuildSearchArray:la,_fnBuildSearchRow:na,_fnFilterCreateSearch:ma,_fnDataToSearch:Ja,_fnSort:O,_fnSortAttachListener:ia,_fnSortingClasses:P,_fnFeatureHtmlPaginate:Da,_fnPageChange:qa,_fnFeatureHtmlInfo:Ca,_fnUpdateInfo:Ka,_fnFeatureHtmlLength:ya,_fnFeatureHtmlProcessing:Aa,_fnProcessingDisplay:E,_fnVisibleToColumnIndex:G,_fnColumnIndexToVisible:R,_fnNodeToDataIndex:I,_fnVisbleColumns:t,_fnCalculateEnd:y,_fnConvertToWidth:Ma,_fnCalculateColumnWidths:da,_fnScrollingWidthAdjust:Oa,_fnGetWidestNode:Na,_fnGetMaxLenString:Pa,_fnStringToCss:q,_fnDetectType:B,_fnSettingsFromNode:s,_fnGetDataMaster:Z,_fnGetTrNodes:T,_fnGetTdNodes:J,_fnEscapeRegex:oa,_fnDeleteIndex:ha,_fnReOrderIndex:u,_fnColumnOrdering:M,_fnLog:D,_fnClearTable:ga,_fnSaveState:ra,_fnLoadState:Sa,_fnCreateCookie:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+1e3*c);var c=X.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase(),g;if(null!==e?(g="function"==typeof h.parseJSON?h.parseJSON(b):eval("("+b+")"),b=e(a,g,f.toGMTString(),c.join("/")+"/")):b=a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/",a=l.cookie.split(";"),e=b.split(";")[0].length,f=[],4096<e+l.cookie.length+10){for(var j=0,o=a.length;o>j;j++)if(-1!=a[j].indexOf(d)){var k=a[j].split("=");try{(g=eval("("+decodeURIComponent(k[1])+")"))&&g.iCreate&&f.push({name:k[0],time:g.iCreate})}catch(m){}}for(f.sort(function(e,t){return t.time-e.time});4096<e+l.cookie.length+10;){if(0===f.length)return;d=f.pop(),l.cookie=d.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}l.cookie=b},_fnReadCookie:function(e){for(var t=X.location.pathname.split("/"),e=e+"_"+t[t.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",t=l.cookie.split(";"),n=0;n<t.length;n++){for(var i=t[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return decodeURIComponent(i.substring(e.length,i.length))}return null},_fnDetectHeader:V,_fnGetUniqueThs:N,_fnScrollBarWidth:Qa,_fnApplyToChildren:C,_fnMap:p,_fnGetRowData:Y,_fnGetCellData:v,_fnSetCellData:F,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:L,_fnApplyColumnDefs:ta,_fnBindAction:Ra,_fnExtend:Ta,_fnCallbackReg:z,_fnCallbackFire:A,_fnJsonString:Wa,_fnRender:S,_fnNodeToColumnIndex:fa,_fnInfoMacros:ja,_fnBrowserDetect:Ua,_fnGetColumns:r},h.extend(j.ext.oApi,this.oApi);for(var sa in j.ext.oApi)sa&&(this[sa]=Va(sa));var ca=this;return this.each(function(){var t,i,a,s=0;i=this.getAttribute("id");var r=!1,d=!1;if("table"!=this.nodeName.toLowerCase())D(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{for(s=0,t=j.settings.length;t>s;s++){if(j.settings[s].nTable==this){if(e===n||e.bRetrieve)return j.settings[s].oInstance;if(e.bDestroy){j.settings[s].oInstance.fnDestroy();break}return D(j.settings[s],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy"),void 0}if(j.settings[s].sTableId==this.id){j.settings.splice(s,1);break}}(null===i||""===i)&&(this.id=i="DataTables_Table_"+j.ext._oExternConfig.iNextUnique++);var u=h.extend(!0,{},j.models.oSettings,{nTable:this,oApi:ca.oApi,oInit:e,sDestroyWidth:h(this).width(),sInstance:i,sTableId:i});if(j.settings.push(u),u.oInstance=1===ca.length?ca:h(this).dataTable(),e||(e={}),e.oLanguage&&pa(e.oLanguage),e=Ta(h.extend(!0,{},j.defaults),e),p(u.oFeatures,e,"bPaginate"),p(u.oFeatures,e,"bLengthChange"),p(u.oFeatures,e,"bFilter"),p(u.oFeatures,e,"bSort"),p(u.oFeatures,e,"bInfo"),p(u.oFeatures,e,"bProcessing"),p(u.oFeatures,e,"bAutoWidth"),p(u.oFeatures,e,"bSortClasses"),p(u.oFeatures,e,"bServerSide"),p(u.oFeatures,e,"bDeferRender"),p(u.oScroll,e,"sScrollX","sX"),p(u.oScroll,e,"sScrollXInner","sXInner"),p(u.oScroll,e,"sScrollY","sY"),p(u.oScroll,e,"bScrollCollapse","bCollapse"),p(u.oScroll,e,"bScrollInfinite","bInfinite"),p(u.oScroll,e,"iScrollLoadGap","iLoadGap"),p(u.oScroll,e,"bScrollAutoCss","bAutoCss"),p(u,e,"asStripeClasses"),p(u,e,"asStripClasses","asStripeClasses"),p(u,e,"fnServerData"),p(u,e,"fnFormatNumber"),p(u,e,"sServerMethod"),p(u,e,"aaSorting"),p(u,e,"aaSortingFixed"),p(u,e,"aLengthMenu"),p(u,e,"sPaginationType"),p(u,e,"sAjaxSource"),p(u,e,"sAjaxDataProp"),p(u,e,"iCookieDuration"),p(u,e,"sCookiePrefix"),p(u,e,"sDom"),p(u,e,"bSortCellsTop"),p(u,e,"iTabIndex"),p(u,e,"oSearch","oPreviousSearch"),p(u,e,"aoSearchCols","aoPreSearchCols"),p(u,e,"iDisplayLength","_iDisplayLength"),p(u,e,"bJQueryUI","bJUI"),p(u,e,"fnCookieCallback"),p(u,e,"fnStateLoad"),p(u,e,"fnStateSave"),p(u.oLanguage,e,"fnInfoCallback"),z(u,"aoDrawCallback",e.fnDrawCallback,"user"),z(u,"aoServerParams",e.fnServerParams,"user"),z(u,"aoStateSaveParams",e.fnStateSaveParams,"user"),z(u,"aoStateLoadParams",e.fnStateLoadParams,"user"),z(u,"aoStateLoaded",e.fnStateLoaded,"user"),z(u,"aoRowCallback",e.fnRowCallback,"user"),z(u,"aoRowCreatedCallback",e.fnCreatedRow,"user"),z(u,"aoHeaderCallback",e.fnHeaderCallback,"user"),z(u,"aoFooterCallback",e.fnFooterCallback,"user"),z(u,"aoInitComplete",e.fnInitComplete,"user"),z(u,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),u.oFeatures.bServerSide&&u.oFeatures.bSort&&u.oFeatures.bSortClasses?z(u,"aoDrawCallback",P,"server_side_sort_classes"):u.oFeatures.bDeferRender&&z(u,"aoDrawCallback",P,"defer_sort_classes"),e.bJQueryUI?(h.extend(u.oClasses,j.ext.oJUIClasses),e.sDom===j.defaults.sDom&&"lfrtip"===j.defaults.sDom&&(u.sDom='<"H"lfr>t<"F"ip>')):h.extend(u.oClasses,j.ext.oStdClasses),h(this).addClass(u.oClasses.sTable),(""!==u.oScroll.sX||""!==u.oScroll.sY)&&(u.oScroll.iBarWidth=Qa()),u.iInitDisplayStart===n&&(u.iInitDisplayStart=e.iDisplayStart,u._iDisplayStart=e.iDisplayStart),e.bStateSave&&(u.oFeatures.bStateSave=!0,Sa(u,e),z(u,"aoDrawCallback",ra,"state_save")),null!==e.iDeferLoading&&(u.bDeferLoading=!0,s=h.isArray(e.iDeferLoading),u._iRecordsDisplay=s?e.iDeferLoading[0]:e.iDeferLoading,u._iRecordsTotal=s?e.iDeferLoading[1]:e.iDeferLoading),null!==e.aaData&&(d=!0),""!==e.oLanguage.sUrl?(u.oLanguage.sUrl=e.oLanguage.sUrl,h.getJSON(u.oLanguage.sUrl,null,function(t){pa(t),h.extend(!0,u.oLanguage,e.oLanguage,t),ba(u)}),r=!0):h.extend(!0,u.oLanguage,e.oLanguage),null===e.asStripeClasses&&(u.asStripeClasses=[u.oClasses.sStripeOdd,u.oClasses.sStripeEven]),t=u.asStripeClasses.length,u.asDestroyStripes=[],t){for(i=!1,a=h(this).children("tbody").children("tr:lt("+t+")"),s=0;t>s;s++)a.hasClass(u.asStripeClasses[s])&&(i=!0,u.asDestroyStripes.push(u.asStripeClasses[s]));i&&a.removeClass(u.asStripeClasses.join(" "))}if(i=[],s=this.getElementsByTagName("thead"),0!==s.length&&(V(u.aoHeader,s[0]),i=N(u)),null===e.aoColumns)for(a=[],s=0,t=i.length;t>s;s++)a.push(null);else a=e.aoColumns;for(s=0,t=a.length;t>s;s++)e.saved_aoColumns!==n&&e.saved_aoColumns.length==t&&(null===a[s]&&(a[s]={}),a[s].bVisible=e.saved_aoColumns[s].bVisible),o(u,i?i[s]:null);for(ta(u,e.aoColumnDefs,a,function(e,t){m(u,e,t)}),s=0,t=u.aaSorting.length;t>s;s++){u.aaSorting[s][0]>=u.aoColumns.length&&(u.aaSorting[s][0]=0);var c=u.aoColumns[u.aaSorting[s][0]];for(u.aaSorting[s][2]===n&&(u.aaSorting[s][2]=0),e.aaSorting===n&&u.saved_aaSorting===n&&(u.aaSorting[s][1]=c.asSorting[0]),i=0,a=c.asSorting.length;a>i;i++)if(u.aaSorting[s][1]==c.asSorting[i]){u.aaSorting[s][2]=i;break}}if(P(u),Ua(u),s=h(this).children("caption").each(function(){this._captionSide=h(this).css("caption-side")}),t=h(this).children("thead"),0===t.length&&(t=[l.createElement("thead")],this.appendChild(t[0])),u.nTHead=t[0],t=h(this).children("tbody"),0===t.length&&(t=[l.createElement("tbody")],this.appendChild(t[0])),u.nTBody=t[0],u.nTBody.setAttribute("role","alert"),u.nTBody.setAttribute("aria-live","polite"),u.nTBody.setAttribute("aria-relevant","all"),t=h(this).children("tfoot"),0===t.length&&0<s.length&&(""!==u.oScroll.sX||""!==u.oScroll.sY)&&(t=[l.createElement("tfoot")],this.appendChild(t[0])),0<t.length&&(u.nTFoot=t[0],V(u.aoFooter,u.nTFoot)),d)for(s=0;s<e.aaData.length;s++)H(u,e.aaData[s]);else ua(u);u.aiDisplay=u.aiDisplayMaster.slice(),u.bInitialised=!0,!1===r&&ba(u)}}),ca=null,this};j.fnVersionCheck=function(e){for(var t=function(e,t){for(;e.length<t;)e+="0";return e},n=j.ext.sVersion.split("."),e=e.split("."),i="",a="",s=0,r=e.length;r>s;s++)i+=t(n[s],3),a+=t(e[s],3);return parseInt(i,10)>=parseInt(a,10)},j.fnIsDataTable=function(e){for(var t=j.settings,n=0;n<t.length;n++)if(t[n].nTable===e||t[n].nScrollHead===e||t[n].nScrollFoot===e)return!0;return!1},j.fnTables=function(e){var t=[];return jQuery.each(j.settings,function(n,i){(!e||!0===e&&h(i.nTable).is(":visible"))&&t.push(i.nTable)}),t},j.version="1.9.4",j.settings=[],j.models={},j.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:j.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:j.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},j.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},j.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},j.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},j.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(1e3>e)return e;for(var t=e+"",e=t.split(""),n="",t=t.length,i=0;t>i;i++)0===i%3&&0!==i&&(n=this.oLanguage.sInfoThousands+n),n=e[t-i-1]+n;return n},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,t,n,i){i.jqXHR=h.ajax({url:e,data:t,success:function(e){e.sError&&i.oApi._fnLog(i,0,e.sError),h(i.oInstance).trigger("xhr",[i,e]),n(e)},dataType:"json",cache:!1,type:i.sServerMethod,error:function(e,t){"parsererror"==t&&i.oApi._fnLog(i,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j="function"==typeof h.parseJSON?h.parseJSON(e):eval("("+e+")")}catch(m){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,t){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(t),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},j.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},j.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},j.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},j.ext=h.extend(!0,{},j.models.ext),h.extend(j.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),h.extend(j.ext.oJUIClasses,j.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),h.extend(j.ext.oPagination,{two_button:{fnInit:function(e,t,n){var i=e.oLanguage.oPaginate,a=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)},i=e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>':'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+i.sPrevious+'</a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+i.sNext+"</a>";
h(t).append(i);var s=h("a",t),i=s[0],s=s[1];e.oApi._fnBindAction(i,{action:"previous"},a),e.oApi._fnBindAction(s,{action:"next"},a),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",i.id=e.sTableId+"_previous",s.id=e.sTableId+"_next",i.setAttribute("aria-controls",e.sTableId),s.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(e){if(e.aanFeatures.p)for(var t,n=e.oClasses,i=e.aanFeatures.p,a=0,s=i.length;s>a;a++)(t=i[a].firstChild)&&(t.className=0===e._iDisplayStart?n.sPagePrevDisabled:n.sPagePrevEnabled,t=t.nextSibling,t.className=e.fnDisplayEnd()==e.fnRecordsDisplay()?n.sPageNextDisabled:n.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,n){var i=e.oLanguage.oPaginate,a=e.oClasses,s=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)};h(t).append('<a  tabindex="'+e.iTabIndex+'" class="'+a.sPageButton+" "+a.sPageFirst+'">'+i.sFirst+'</a><a  tabindex="'+e.iTabIndex+'" class="'+a.sPageButton+" "+a.sPagePrevious+'">'+i.sPrevious+'</a><span></span><a tabindex="'+e.iTabIndex+'" class="'+a.sPageButton+" "+a.sPageNext+'">'+i.sNext+'</a><a tabindex="'+e.iTabIndex+'" class="'+a.sPageButton+" "+a.sPageLast+'">'+i.sLast+"</a>");var r=h("a",t),i=r[0],a=r[1],o=r[2],r=r[3];e.oApi._fnBindAction(i,{action:"first"},s),e.oApi._fnBindAction(a,{action:"previous"},s),e.oApi._fnBindAction(o,{action:"next"},s),e.oApi._fnBindAction(r,{action:"last"},s),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",i.id=e.sTableId+"_first",a.id=e.sTableId+"_previous",o.id=e.sTableId+"_next",r.id=e.sTableId+"_last")},fnUpdate:function(e,t){if(e.aanFeatures.p){var n,i,a=j.ext.oPagination.iFullNumbersShowPages,s=Math.floor(a/2),r=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),o=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,l="",d=e.oClasses,u=e.aanFeatures.p,c=function(i){e.oApi._fnBindAction(this,{page:i+n-1},function(n){e.oApi._fnPageChange(e,n.data.page),t(e),n.preventDefault()})};for(-1===e._iDisplayLength?o=s=n=1:a>r?(n=1,s=r):s>=o?(n=1,s=a):o>=r-s?(n=r-a+1,s=r):(n=o-Math.ceil(a/2)+1,s=n+a-1),a=n;s>=a;a++)l+=o!==a?'<a tabindex="'+e.iTabIndex+'" class="'+d.sPageButton+'">'+e.fnFormatNumber(a)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+d.sPageButtonActive+'">'+e.fnFormatNumber(a)+"</a>";for(a=0,s=u.length;s>a;a++)i=u[a],i.hasChildNodes()&&(h("span:eq(0)",i).html(l).children("a").each(c),i=i.getElementsByTagName("a"),i=[i[0],i[1],i[i.length-2],i[i.length-1]],h(i).removeClass(d.sPageButton+" "+d.sPageButtonActive+" "+d.sPageButtonStaticDisabled),h([i[0],i[1]]).addClass(1==o?d.sPageButtonStaticDisabled:d.sPageButton),h([i[2],i[3]]).addClass(0===r||o===r||-1===e._iDisplayLength?d.sPageButtonStaticDisabled:d.sPageButton))}}}}),h.extend(j.ext.oSort,{"string-pre":function(e){return"string"!=typeof e&&(e=null!==e&&e.toString?e.toString():""),e.toLowerCase()},"string-asc":function(e,t){return t>e?-1:e>t?1:0},"string-desc":function(e,t){return t>e?1:e>t?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,t){return t>e?-1:e>t?1:0},"html-desc":function(e,t){return t>e?1:e>t?-1:0},"date-pre":function(e){return e=Date.parse(e),(isNaN(e)||""===e)&&(e=Date.parse("01/01/1970 00:00:00")),e},"date-asc":function(e,t){return e-t},"date-desc":function(e,t){return t-e},"numeric-pre":function(e){return"-"==e||""===e?0:1*e},"numeric-asc":function(e,t){return e-t},"numeric-desc":function(e,t){return t-e}}),h.extend(j.ext.aTypes,[function(e){if("number"==typeof e)return"numeric";if("string"!=typeof e)return null;var t,n=!1;if(t=e.charAt(0),-1=="0123456789-".indexOf(t))return null;for(var i=1;i<e.length;i++){if(t=e.charAt(i),-1=="0123456789.".indexOf(t))return null;if("."==t){if(n)return null;n=!0}}return"numeric"},function(e){var t=Date.parse(e);return null!==t&&!isNaN(t)||"string"==typeof e&&0===e.length?"date":null},function(e){return"string"==typeof e&&-1!=e.indexOf("<")&&-1!=e.indexOf(">")?"html":null}]),h.fn.DataTable=j,h.fn.dataTable=j,h.fn.dataTableSettings=j.settings,h.fn.dataTableExt=j.ext};"function"==typeof define&&define.amd?define(["jquery"],L):jQuery&&!jQuery.fn.dataTable&&L(jQuery)}(window,document),$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_ records per page"}}),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline"}),$.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(e,t,n){var i=e.oLanguage.oPaginate,a=function(t){t.preventDefault(),e.oApi._fnPageChange(e,t.data.action)&&n(e)};$(t).addClass("pagination").append('<ul><li class="prev disabled"><a href="#">&larr; '+i.sPrevious+"</a></li>"+'<li class="next disabled"><a href="#">'+i.sNext+" &rarr; </a></li>"+"</ul>");var s=$("a",t);$(s[0]).bind("click.DT",{action:"previous"},a),$(s[1]).bind("click.DT",{action:"next"},a)},fnUpdate:function(e,t){var n,i,a,s,r,o=5,l=e.oInstance.fnPagingInfo(),d=e.aanFeatures.p,u=Math.floor(o/2);for(l.iTotalPages<o?(s=1,r=l.iTotalPages):l.iPage<=u?(s=1,r=o):l.iPage>=l.iTotalPages-u?(s=l.iTotalPages-o+1,r=l.iTotalPages):(s=l.iPage-u+1,r=s+o-1),n=0,iLen=d.length;iLen>n;n++){for($("li:gt(0)",d[n]).filter(":not(:last)").remove(),i=s;r>=i;i++)a=i==l.iPage+1?'class="active"':"",$("<li "+a+'><a href="#">'+i+"</a></li>").insertBefore($("li:last",d[n])[0]).bind("click",function(n){n.preventDefault(),e._iDisplayStart=(parseInt($("a",this).text(),10)-1)*l.iLength,t(e)});l.iPage===0?$("li:first",d[n]).addClass("disabled"):$("li:first",d[n]).removeClass("disabled"),l.iPage===l.iTotalPages-1||l.iTotalPages===0?$("li:last",d[n]).addClass("disabled"):$("li:last",d[n]).removeClass("disabled")}}}}),$.fn.DataTable.TableTools&&($.extend(!0,$.fn.DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}}),$.extend(!0,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}})),/*
* File:        jquery.dataTables.grouping.js
* Version:     1.2.9.
* Author:      Jovan Popovic 
* 
* Copyright 2013 Jovan Popovic, all rights reserved.
*
* This source file is free software, under either the GPL v2 license or a
* BSD style license, as supplied with this software.
* 
* This source file is distributed in the hope that it will be useful, but 
* WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY 
* or FITNESS FOR A PARTICULAR PURPOSE. 
* Parameters:
* @iGroupingColumnIndex                                 Integer             Index of the column that will be used for grouping - default 0
* @sGroupingColumnSortDirection                         Enumeration         Sort direction of the group
* @iGroupingOrderByColumnIndex                          Integer             Index of the column that will be used for ordering groups
* @sGroupingClass                                       String              Class that will be associated to the group row. Default - "group"
* @sGroupItemClass                                      String              Class that will be associated to the group row of group items. Default - "group-item"
* @bSetGroupingClassOnTR                                Boolean             If set class will be set to the TR instead of the TD withing the grouping TR
* @bHideGroupingColumn                                  Boolean             Hide column used for grouping once results are grouped. Default - true
* @bHideGroupingOrderByColumn                           Boolean             Hide column used for ordering groups once results are grouped. Default - true
* @sGroupBy                                             Enumeration         Type of grouping that should be applied. Values "name"(default), "letter", "year"
* @sGroupLabelPrefix                                    String              Prefix that will be added to each group cell
* @bExpandableGrouping                                  Boolean             Attach expand/collapse handlers to the grouping rows
* @bExpandSingleGroup                                   Boolean             Use accordon grouping
* @iExpandGroupOffset                                   Integer             Number of pixels to set scroll position above the currently selected group. If -1 scroll will be alligned to the table
* General settings
* @sDateFormat: "dd/MM/yyyy"                            String              Date format used for grouping
* @sEmptyGroupLabel                                     String              Lable that will be placed as group if grouping cells are empty. Default "-"

* Parameters used in the second level grouping
* @iGroupingColumnIndex2                                Integer             Index of the secondary column that will be used for grouping - default 0
* @sGroupingColumnSortDirection2                        Enumeration         Sort direction of the secondary group
* @iGroupingOrderByColumnIndex2                         Integer             Index of the column that will be used for ordering secondary groups
* @sGroupingClass2                                      String              Class that will be associated to the secondary group row. Default "subgroup"
* @sGroupItemClass2                                     String              Class that will be associated to the secondary group row of group items. Default "subgroup-item"
* @bHideGroupingColumn2                                 Boolean             Hide column used for secondary grouping once results are grouped. Default - true,
* @bHideGroupingOrderByColumn2                          Boolean             Hide column used for ordering secondary groups once results are grouped. Default - true,
* @sGroupBy2                                            Enumeration         Type of grouping that should be applied to secondary column. Values "name"(default), "letter", "year",
* @sGroupLabelPrefix2                                   String              Prefix that will be added to each secondary group cell
* @fnOnGrouped                                          Function            Function that is called when grouping is finished. Function has no parameters.
*/
function(e){"use strict";e.fn.rowGrouping=function(t){function n(){}function i(){}function a(){}function s(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t[e-1]}var r={iGroupingColumnIndex:0,sGroupingColumnSortDirection:"",iGroupingOrderByColumnIndex:-1,sGroupingClass:"group",sGroupItemClass:"group-item",bHideGroupingColumn:!0,bHideGroupingOrderByColumn:!0,sGroupBy:"name",sGroupLabelPrefix:"",fnGroupLabelFormat:function(e){return e},bExpandableGrouping:!1,bExpandSingleGroup:!1,iExpandGroupOffset:100,asExpandedGroups:null,sDateFormat:"dd/MM/yyyy",sEmptyGroupLabel:"-",bSetGroupingClassOnTR:!1,iGroupingColumnIndex2:-1,sGroupingColumnSortDirection2:"",iGroupingOrderByColumnIndex2:-1,sGroupingClass2:"subgroup",sGroupItemClass2:"subgroup-item",bHideGroupingColumn2:!0,bHideGroupingOrderByColumn2:!0,sGroupBy2:"name",sGroupLabelPrefix2:"",fnGroupLabelFormat2:function(e){return e},bExpandableGrouping2:!1,fnOnGrouped:n,fnOnGroupCreated:i,fnOnGroupCompleted:a,oHideEffect:null,oShowEffect:null,bUseFilteringForGrouping:!1};return this.each(function(n,i){function a(t,n,i){var a=document.createElement("tr"),s=document.createElement("td");a.id="group-id-"+C.attr("id")+"_"+t;var r={id:a.id,key:t,text:n,level:0,groupItemClass:".group-item-"+t,dataGroup:t,aoSubgroups:new Array};return _.bSetGroupingClassOnTR?a.className=_.sGroupingClass+" "+t:s.className=_.sGroupingClass+" "+t,s.colSpan=i,s.innerHTML=_.sGroupLabelPrefix+_.fnGroupLabelFormat(""==n?_.sEmptyGroupLabel:n,r),_.bExpandableGrouping&&(l(t)?(s.className+=" collapsed-group",r.state="collapsed"):(s.className+=" expanded-group",r.state="expanded"),s.className+=" group-item-expander",e(s).attr("data-group",r.dataGroup),e(s).attr("data-group-level",r.level),e(s).click(b)),a.appendChild(s),S[t]=r,r.nGroup=a,_.fnOnGroupCreated(r,t,1),r}function o(t,n,i,a){var s=document.createElement("tr");s.id=a.id+"_"+t;var r=document.createElement("td"),o=a.dataGroup+"_"+t,d={id:s.id,key:t,text:n,level:a.level+1,groupItemClass:".group-item-"+o,dataGroup:o,aoSubgroups:new Array};return _.bSetGroupingClassOnTR?s.className=_.sGroupingClass2+" "+t:r.className=_.sGroupingClass2+" "+t,r.colSpan=i,r.innerHTML=_.sGroupLabelPrefix2+_.fnGroupLabelFormat2(""==n?_.sEmptyGroupLabel:n,d),_.bExpandableGrouping&&(s.className+=" group-item-"+a.dataGroup),_.bExpandableGrouping&&_.bExpandableGrouping2&&(l(d.dataGroup)?(r.className+=" collapsed-group",d.state="collapsed"):(r.className+=" expanded-group",d.state="expanded"),r.className+=" group-item-expander",e(r).attr("data-group",d.dataGroup),e(r).attr("data-group-level",d.level),e(r).click(b)),s.appendChild(r),a.aoSubgroups[d.dataGroup]=d,S[d.dataGroup]=d,d.nGroup=s,_.fnOnGroupCreated(d,t,2),d}function l(t){return S[t]!=null?S[t].state=="collapsed":t.indexOf("_")>-1?void 0:!T||null!=D&&D.length!=0?e.inArray(t,D)==-1:!1}function d(e){return e.length<w+x?e:e.substr(w,x)}function u(e){return e}function c(e){return e.substr(0,1)}function h(e){return d(e)}function p(e){return e.substr(w,x)+" "+s(e.substr(E,k))}function f(e){return""===e?"-":e.toLowerCase().replace(/[^a-zA-Z0-9\u0080-\uFFFF]+/g,"-")}function g(e,t,n){if(e.nTable.id!==C[0].id)return!0;var i=t[_.iGroupingColumnIndex];return"undefined"==typeof i&&(i=t[e.aoColumns[_.iGroupingColumnIndex].mDataProp]),l(f(i))?(C.fnIsOpen(C.fnGetNodes(n))&&(_.fnOnRowClosed!=null&&_.fnOnRowClosed(this),C.fnClose(C.fnGetNodes(n))),!1):!0}function m(t){return S[t].state="expanded",e("td[data-group^='"+t+"']").removeClass("collapsed-group"),e("td[data-group^='"+t+"']").addClass("expanded-group"),_.bUseFilteringForGrouping?(C.fnDraw(),void 0):(jQuery.inArray(t,D)==-1&&D.push(t),_.oHideEffect!=null?e(".group-item-"+t,C)[_.oShowEffect.method](_.oShowEffect.duration,_.oShowEffect.easing,function(){}):e(".group-item-"+t,C).show(),void 0)}function v(t){return S[t].state="collapsed",e("td[data-group^='"+t+"']").removeClass("expanded-group"),e("td[data-group^='"+t+"']").addClass("collapsed-group"),_.bUseFilteringForGrouping?(C.fnDraw(),void 0):(e(".group-item-"+t).each(function(){C.fnIsOpen(this)&&(_.fnOnRowClosed!=null&&_.fnOnRowClosed(this),C.fnClose(this))}),_.oHideEffect!=null?e(".group-item-"+t,C)[_.oHideEffect.method](_.oHideEffect.duration,_.oHideEffect.easing,function(){}):e(".group-item-"+t,C).hide(),void 0)}function b(t){var n=e(this).attr("data-group");e(this).attr("data-group-level");var i=!l(n);if(_.bExpandSingleGroup){if(!i){var a=e("td.expanded-group").attr("data-group");if(v(a),m(n),_.iExpandGroupOffset!=-1){var s=e("#group-id-"+C.attr("id")+"_"+n).offset().top-_.iExpandGroupOffset;window.scroll(0,s)}else{var s=C.offset().top;window.scroll(0,s)}}}else i?v(n):m(n);t.preventDefault()}function y(t){C.fnSettings().oFeatures.bServerSide&&(T=!0);var n=!1;if(_.iGroupingColumnIndex2!=-1&&(n=!0),t.aiDisplayMaster.length!=0){for(var i=e("tbody tr",C),s=0,r=0;r<t.aoColumns.length;r++)t.aoColumns[r].bVisible&&(s+=1);var d=null,u=null;if(t.aiDisplay.length>0)for(var c=0;c<i.length;c++){var h=t._iDisplayStart+c;C.fnSettings().oFeatures.bServerSide&&(h=c);var p="",g=null,m="",v=null;p=this.fnGetData(i[c],_.iGroupingColumnIndex);var g=p;if(_.sGroupBy!="year"&&(g=I(p)),n&&(m=t.aoData[t.aiDisplay[h]]._aData[_.iGroupingColumnIndex2],void 0==m&&(m=t.aoData[t.aiDisplay[h]]._aData[t.aoColumns[_.iGroupingColumnIndex2].mDataProp]),_.sGroupBy2!="year"&&(v=I(m))),null==d||f(g)!=f(d)){var b=f(g);null!=d&&_.fnOnGroupCompleted(S[f(d)]),_.bAddAllGroupsAsExpanded&&jQuery.inArray(b,D)==-1&&D.push(b);var y=a(b,g,s),w=y.nGroup;i[c].parentNode!=null?i[c].parentNode.insertBefore(w,i[c]):e(i[c]).before(w),d=g,u=null}if(e(i[c]).attr("data-group",S[b].dataGroup),e(i[c]).addClass(_.sGroupItemClass),e(i[c]).addClass("group-item-"+b),_.bExpandableGrouping&&l(b)&&!_.bUseFilteringForGrouping&&e(i[c]).hide(),n){if(null==u||f(v)!=f(u)){var x=f(g)+"-"+f(v),E=o(x,v,s,S[b]),k=E.nGroup;i[c].parentNode.insertBefore(k,i[c]),u=v}e(i[c]).attr("data-group",E.dataGroup).addClass(_.sGroupItemClass2).addClass("group-item-"+E.dataGroup)}}null!=d&&_.fnOnGroupCompleted(S[f(d)]),_.fnOnGrouped(S),T=!1}}var C=e(i).dataTable(),S=new Array;e(this).dataTableExt.aoGroups=S;var w=6,x=4,D=new Array,T=!0,_=e.extend(r,t);_.iGroupingOrderByColumnIndex==-1?(_.bCustomColumnOrdering=!1,_.iGroupingOrderByColumnIndex=_.iGroupingColumnIndex):_.bCustomColumnOrdering=!0,_.sGroupingColumnSortDirection==""&&(_.sGroupingColumnSortDirection=_.sGroupBy=="year"?"desc":"asc"),_.iGroupingOrderByColumnIndex2==-1?(_.bCustomColumnOrdering2=!1,_.iGroupingOrderByColumnIndex2=_.iGroupingColumnIndex2):_.bCustomColumnOrdering2=!0,_.sGroupingColumnSortDirection2==""&&(_.sGroupingColumnSortDirection2=_.sGroupBy2=="year"?"desc":"asc"),w=_.sDateFormat.toLowerCase().indexOf("yy"),x=_.sDateFormat.toLowerCase().lastIndexOf("y")-_.sDateFormat.toLowerCase().indexOf("y")+1;var E=_.sDateFormat.toLowerCase().indexOf("mm"),k=_.sDateFormat.toLowerCase().lastIndexOf("m")-_.sDateFormat.toLowerCase().indexOf("m")+1,I=u;switch(_.sGroupBy){case"letter":I=c;break;case"year":I=h;break;case"month":I=p;break;default:I=u}if(_.asExpandedGroups!=null){if(_.asExpandedGroups=="NONE")_.asExpandedGroups=[],D=_.asExpandedGroups,T=!1;else if(_.asExpandedGroups=="ALL")_.bAddAllGroupsAsExpanded=!0;else if(_.asExpandedGroups.constructor==String){var F=_.asExpandedGroups;_.asExpandedGroups=new Array,_.asExpandedGroups.push(f(F)),D=_.asExpandedGroups,T=!1}else if(_.asExpandedGroups.constructor==Array){for(var P=0;P<_.asExpandedGroups.length&&(D.push(f(_.asExpandedGroups[P])),!_.bExpandSingleGroup);P++);T=!1}}else _.asExpandedGroups=new Array,_.bAddAllGroupsAsExpanded=!0;if(_.bExpandSingleGroup){var R=e("tbody tr",C),A=C.fnGetData(R[0],_.iGroupingColumnIndex),N=A;_.sGroupBy!="year"&&(N=I(A));var L=f(N);_.asExpandedGroups=new Array,_.asExpandedGroups.push(L)}C.fnSetColumnVis(_.iGroupingColumnIndex,!_.bHideGroupingColumn),_.bCustomColumnOrdering&&C.fnSetColumnVis(_.iGroupingOrderByColumnIndex,!_.bHideGroupingOrderByColumn),_.iGroupingColumnIndex2!=-1&&C.fnSetColumnVis(_.iGroupingColumnIndex2,!_.bHideGroupingColumn2),_.bCustomColumnOrdering2&&C.fnSetColumnVis(_.iGroupingOrderByColumnIndex2,!_.bHideGroupingOrderByColumn2),C.fnSettings().aoDrawCallback.push({fn:y,sName:"fnRowGrouping"});var $=new Array;switch($.push([_.iGroupingOrderByColumnIndex,_.sGroupingColumnSortDirection]),_.iGroupingColumnIndex2!=-1&&$.push([_.iGroupingOrderByColumnIndex2,_.sGroupingColumnSortDirection2]),C.fnSettings().aaSortingFixed=$,_.sGroupBy){case"name":break;case"letter":C.fnSettings().aoColumns[_.iGroupingOrderByColumnIndex].sSortDataType="rg-letter",e.fn.dataTableExt.afnSortData["rg-letter"]=function(t,n){var i=[];return e("td:eq("+n+")",t.oApi._fnGetTrNodes(t)).each(function(){i.push(c(this.innerHTML))}),i};break;case"year":C.fnSettings().aoColumns[_.iGroupingOrderByColumnIndex].sSortDataType="rg-date",e.fn.dataTableExt.afnSortData["rg-date"]=function(e,t){var n=[],i=e.oApi._fnGetTrNodes(e);for(P=0;P<i.length;P++)n.push(d(C.fnGetData(i[P],t)));return n}}_.bUseFilteringForGrouping&&e.fn.dataTableExt.afnFiltering.push(g),C.fnDraw()})}}(jQuery),/*
Copyright 2012 Igor Vaynberg

Version: @@ver@@ Timestamp: @@timestamp@@

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
function(e){typeof e.fn.each2=="undefined"&&e.fn.extend({each2:function(t){for(var n=e([0]),i=-1,a=this.length;++i<a&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(e,t){for(var n=0,a=t.length;a>n;n+=1)if(i(e,t[n]))return n;return-1}function i(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function a(t,n){var i,a,s;if(null===t||t.length<1)return[];for(i=t.split(n),a=0,s=i.length;s>a;a+=1)i[a]=e.trim(i[a]);return i}function s(e){return e.outerWidth(!1)-e.width()}function r(n){var i="keyup-change-value";n.bind("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.bind("keyup",function(){var a=e.data(n,i);a!==t&&n.val()!==a&&(e.removeData(n,i),n.trigger("keyup-change"))})}function o(n){n.bind("mousemove",function(n){var i=P;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function l(e,n,i){i=i||t;var a;return function(){var t=arguments;window.clearTimeout(a),a=window.setTimeout(function(){n.apply(i,t)},e)}}function d(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function u(e,t){var i=l(e,function(e){t.trigger("scroll-debounced",e)});t.bind("scroll",function(e){n(e.target,t.get())>=0&&i(e)})}function c(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function h(e){e.preventDefault(),e.stopPropagation()}function p(e){e.preventDefault(),e.stopImmediatePropagation()}function f(t){if(!F){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);F=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),F.attr("class","select2-sizer"),e("body").append(F)}return F.text(t.val()),F.width()}function g(t,n,i){var a,s,r=[];a=t.attr("class"),"string"==typeof a&&e(a.split(" ")).each2(function(){this.indexOf("select2-")===0&&r.push(this)}),a=n.attr("class"),"string"==typeof a&&e(a.split(" ")).each2(function(){this.indexOf("select2-")!==0&&(s=i(this),"string"==typeof s&&s.length>0&&r.push(this))}),t.attr("class",r.join(" "))}function m(e,t,n,i){var a=e.toUpperCase().indexOf(t.toUpperCase()),s=t.length;return 0>a?(n.push(i(e)),void 0):(n.push(i(e.substring(0,a))),n.push("<span class='select2-match'>"),n.push(i(e.substring(a,a+s))),n.push("</span>"),n.push(i(e.substring(a+s,e.length))),void 0)}function v(t){var n,i=0,a=null,s=t.quietMillis||100,r=t.url,o=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){i+=1;var n=i,s=t.data,d=r,u=t.transport||e.ajax,c=t.type||"GET",h={};s=s?s.call(o,l.term,l.page,l.context):null,d="function"==typeof d?d.call(o,l.term,l.page,l.context):d,null!==a&&a.abort(),t.params&&(e.isFunction(t.params)?e.extend(h,t.params.call(o)):e.extend(h,t.params)),e.extend(h,{url:d,dataType:t.dataType,data:s,type:c,cache:!1,success:function(e){if(!(i>n)){var a=t.results(e,l.page);l.callback(a)}}}),a=u.call(o,h)},s)}}function b(t){var n,i,a=t,s=function(e){return""+e.text};e.isArray(a)&&(i=a,a={results:i}),e.isFunction(a)===!1&&(i=a,a=function(){return i});var r=a();return r.text&&(s=r.text,e.isFunction(s)||(n=a.text,s=function(e){return e[n]})),function(t){var n,i=t.term,r={results:[]};return""===i?(t.callback(a()),void 0):(n=function(a,r){var o,l;if(a=a[0],a.children){o={};for(l in a)a.hasOwnProperty(l)&&(o[l]=a[l]);o.children=[],e(a.children).each2(function(e,t){n(t,o.children)}),(o.children.length||t.matcher(i,s(o),a))&&r.push(o)}else t.matcher(i,s(a),a)&&r.push(a)},e(a().results).each2(function(e,t){n(t,r.results)}),t.callback(r),void 0)}}function y(n){var i=e.isFunction(n);return function(a){var s=a.term,r={results:[]};e(i?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===s||a.matcher(s,n))&&r.results.push(e?this:{id:this,text:this})}),a.callback(r)}}function C(t){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error("formatterName must be a function or a falsy value")}function S(t){return e.isFunction(t)?t():t}function w(t){var n=0;return e.each(t,function(e,t){t.children?n+=w(t.children):n++}),n}function x(e,n,a,s){var r,o,l,d,u,c=e,h=!1;if(!s.createSearchChoice||!s.tokenSeparators||s.tokenSeparators.length<1)return t;for(;;){for(o=-1,l=0,d=s.tokenSeparators.length;d>l&&(u=s.tokenSeparators[l],o=e.indexOf(u),!(o>=0));l++);if(0>o)break;if(r=e.substring(0,o),e=e.substring(o+u.length),r.length>0&&(r=s.createSearchChoice(r,n),r!==t&&null!==r&&s.id(r)!==t&&s.id(r)!==null)){for(h=!1,l=0,d=n.length;d>l;l++)if(i(s.id(r),s.id(n[l]))){h=!0;break}h||a(r)}}return c!==e?e:void 0}function D(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var T,_,E,k,I,F,P,R;T={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case T.LEFT:case T.RIGHT:case T.UP:case T.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case T.SHIFT:case T.CTRL:case T.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},R=e(document),I=function(){var e=1;return function(){return e++}}(),R.bind("mousemove",function(e){P={x:e.pageX,y:e.pageY}}),_=D(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,a,s=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&n.element.data("select2")!==null&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+I()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=d(function(){return n.element.closest("body")}),g(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(S(n.containerCss)),this.container.addClass(S(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabIndex"),this.opts.element.data("select2",this).addClass("select2-offscreen").bind("focus.select2",function(){e(this).select2("focus")}).attr("tabIndex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(S(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=i=this.container.find(s),this.search=a=this.container.find("input.select2-input"),a.attr("tabIndex",this.elementTabIndex),this.resultsPage=0,this.context=null,this.initContainer(),o(this.results),this.dropdown.delegate(s,"mousemove-filtered touchstart touchmove touchend",this.bind(this.highlightUnderEvent)),u(80,this.results),this.dropdown.delegate(s,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),e.fn.mousewheel&&i.mousewheel(function(e,t,n,a){var s=i.scrollTop();a>0&&0>=s-a?(i.scrollTop(0),h(e)):0>a&&i.get(0).scrollHeight-i.scrollTop()+a<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),h(e))}),r(a),a.bind("keyup-change input paste",this.bind(this.updateResults)),a.bind("focus",function(){a.addClass("select2-focused")}),a.bind("blur",function(){a.removeClass("select2-focused")}),this.dropdown.delegate(s,"mouseup",this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.bind("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeClass("select2-offscreen").removeData("select2").unbind(".select2").attr({tabIndex:this.elementTabIndex}).show())},prepareOpts:function(n){var s,r,o,l;if(s=n.element,s.get(0).tagName.toLowerCase()==="select"&&(this.select=r=n.element),r&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,a,s){var r,o=this.opts.id,l=this;r=function(i,a,d){var u,c,h,p,f,g,m,v,b,y;for(i=n.sortResults(i,a,s),u=0,c=i.length;c>u;u+=1)h=i[u],f=h.disabled===!0,p=!f&&o(h)!==t,g=h.children&&h.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+d),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(l.opts.formatResultCssClass(h)),v=e(document.createElement("div")),v.addClass("select2-result-label"),y=n.formatResult(h,v,s,l.opts.escapeMarkup),y!==t&&v.html(y),m.append(v),g&&(b=e("<ul></ul>"),b.addClass("select2-result-sub"),r(h.children,b,d+1),m.append(b)),m.data("select2-data",h),a.append(m)},r(a,i,0)}},e.fn.select2.defaults,n),typeof n.id!="function"&&(o=n.id,n.id=function(e){return e[o]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.attr("data-select2-tags")}if(r?(n.query=this.bind(function(n){var a,r,o,l={results:[],more:!1},d=n.term;o=function(e,t){var a;e.is("option")?n.matcher(d,e.text(),e)&&t.push({id:e.attr("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:i(e.attr("disabled"),"disabled")}):e.is("optgroup")&&(a={text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")},e.children().each2(function(e,t){o(t,a.children)}),a.children.length>0&&t.push(a))},a=s.children(),this.getPlaceholder()!==t&&a.length>0&&(r=a[0],e(r).text()===""&&(a=a.not(r))),a.each2(function(e,t){o(t,l.results)}),n.callback(l)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=v.call(n.element,n.ajax)):"data"in n?n.query=b(n.data):"tags"in n&&(n.query=y(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(e){return{id:e,text:e}}),n.initSelection===t&&(n.initSelection=function(t,s){var r=[];e(a(t.val(),n.separator)).each(function(){var t=this,a=this,s=n.tags;e.isFunction(s)&&(s=s()),e(s).each(function(){return i(this.id,t)?(a=this.text,!1):void 0}),r.push({id:t,text:a})}),s(r)}))),typeof n.query!="function")throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,t=this.opts.element;t.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e,t;e=this.opts.element.attr("disabled")!=="disabled",t=this.opts.element.attr("readonly")==="readonly",e=e&&!t,this.enabled!==e&&(e?this.enable():this.disable()),g(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(S(this.opts.containerCssClass)),g(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(this.opts.dropdownCssClass))}),t.bind("propertychange.select2 DOMAttrModified.select2",e),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(function(t){t.forEach(e)}),this.propertyObserver.observe(t.get(0),{attributes:!0,subtree:!1}))},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,i,a=this.container.offset(),s=this.container.outerHeight(!1),r=this.container.outerWidth(!1),o=this.dropdown.outerHeight(!1),l=e(window).scrollLeft()+e(window).width(),d=e(window).scrollTop()+e(window).height(),u=a.top+s,c=a.left,h=d>=u+o,p=a.top-o>=this.body().scrollTop(),f=this.dropdown.outerWidth(!1),g=l>=c+f,m=this.dropdown.hasClass("select2-drop-above");this.body().css("position")!=="static"&&(t=this.body().offset(),u-=t.top,c-=t.left),m?(n=!0,!p&&h&&(n=!1)):(n=!1,!h&&p&&(n=!0)),g||(c=a.left+r-f),n?(u=a.top-o,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),i=e.extend({top:u,left:c,width:r},S(this.opts.dropdownCss)),this.dropdown.css(i)},shouldOpen:function(){var t;return this.opened()?!1:(t=e.Event("opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){function t(){return{width:Math.max(document.documentElement.scrollWidth,e(window).width()),height:Math.max(document.documentElement.scrollHeight,e(window).height())}}var n,i=this.containerId,a="scroll."+i,s="resize."+i,r="orientationchange."+i;this.clearDropdownAlignmentPreference(),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.updateResults(!0),n=e("#select2-drop-mask"),n.length==0&&(n=e(document.createElement("div")),n.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body()),n.bind("mousedown touchstart",function(){var t,n=e("#select2-drop");n.length>0&&(t=n.data("select2"),t.opts.selectOnBlur&&t.selectHighlighted({noFocus:!0}),t.close())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),n.css(t()),n.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var o=this;this.container.parents().add(window).each(function(){e(this).bind(s+" "+a+" "+r,function(){e("#select2-drop-mask").css(t()),o.positionDropdown()})}),this.focusSearch()},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,i="resize."+t,a="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).unbind(n).unbind(i).unbind(a)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(e.Event("close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return S(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,n,i,a,s,r,o,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return l.scrollTop(0),void 0;t=this.findHighlightableChoices(),i=e(t[n]),a=i.offset().top+i.outerHeight(!0),n===t.length-1&&(o=l.find("li.select2-more-results"),o.length>0&&(a=o.offset().top+o.outerHeight(!0))),s=l.offset().top+l.outerHeight(!0),a>s&&l.scrollTop(l.scrollTop()+(a-s)),r=i.offset().top-l.offset().top,0>r&&i.css("display")!="none"&&l.scrollTop(l.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)"),this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=t;var a=e(n[i]);if(a.hasClass("select2-result-selectable")&&!a.hasClass("select2-disabled")&&!a.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var i,a,s=this.findHighlightableChoices();return arguments.length===0?n(s.filter(".select2-highlighted")[0],s.get()):(t>=s.length&&(t=s.length-1),0>t&&(t=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),i=e(s[t]),i.addClass("select2-highlighted"),this.ensureHighlightVisible(),a=i.data("select2-data"),a&&this.opts.element.trigger({type:"highlight",val:this.id(a),choice:a}),void 0)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else n.length==0&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,a=this,s=this.search.val(),r=this.context;n.length!==0&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:i,context:r,matcher:this.opts.matcher,callback:this.bind(function(e){a.opened()&&(a.opts.populateResults.call(this,t,e.results,{term:s,page:i,context:r}),a.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(a.opts.formatLoadMore(i+1)),window.setTimeout(function(){a.loadMoreIfNeeded()},10)):n.remove(),a.positionDropdown(),a.resultsPage=i,a.context=e.context)})})))},tokenize:function(){},updateResults:function(n){function a(){d.scrollTop(0),l.removeClass("select2-active"),c.positionDropdown()}function s(e){d.html(e),a()}var r,o,l=this.search,d=this.results,u=this.opts,c=this;if(n===!0||this.showSearchInput!==!1&&this.opened()){l.addClass("select2-active");var h=this.getMaximumSelectionSize();if(h>=1&&(r=this.data(),e.isArray(r)&&r.length>=h&&C(u.formatSelectionTooBig,"formatSelectionTooBig")))return s("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(h)+"</li>"),void 0;if(l.val().length<u.minimumInputLength)return C(u.formatInputTooShort,"formatInputTooShort")?s("<li class='select2-no-results'>"+u.formatInputTooShort(l.val(),u.minimumInputLength)+"</li>"):s(""),void 0;if(u.formatSearching()&&n===!0&&s("<li class='select2-searching'>"+u.formatSearching()+"</li>"),u.maximumInputLength&&l.val().length>u.maximumInputLength)return C(u.formatInputTooLong,"formatInputTooLong")?s("<li class='select2-no-results'>"+u.formatInputTooLong(l.val(),u.maximumInputLength)+"</li>"):s(""),void 0;o=this.tokenize(),o!=t&&null!=o&&l.val(o),this.resultsPage=1,u.query({element:u.element,term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(r){var o;if(this.opened()){if(this.context=r.context===t?null:r.context,this.opts.createSearchChoice&&l.val()!==""&&(o=this.opts.createSearchChoice.call(null,l.val(),r.results),o!==t&&null!==o&&c.id(o)!==t&&c.id(o)!==null&&e(r.results).filter(function(){return i(c.id(this),c.id(o))}).length===0&&r.results.unshift(o)),r.results.length===0&&C(u.formatNoMatches,"formatNoMatches"))return s("<li class='select2-no-results'>"+u.formatNoMatches(l.val())+"</li>"),void 0;d.empty(),c.opts.populateResults.call(this,d,r.results,{term:l.val(),page:this.resultsPage,context:null}),r.more===!0&&C(u.formatLoadMore,"formatLoadMore")&&(d.append("<li class='select2-more-results'>"+c.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){c.loadMoreIfNeeded()},10)),this.postprocessResults(r,n),a()}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){c(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i&&(this.highlight(t),this.onSelect(i,e))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,i,a,s,r;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),s=0,r=i.length;r>s;s+=1)if(a=i[s].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==a&&a.length>=1)return a[1];return this.opts.width==="resolve"?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),E=D(_,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop' style='display:none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.focusser.attr("disabled","disabled"))},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.focusser.removeAttr("disabled"))},opening:function(){this.parent.opening.apply(this,arguments),this.focusser.attr("disabled","disabled"),this.opts.element.trigger(e.Event("open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),c(this.focusser))},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var e,t=this.container,n=this.dropdown,i=!1;this.showSearch(this.opts.minimumResultsForSearch>=0),this.selection=e=t.find(".select2-choice"),this.focusser=t.find(".select2-focusser"),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===T.PAGE_UP||e.which===T.PAGE_DOWN)return h(e),void 0;switch(e.which){case T.UP:case T.DOWN:return this.moveHighlight(e.which===T.UP?-1:1),h(e),void 0;case T.TAB:case T.ENTER:return this.selectHighlighted(),h(e),void 0;case T.ESC:return this.cancel(e),h(e),void 0}}})),this.search.bind("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.bind("keydown",this.bind(function(e){return!this.enabled||e.which===T.TAB||T.isControl(e)||T.isFunctionKey(e)||e.which===T.ESC?void 0:this.opts.openOnEnter===!1&&e.which===T.ENTER?(h(e),void 0):e.which==T.DOWN||e.which==T.UP||e.which==T.ENTER&&this.opts.openOnEnter?(this.open(),h(e),void 0):e.which==T.DELETE||e.which==T.BACKSPACE?(this.opts.allowClear&&this.clear(),h(e),void 0):void 0})),r(this.focusser),this.focusser.bind("keyup-change input",this.bind(function(e){this.opened()||(this.open(),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.focusser.val(""),h(e))})),e.delegate("abbr","mousedown",this.bind(function(e){this.enabled&&(this.clear(),p(e),this.close(),this.selection.focus())})),e.bind("mousedown",this.bind(function(e){i=!0,this.opened()?this.close():this.enabled&&this.open(),h(e),i=!1})),n.bind("mousedown",this.bind(function(){this.search.focus()})),e.bind("focus",this.bind(function(e){h(e)})),this.focusser.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})).bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active")})),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");t&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t})))},initSelection:function(){if(this.opts.element.val()===""&&this.opts.element.text()==="")this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(t,n){var i=t.find(":selected");e.isFunction(n)&&n({id:i.attr("value"),text:i.text(),element:i})}:"data"in t&&(t.initSelection=t.initSelection||function(n,a){var s=n.val(),r=null;t.query({matcher:function(e,n,a){var o=i(s,t.id(a));return o&&(r=a),o},callback:e.isFunction(a)?function(){a(r)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.select.find("option").first().text()!==""?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.opts.element.val()===""&&e!==t){if(this.select&&this.select.find("option:first").text()!=="")return;this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(e,t,n){var a=0,s=this,r=!0;if(this.findHighlightableChoices().each2(function(e,t){return i(s.id(t.data("select2-data")),s.opts.element.val())?(a=e,!1):void 0}),n!==!1&&this.highlight(a),t===!0){var o=this.opts.minimumResultsForSearch;r=0>o?!1:w(e.results)>=o,this.showSearch(r)}},showSearch:function(t){this.showSearchInput=t,this.dropdown.find(".select2-search")[t?"removeClass":"addClass"]("select2-search-hidden"),e(this.dropdown,this.container)[t?"addClass":"removeClass"]("select2-with-searchbox")},onSelect:function(e,t){var n=this.opts.element.val();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.close(),t&&t.noFocus||this.selection.focus(),i(n,this.id(e))||this.triggerChange()},updateSelection:function(e){var n,i=this.selection.find("span");this.selection.data("select2-data",e),i.empty(),n=this.opts.formatSelection(e,i),n!==t&&i.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.selection.find("abbr").show()},val:function(){var e,n=!1,i=null,a=this;if(arguments.length===0)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return i={id:t.attr("value"),text:t.text(),element:t.get(0)},!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange();else{if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");if(!e&&0!==e)return this.clear(n),n&&this.triggerChange(),void 0;this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){a.opts.element.val(e?a.id(e):""),a.updateSelection(e),a.setPlaceholder(),n&&a.triggerChange()})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n;return arguments.length===0?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(e&&""!==e?(this.opts.element.val(e?this.id(e):""),this.updateSelection(e)):this.clear(),void 0)}}),k=D(_,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(e,t){var n=[];e.find(":selected").each2(function(e,t){n.push({id:t.attr("value"),text:t.text(),element:t[0]})}),t(n)}:"data"in t&&(t.initSelection=t.initSelection||function(n,s){var r=a(n.val(),t.separator),o=[];t.query({matcher:function(n,a,s){var l=e.grep(r,function(e){return i(e,t.id(s))}).length;return l&&o.push(s),l},callback:e.isFunction(s)?function(){s(o)}:e.noop})}),t},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n),this.search.bind("input paste",this.bind(function(){this.enabled&&(this.opened()||this.open())})),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===T.BACKSPACE&&this.search.val()===""){this.close();var n,i=t.find(".select2-search-choice-focus");if(i.length>0)return this.unselect(i.first()),this.search.width(10),h(e),void 0;n=t.find(".select2-search-choice:not(.select2-locked)"),n.length>0&&n.last().addClass("select2-search-choice-focus")}else t.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(e.which){case T.UP:case T.DOWN:return this.moveHighlight(e.which===T.UP?-1:1),h(e),void 0;case T.ENTER:case T.TAB:return this.selectHighlighted(),h(e),void 0;case T.ESC:return this.cancel(e),h(e),void 0}if(e.which!==T.TAB&&!T.isControl(e)&&!T.isFunctionKey(e)&&e.which!==T.BACKSPACE&&e.which!==T.ESC){if(e.which===T.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===T.PAGE_UP||e.which===T.PAGE_DOWN)&&h(e)}}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.opened()||this.clearSearch(),e.stopImmediatePropagation()})),this.container.delegate(n,"mousedown",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.delegate(n,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||this.opts.element.val()!==""){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder();e!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(this.getMaxSearchWidth())):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")
},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch(),this.opts.element.trigger(e.Event("open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus(),this.opts.element.triggerHandler("focus")},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],a=[],s=this;e(t).each(function(){n(s.id(this),i)<0&&(i.push(s.id(this)),a.push(this))}),t=a,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){s.addSelectedChoice(this)}),s.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,a=!n.locked,s=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=e("<li class='select2-search-choice select2-locked'><div></div></li>"),o=a?s:r,l=this.id(n),d=this.getVal();i=this.opts.formatSelection(n,o.find("div")),i!=t&&o.find("div").replaceWith("<div>"+this.opts.escapeMarkup(i)+"</div>"),a&&o.find(".select2-search-choice-close").bind("mousedown",h).bind("click dblclick",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),h(t))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),o.data("select2-data",n),o.insertBefore(this.searchContainer),d.push(l),this.setVal(d)},unselect:function(e){var t,i,a=this.getVal();if(e=e.closest(".select2-search-choice"),e.length===0)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),t&&(i=n(this.id(t),a),i>=0&&(a.splice(i,1),this.setVal(a),this.select&&this.postprocessResults()),e.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))},postprocessResults:function(){var e=this.getVal(),t=this.results.find(".select2-result"),i=this.results.find(".select2-result-with-children"),a=this;t.each2(function(t,i){var s=a.id(i.data("select2-data"));n(s,e)>=0&&(i.addClass("select2-selected"),i.find(".select2-result-selectable").addClass("select2-selected"))}),i.each2(function(e,t){t.is(".select2-result-selectable")||t.find(".select2-result-selectable:not(.select2-selected)").length!==0||t.addClass("select2-selected")}),this.highlight()==-1&&a.highlight(0)},getMaxSearchWidth:function(){return this.selection.width()-s(this.search)},resizeSearch:function(){var e,t,n,i,a,r=s(this.search);e=f(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,a=n-(t-i)-r,e>a&&(a=n-r),40>a&&(a=n-r),0>=a&&(a=e),this.search.width(a)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),a(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){n(this,i)<0&&i.push(this)}),this.opts.element.val(i.length===0?"":i.join(this.opts.separator)))},val:function(){var n,i=!1,a=this;if(arguments.length===0)return this.getVal();if(n=arguments[0],arguments.length>1&&(i=arguments[1]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),i&&this.triggerChange(),void 0;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange();else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e(t).map(a.id);a.setVal(n),a.updateSelection(t),a.clearSearch(),i&&a.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t){var n,i=this;return arguments.length===0?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(t||(t=[]),n=e.map(t,function(e){return i.opts.id(e)}),this.setVal(n),this.updateSelection(t),this.clearSearch(),void 0)}}),e.fn.select2=function(){var i,a,s,r,o=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(o.length===0||typeof o[0]=="object")i=o.length===0?{}:e.extend({},o[0]),i.element=e(this),i.element.get(0).tagName.toLowerCase()==="select"?r=i.element.attr("multiple"):(r=i.multiple||!1,"tags"in i&&(i.multiple=r=!0)),a=r?new k:new E,a.init(i);else{if(typeof o[0]!="string")throw"Invalid arguments to select2 plugin: "+o;if(n(o[0],l)<0)throw"Unknown method: "+o[0];if(s=t,a=e(this).data("select2"),a===t)return;if(s=o[0]==="container"?a.container:a[o[0]].apply(a,o.slice(1)),s!==t)return!1}}),s===t?this:s},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var a=[];return m(e.text,n.term,a,i),a.join("")},formatSelection:function(e){return e?e.text:t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please enter "+n+" less character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return t.toUpperCase().indexOf(e.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:x,escapeMarkup:function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#47;"};return String(e).replace(/[&<>"'/\\]/g,function(e){return t[e[0]]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null}},window.Select2={query:{ajax:v,local:b,tags:y},util:{debounce:l,markMatch:m},"class":{"abstract":_,single:E,multi:k}}}}(jQuery),/*!
* Jasny-Bootstrap.js j2 by @ArnoldDaniels
* Copyright 2012 Jasny BV.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(e){"use strict";var t=window.orientation!==void 0,n=navigator.userAgent.toLowerCase().indexOf("android")>-1;e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."},dataName:"rawMaskFn"};var i=function(t,i){n||(this.$element=e(t),this.mask=String(i.mask),this.options=e.extend({},e.fn.inputmask.defaults,i),this.init(),this.listen(),this.checkVal())};i.prototype={init:function(){var t=e.mask.definitions,n=this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,e.each(this.mask.split(""),e.proxy(function(e,i){"?"==i?(n--,this.partialPosition=e):t[i]?(this.tests.push(new RegExp(t[i])),this.firstNonMaskPos===null&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=e.map(this.mask.split(""),e.proxy(function(e){return"?"!=e?t[e]?this.options.placeholder:e:void 0},this)),this.focusText=this.$element.val(),this.$element.data(e.mask.dataName,e.proxy(function(){return e.map(this.buffer,function(e,t){return this.tests[t]&&e!=this.options.placeholder?e:null}).join("")},this))},listen:function(){if(!this.$element.attr("readonly")){var t=(e.browser.msie?"paste":"input")+".mask";this.$element.on("unmask",e.proxy(this.unmask,this)).on("focus.mask",e.proxy(this.focusEvent,this)).on("blur.mask",e.proxy(this.blurEvent,this)).on("keydown.mask",e.proxy(this.keydownEvent,this)).on("keypress.mask",e.proxy(this.keypressEvent,this)).on(t,e.proxy(this.pasteEvent,this))}},caret:function(e,t){if(this.$element.length!==0){if("number"==typeof e)return t="number"==typeof t?t:e,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(e,t);else if(this.createTextRange){var n=this.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}});if(this.$element[0].setSelectionRange)e=this.$element[0].selectionStart,t=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var n=document.selection.createRange();e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length}return{begin:e,end:t}}},seekNext:function(e){for(var t=this.mask.length;++e<=t&&!this.tests[e];);return e},seekPrev:function(e){for(;--e>=0&&!this.tests[e];);return e},shiftL:function(e,t){var n=this.mask.length;if(!(0>e)){for(var i=e,a=this.seekNext(t);n>i;i++)if(this.tests[i]){if(!(n>a&&this.tests[i].test(this.buffer[a])))break;this.buffer[i]=this.buffer[a],this.buffer[a]=this.options.placeholder,a=this.seekNext(a)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,e))}},shiftR:function(e){for(var t=this.mask.length,n=e,i=this.options.placeholder;t>n;n++)if(this.tests[n]){var a=this.seekNext(n),s=this.buffer[n];if(this.buffer[n]=i,!(t>a&&this.tests[a].test(s)))break;i=s}},unmask:function(){this.$element.unbind(".mask").removeData("inputmask")},focusEvent:function(){this.focusText=this.$element.val();var t=this.mask.length,n=this.checkVal();this.writeBuffer();var i=this,a=function(){n==t?i.caret(0,n):i.caret(n)};e.browser.msie?a():setTimeout(a,0)},blurEvent:function(){this.checkVal(),this.$element.val()!=this.focusText&&this.$element.trigger("change")},keydownEvent:function(e){var n=e.which;if(8==n||46==n||t&&127==n){var i=this.caret(),a=i.begin,s=i.end;return 0===s-a&&(a=46!=n?this.seekPrev(a):s=this.seekNext(a-1),s=46==n?this.seekNext(s):s),this.clearBuffer(a,s),this.shiftL(a,s-1),!1}return 27==n?(this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1):void 0},keypressEvent:function(e){var t=this.mask.length,n=e.which,i=this.caret();if(e.ctrlKey||e.altKey||e.metaKey||32>n)return!0;if(n){i.end-i.begin!==0&&(this.clearBuffer(i.begin,i.end),this.shiftL(i.begin,i.end-1));var a=this.seekNext(i.begin-1);if(t>a){var s=String.fromCharCode(n);if(this.tests[a].test(s)){this.shiftR(a),this.buffer[a]=s,this.writeBuffer();var r=this.seekNext(a);this.caret(r)}}return!1}},pasteEvent:function(){var e=this;setTimeout(function(){e.caret(e.checkVal(!0))},0)},clearBuffer:function(e,t){for(var n=this.mask.length,i=e;t>i&&n>i;i++)this.tests[i]&&(this.buffer[i]=this.options.placeholder)},writeBuffer:function(){return this.$element.val(this.buffer.join("")).val()},checkVal:function(e){for(var t=this.mask.length,n=this.$element.val(),i=-1,a=0,s=0;t>a;a++)if(this.tests[a]){for(this.buffer[a]=this.options.placeholder;s++<n.length;){var r=n.charAt(s-1);if(this.tests[a].test(r)){this.buffer[a]=r,i=a;break}}if(s>n.length)break}else this.buffer[a]==n.charAt(s)&&a!=this.partialPosition&&(s++,i=a);return!e&&i+1<this.partialPosition?(this.$element.val(""),this.clearBuffer(0,t)):(e||i+1>=this.partialPosition)&&(this.writeBuffer(),e||this.$element.val(this.$element.val().substring(0,i+1))),this.partialPosition?a:this.firstNonMaskPos}},e.fn.inputmask=function(t){return this.each(function(){var n=e(this),a=n.data("inputmask");a||n.data("inputmask",a=new i(this,t))})},e.fn.inputmask.defaults={placeholder:"_"},e.fn.inputmask.Constructor=i,e(function(){e("body").on("focus.inputmask.data-api","[data-mask]",function(t){var n=e(this);n.data("inputmask")||(t.preventDefault(),n.inputmask(n.data()))})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){n=e.extend({},e.fn.rowlink.defaults,n);var i=t.nodeName=="tr"?e(t):e(t).find("tr:has(td)");i.each(function(){var t=e(this).find(n.target).first();if(t.length){var i=t.attr("href");e(this).find("td").not(".nolink").click(function(){window.location=i}),e(this).addClass("rowlink"),t.replaceWith(t.html())}})};e.fn.rowlink=function(n){return this.each(function(){var i=e(this),a=i.data("rowlink");a||i.data("rowlink",a=new t(this,n))})},e.fn.rowlink.defaults={target:"a"},e.fn.rowlink.Constructor=t,e(function(){e('[data-provides="rowlink"]').each(function(){e(this).rowlink(e(this).data())})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){if(this.$element=e(t),this.type=this.$element.data("uploadtype")||(this.$element.find(".thumbnail").length>0?"image":"file"),this.$input=this.$element.find(":file"),this.$input.length!==0){this.name=this.$input.attr("name")||n.name,this.$hidden=this.$element.find(':hidden[name="'+this.name+'"]'),this.$hidden.length===0&&(this.$hidden=e('<input type="hidden" />'),this.$element.prepend(this.$hidden)),this.$preview=this.$element.find(".fileupload-preview");var i=this.$preview.css("height");this.$preview.css("display")!="inline"&&"0px"!=i&&"none"!=i&&this.$preview.css("line-height",i),this.$remove=this.$element.find('[data-dismiss="fileupload"]'),this.$element.find('[data-trigger="fileupload"]').on("click.fileupload",e.proxy(this.trigger,this)),this.listen()}};t.prototype={listen:function(){this.$input.on("change.fileupload",e.proxy(this.change,this)),this.$remove&&this.$remove.on("click.fileupload",e.proxy(this.clear,this))},change:function(e,t){var n=e.target.files!==void 0?e.target.files[0]:e.target.value?{name:e.target.value.replace(/^.+\\/,"")}:null;if("clear"!==t){if(!n)return this.clear(),void 0;if(this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name),this.type==="image"&&this.$preview.length>0&&(typeof n.type!="undefined"?n.type.match("image.*"):n.name.match("\\.(gif|png|jpe?g)$"))&&"undefined"!=typeof FileReader){var i=new FileReader,a=this.$preview,s=this.$element;i.onload=function(e){a.html('<img src="'+e.target.result+'" '+(a.css("max-height")!="none"?'style="max-height: '+a.css("max-height")+';"':"")+" />"),s.addClass("fileupload-exists").removeClass("fileupload-new")},i.readAsDataURL(n)}else this.$preview.text(n.name),this.$element.addClass("fileupload-exists").removeClass("fileupload-new")}},clear:function(e){this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),this.$input.val(""),this.$preview.html(""),this.$element.addClass("fileupload-new").removeClass("fileupload-exists"),e&&(this.$input.trigger("change",["clear"]),e.preventDefault())},trigger:function(e){this.$input.trigger("click"),e.preventDefault()}},e.fn.fileupload=function(n){return this.each(function(){var i=e(this),a=i.data("fileupload");a||i.data("fileupload",a=new t(this,n))})},e.fn.fileupload.Constructor=t,e(function(){e("body").on("click.fileupload.data-api",'[data-provides="fileupload"]',function(t){var n=e(this);if(!n.data("fileupload")){n.fileupload(n.data());var i=e(t.target).parents("[data-dismiss=fileupload],[data-trigger=fileupload]").first();i.length>0&&(i.trigger("click.fileupload"),t.preventDefault())}})})}(window.jQuery),/* ===========================================================
 * bootstrap-fileupload.js j2
 * http://jasny.github.com/bootstrap/javascript.html#fileupload
 * ===========================================================
 * Copyright 2012 Jasny BV, Netherlands.
 *
 * Licensed under the Apache License, Version 2.0 (the "License")
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){if(this.$element=e(t),this.type=this.$element.data("uploadtype")||(this.$element.find(".thumbnail").length>0?"image":"file"),this.$input=this.$element.find(":file"),this.$input.length!==0){this.name=this.$input.attr("name")||n.name,this.$hidden=this.$element.find(':hidden[name="'+this.name+'"]'),this.$hidden.length===0&&(this.$hidden=e('<input type="hidden" />'),this.$element.prepend(this.$hidden)),this.$preview=this.$element.find(".fileupload-preview");var i=this.$preview.css("height");this.$preview.css("display")!="inline"&&"0px"!=i&&"none"!=i&&this.$preview.css("line-height",i),this.$remove=this.$element.find('[data-dismiss="fileupload"]'),this.$element.find('[data-trigger="fileupload"]').on("click.fileupload",e.proxy(this.trigger,this)),this.listen()}};t.prototype={listen:function(){this.$input.on("change.fileupload",e.proxy(this.change,this)),this.$remove&&this.$remove.on("click.fileupload",e.proxy(this.clear,this))},change:function(e,t){var n=e.target.files!==void 0?e.target.files[0]:e.target.value?{name:e.target.value.replace(/^.+\\/,"")}:null;if("clear"!==t){if(!n)return this.clear(),void 0;if(this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name),this.type==="image"&&this.$preview.length>0&&(typeof n.type!="undefined"?n.type.match("image.*"):n.name.match("\\.(gif|png|jpe?g)$"))&&"undefined"!=typeof FileReader){var i=new FileReader,a=this.$preview,s=this.$element;i.onload=function(e){a.html('<img src="'+e.target.result+'" '+(a.css("max-height")!="none"?'style="max-height: '+a.css("max-height")+';"':"")+" />"),s.addClass("fileupload-exists").removeClass("fileupload-new")},i.readAsDataURL(n)}else this.$preview.text(n.name),this.$element.addClass("fileupload-exists").removeClass("fileupload-new")}},clear:function(e){this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),this.$input.val(""),this.$preview.html(""),this.$element.addClass("fileupload-new").removeClass("fileupload-exists"),e&&(this.$input.trigger("change",["clear"]),e.preventDefault())},trigger:function(e){this.$input.trigger("click"),e.preventDefault()}},e.fn.fileupload=function(n){return this.each(function(){var i=e(this),a=i.data("fileupload");a||i.data("fileupload",a=new t(this,n))})},e.fn.fileupload.Constructor=t,e(function(){e("body").on("click.fileupload.data-api",'[data-provides="fileupload"]',function(t){var n=e(this);if(!n.data("fileupload")){n.fileupload(n.data());var i=e(t.target).parents("[data-dismiss=fileupload],[data-trigger=fileupload]").first();i.length>0&&(i.trigger("click.fileupload"),t.preventDefault())}})})}(window.jQuery),function(){function e(){this.returnValue=!1}function t(){this.cancelBubble=!0}var n,i,a=0,s=[],r={},o={},l={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},d=/[<>&\"\']/g,u=window.setTimeout,c={};(function(e){var t,n,i,a=e.split(/,/);for(t=0;t<a.length;t+=2)for(i=a[t+1].split(/ /),n=0;n<i.length;n++)o[i[n]]=a[t]})("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe");var h={VERSION:"1.5.4",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:o,ua:function(){var e,t,n,i=navigator,a=i.userAgent,s=i.vendor;return e=/WebKit/.test(a),n=e&&s.indexOf("Apple")!==-1,t=window.opera&&window.opera.buildNumber,{windows:navigator.platform.indexOf("Win")!==-1,ie:!e&&!t&&/MSIE/gi.test(a)&&/Explorer/gi.test(i.appName),webkit:e,gecko:!e&&/Gecko/.test(a),safari:n,opera:!!t}}(),typeOf:function(e){return{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(e){return h.each(arguments,function(t,n){n>0&&h.each(t,function(t,n){e[n]=t})}),e},cleanName:function(e){var t,n;for(n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},addRuntime:function(e,t){return t.name=e,s[e]=t,s.push(t),t},guid:function(){var e,t=(new Date).getTime().toString(32);for(e=0;5>e;e++)t+=Math.floor(Math.random()*65535).toString(32);return(h.guidPrefix||"p")+t+(a++).toString(32)},buildUrl:function(e,t){var n="";return h.each(t,function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},each:function(e,t){var i,a,s;if(e)if(i=e.length,i===n){for(a in e)if(e.hasOwnProperty(a)&&t(e[a],a)===!1)return}else for(s=0;i>s;s++)if(t(e[s],s)===!1)return},formatSize:function(e){return e===n||/\D/.test(e)?h.translate("N/A"):e>1073741824?Math.round(e/1073741824,1)+" GB":e>1048576?Math.round(e/1048576,1)+" MB":e>1024?Math.round(e/1024,1)+" KB":e+" b"},getPos:function(e,t){function n(e){var t,n,i=0,a=0;return e&&(n=e.getBoundingClientRect(),t=l.compatMode==="CSS1Compat"?l.documentElement:l.body,i=n.left+t.scrollLeft,a=n.top+t.scrollTop),{x:i,y:a}}var i,a,s,r=0,o=0,l=document;if(e=e,t=t||l.body,e&&e.getBoundingClientRect&&navigator.userAgent.indexOf("MSIE")>0&&l.documentMode<8)return a=n(e),s=n(t),{x:a.x-s.x,y:a.y-s.y};for(i=e;i&&i!=t&&i.nodeType;)r+=i.offsetLeft||0,o+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!=t&&i.nodeType;)r-=i.scrollLeft||0,o-=i.scrollTop||0,i=i.parentNode;return{x:r,y:o}},getSize:function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}},parseSize:function(e){var t;return"string"==typeof e&&(e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],"g"==t&&(e*=1073741824),"m"==t&&(e*=1048576),"k"==t&&(e*=1024)),e},xmlEncode:function(e){return e?(""+e).replace(d,function(e){return l[e]?"&"+l[e]+";":e}):e},toArray:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},inArray:function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n}return-1},addI18n:function(e){return h.extend(r,e)},translate:function(e){return r[e]||e},isEmptyObj:function(e){if(e===n)return!0;for(var t in e)return!1;return!0},hasClass:function(e,t){var n;return e.className==""?!1:(n=new RegExp("(^|\\s+)"+t+"(\\s+|$)"),n.test(e.className))},addClass:function(e,t){h.hasClass(e,t)||(e.className=e.className==""?t:e.className.replace(/\s+$/,"")+" "+t)},removeClass:function(e,t){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,function(e,t,n){return" "===t&&" "===n?" ":""})},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},addEvent:function(a,s,r){var o,l,d;d=arguments[3],s=s.toLowerCase(),i===n&&(i="Plupload_"+h.guid()),a.addEventListener?(o=r,a.addEventListener(s,o,!1)):a.attachEvent&&(o=function(){var n=window.event;n.target||(n.target=n.srcElement),n.preventDefault=e,n.stopPropagation=t,r(n)},a.attachEvent("on"+s,o)),a[i]===n&&(a[i]=h.guid()),c.hasOwnProperty(a[i])||(c[a[i]]={}),l=c[a[i]],l.hasOwnProperty(s)||(l[s]=[]),l[s].push({func:o,orig:r,key:d})},removeEvent:function(e,t){var a,s,r;if(typeof arguments[2]=="function"?s=arguments[2]:r=arguments[2],t=t.toLowerCase(),e[i]&&c[e[i]]&&c[e[i]][t]){a=c[e[i]][t];for(var o=a.length-1;o>=0&&(a[o].key!==r&&a[o].orig!==s||(e.removeEventListener?e.removeEventListener(t,a[o].func,!1):e.detachEvent&&e.detachEvent("on"+t,a[o].func),a[o].orig=null,a[o].func=null,a.splice(o,1),s===n));o--);if(a.length||delete c[e[i]][t],h.isEmptyObj(c[e[i]])){delete c[e[i]];try{delete e[i]}catch(l){e[i]=n}}}},removeAllEvents:function(e){var t=arguments[1];e[i]!==n&&e[i]&&h.each(c[e[i]],function(n,i){h.removeEvent(e,i,t)})}};h.Uploader=function(e){function t(){var e,t,n=0;if(this.state==h.STARTED){for(t=0;t<l.length;t++)e||l[t].status!=h.QUEUED?n++:(e=l[t],e.status=h.UPLOADING,this.trigger("BeforeUpload",e)&&this.trigger("UploadFile",e));n==l.length&&(this.stop(),this.trigger("UploadComplete",l))}}function i(){var e,t;for(a.reset(),e=0;e<l.length;e++)t=l[e],t.size!==n?(a.size+=t.size,a.loaded+=t.loaded):a.size=n,t.status==h.DONE?a.uploaded++:t.status==h.FAILED?a.failed++:a.queued++;a.size===n?a.percent=l.length>0?Math.ceil(a.uploaded/l.length*100):0:(a.bytesPerSec=Math.ceil(a.loaded/((+new Date-r||1)/1e3)),a.percent=a.size>0?Math.ceil(a.loaded/a.size*100):0)}var a,r,o={},l=[],d=!1;a=new h.QueueProgress,e=h.extend({chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",filters:[]},e),h.extend(this,{state:h.STOPPED,runtime:"",features:{},files:l,settings:e,total:a,id:h.guid(),init:function(){function a(){var e,t,n,i=d[f++];if(i){if(e=i.getFeatures(),t=p.settings.required_features)for(t=t.split(","),n=0;n<t.length;n++)if(!e[t[n]])return a(),void 0;i.init(p,function(t){t&&t.success?(p.features=e,p.runtime=i.name,p.trigger("Init",{runtime:i.name}),p.trigger("PostInit"),p.refresh()):a()})}else p.trigger("Error",{code:h.INIT_ERROR,message:h.translate("Init error.")})}var o,d,c,p=this,f=0;if(typeof e.preinit=="function"?e.preinit(p):h.each(e.preinit,function(e,t){p.bind(t,e)}),e.page_url=e.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/"),/^(\w+:\/\/|\/)/.test(e.url)||(e.url=e.page_url+e.url),e.chunk_size=h.parseSize(e.chunk_size),e.max_file_size=h.parseSize(e.max_file_size),p.bind("FilesAdded",function(t,i){var a,s,r,o=0,d=e.filters;for(d&&d.length&&(r=[],h.each(d,function(e){h.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?r.push("\\.*"):r.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),r=new RegExp(r.join("|")+"$","i")),a=0;a<i.length;a++)s=i[a],s.loaded=0,s.percent=0,s.status=h.QUEUED,!r||r.test(s.name)?s.size!==n&&s.size>e.max_file_size?t.trigger("Error",{code:h.FILE_SIZE_ERROR,message:h.translate("File size error."),file:s}):(l.push(s),o++):t.trigger("Error",{code:h.FILE_EXTENSION_ERROR,message:h.translate("File extension error."),file:s});return o?(u(function(){p.trigger("QueueChanged"),p.refresh()},1),void 0):!1}),e.unique_names&&p.bind("UploadFile",function(e,t){var n=t.name.match(/\.([^.]+)$/),i="tmp";n&&(i=n[1]),t.target_name=t.id+"."+i}),p.bind("UploadProgress",function(e,t){t.percent=t.size>0?Math.ceil(t.loaded/t.size*100):100,i()}),p.bind("StateChanged",function(e){if(e.state==h.STARTED)r=+new Date;else if(e.state==h.STOPPED)for(o=e.files.length-1;o>=0;o--)e.files[o].status==h.UPLOADING&&(e.files[o].status=h.QUEUED,i())}),p.bind("QueueChanged",i),p.bind("Error",function(e,n){n.file&&(n.file.status=h.FAILED,i(),e.state==h.STARTED&&u(function(){t.call(p)},1))}),p.bind("FileUploaded",function(e,n){n.status=h.DONE,n.loaded=n.size,e.trigger("UploadProgress",n),u(function(){t.call(p)},1)}),e.runtimes)for(d=[],c=e.runtimes.split(/\s?,\s?/),o=0;o<c.length;o++)s[c[o]]&&d.push(s[c[o]]);else d=s;a(),typeof e.init=="function"?e.init(p):h.each(e.init,function(e,t){p.bind(t,e)})},refresh:function(){this.trigger("Refresh")},start:function(){l.length&&this.state!=h.STARTED&&(this.state=h.STARTED,this.trigger("StateChanged"),t.call(this))},stop:function(){this.state!=h.STOPPED&&(this.state=h.STOPPED,this.trigger("CancelUpload"),this.trigger("StateChanged"))},disableBrowse:function(){d=arguments[0]!==n?arguments[0]:!0,this.trigger("DisableBrowse",d)},getFile:function(e){var t;for(t=l.length-1;t>=0;t--)if(l[t].id===e)return l[t]},removeFile:function(e){var t;for(t=l.length-1;t>=0;t--)if(l[t].id===e.id)return this.splice(t,1)[0]},splice:function(e,t){var i;return i=l.splice(e===n?0:e,t===n?l.length:t),this.trigger("FilesRemoved",i),this.trigger("QueueChanged"),i},trigger:function(e){var t,n,i=o[e.toLowerCase()];if(i)for(n=Array.prototype.slice.call(arguments),n[0]=this,t=0;t<i.length;t++)if(i[t].func.apply(i[t].scope,n)===!1)return!1;return!0},hasEventListener:function(e){return!!o[e.toLowerCase()]},bind:function(e,t,n){var i;e=e.toLowerCase(),i=o[e]||[],i.push({func:t,scope:n||this}),o[e]=i},unbind:function(e){e=e.toLowerCase();var t,i=o[e],a=arguments[1];if(i){if(a!==n){for(t=i.length-1;t>=0;t--)if(i[t].func===a){i.splice(t,1);break}}else i=[];i.length||delete o[e]}},unbindAll:function(){var e=this;h.each(o,function(t,n){e.unbind(n)})},destroy:function(){this.stop(),this.trigger("Destroy"),this.unbindAll()}})},h.File=function(e,t,n){var i=this;i.id=e,i.name=t,i.size=n,i.loaded=0,i.percent=0,i.status=0},h.Runtime=function(){this.getFeatures=function(){},this.init=function(){}},h.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},h.runtimes={},window.plupload=h}(),function(){if(!window.google||!google.gears){var e=null;if("undefined"!=typeof GearsFactory)e=new GearsFactory;else try{e=new ActiveXObject("Gears.Factory"),e.getBuildInfo().indexOf("ie_mobile")!=-1&&e.privateSetGlobalObject(this)}catch(t){typeof navigator.mimeTypes!="undefined"&&navigator.mimeTypes["application/x-googlegears"]&&(e=document.createElement("object"),e.style.display="none",e.width=0,e.height=0,e.type="application/x-googlegears",document.documentElement.appendChild(e))}e&&(window.google||(window.google={}),google.gears||(google.gears={factory:e}))}}(),function(e,t,n){function i(e,t,n){var i,a;i=google.gears.factory.create("beta.canvas");try{if(i.decode(e),t.width||(t.width=i.width),t.height||(t.height=i.height),a=Math.min(width/i.width,height/i.height),1>a||1===a&&"image/jpeg"===n)return i.resize(Math.round(i.width*a),Math.round(i.height*a)),t.quality?i.encode(n,{quality:t.quality/100}):i.encode(n)}catch(s){}return e}var a={};n.runtimes.Gears=n.addRuntime("gears",{getFeatures:function(){return{dragdrop:!0,jpgresize:!0,pngresize:!0,chunks:!0,progress:!0,multipart:!0,multi_selection:!0}},init:function(s,r){function o(e){var t,i,r,o=[];for(i=0;i<e.length;i++)t=e[i],r=n.guid(),a[r]=t.blob,o.push(new n.File(r,t.name,t.blob.length));s.trigger("FilesAdded",o)}var l,d,u=!1;if(!e.google||!google.gears)return r({success:!1});try{l=google.gears.factory.create("beta.desktop")}catch(c){return r({success:!1})}s.bind("PostInit",function(){var e=s.settings,i=t.getElementById(e.drop_element);i&&(n.addEvent(i,"dragover",function(e){l.setDropEffect(e,"copy"),e.preventDefault()},s.id),n.addEvent(i,"drop",function(e){var t=l.getDragData(e,"application/x-gears-files");t&&o(t.files),e.preventDefault()},s.id),i=0),n.addEvent(t.getElementById(e.browse_button),"click",function(t){var n,i,a,s=[];if(t.preventDefault(),!u){e:for(n=0;n<e.filters.length;n++)for(a=e.filters[n].extensions.split(","),i=0;i<a.length;i++){if(a[i]==="*"){s=[];break e}s.push("."+a[i])}l.openFiles(o,{singleFile:!e.multi_selection,filter:s})}},s.id)}),s.bind("CancelUpload",function(){d.abort&&d.abort()}),s.bind("UploadFile",function(e,t){function s(){function i(i){var a,s,r,o="----pluploadboundary"+n.guid(),l="--",u="\r\n";p&&(d.setRequestHeader("Content-Type","multipart/form-data; boundary="+o),a=google.gears.factory.create("beta.blobbuilder"),n.each(n.extend(g,e.settings.multipart_params),function(e,t){a.append(l+o+u+'Content-Disposition: form-data; name="'+t+'"'+u+u),a.append(e+u)}),r=n.mimeTypes[t.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",a.append(l+o+u+'Content-Disposition: form-data; name="'+e.settings.file_data_name+'"; filename="'+t.name+'"'+u+"Content-Type: "+r+u+u),a.append(i),a.append(u+l+o+l+u),s=a.getAsBlob(),f=s.length-i.length,i=s),d.send(i)}var h,p=e.settings.multipart,f=0,g={name:t.target_name||t.name},m=e.settings.url;t.status!=n.DONE&&t.status!=n.FAILED&&e.state!=n.STOPPED&&(l&&(g.chunk=u,g.chunks=r),h=Math.min(o,t.size-u*o),p||(m=n.buildUrl(e.settings.url,g)),d=google.gears.factory.create("beta.httprequest"),d.open("POST",m),p||(d.setRequestHeader("Content-Disposition",'attachment; filename="'+t.name+'"'),d.setRequestHeader("Content-Type","application/octet-stream")),n.each(e.settings.headers,function(e,t){d.setRequestHeader(t,e)}),d.upload.onprogress=function(n){t.loaded=c+n.loaded-f,e.trigger("UploadProgress",t)},d.onreadystatechange=function(){var i;if(d.readyState==4&&e.state!==n.STOPPED)if(d.status==200){if(i={chunk:u,chunks:r,response:d.responseText,status:d.status},e.trigger("ChunkUploaded",t,i),i.cancelled)return t.status=n.FAILED,void 0;c+=h,++u>=r?(t.status=n.DONE,e.trigger("FileUploaded",t,{response:d.responseText,status:d.status})):s()}else e.trigger("Error",{code:n.HTTP_ERROR,message:n.translate("HTTP Error."),file:t,chunk:u,chunks:r,status:d.status})},r>u&&i(a[t.id].slice(u*o,h)))}var r,o,l,u=0,c=0,h=e.settings.resize;h&&/\.(png|jpg|jpeg)$/i.test(t.name)&&(a[t.id]=i(a[t.id],h,/\.png$/i.test(t.name)?"image/png":"image/jpeg")),t.size=a[t.id].length,o=e.settings.chunk_size,l=o>0,r=Math.ceil(t.size/o),l||(o=t.size,r=1),s()}),s.bind("DisableBrowse",function(e,t){u=t}),s.bind("Destroy",function(e){var i,a,s={browseButton:e.settings.browse_button,dropElm:e.settings.drop_element};for(i in s)a=t.getElementById(s[i]),a&&n.removeAllEvents(a,e.id)}),r({success:!0})}})}(window,document,plupload),function(e,t,n,i){function a(e){var t,n,s,r,o=typeof e;if(e===i||null===e)return"null";if("string"===o)return t="\bb	t\nn\ff\rr\"\"''\\\\",'"'+e.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(e,n){var i=t.indexOf(n);return i+1?"\\"+t.charAt(i+1):(e=n.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+'"';if("object"==o){if(n=e.length!==i,t="",n){for(s=0;s<e.length;s++)t&&(t+=","),t+=a(e[s]);t="["+t+"]"}else{for(r in e)e.hasOwnProperty(r)&&(t&&(t+=","),t+=a(r)+":"+a(e[r]));t="{"+t+"}"}return t}return""+e}function s(e){var t,n,i,a,s,r=!1,o=null,l=0;try{try{o=new ActiveXObject("AgControl.AgControl"),o.IsVersionSupported(e)&&(r=!0),o=null}catch(d){var u=navigator.plugins["Silverlight Plug-In"];if(u){for(t=u.description,"1.0.30226.2"===t&&(t="2.0.30226.2"),n=t.split(".");n.length>3;)n.pop();for(;n.length<4;)n.push(0);for(i=e.split(".");i.length>4;)i.pop();do a=parseInt(i[l],10),s=parseInt(n[l],10),l++;while(l<i.length&&a===s);s>=a&&!isNaN(a)&&(r=!0)}}}catch(c){r=!1}return r}var r={},o={};n.silverlight={trigger:function(e,t){var i,a=r[e];a&&(i=n.toArray(arguments).slice(1),i[0]="Silverlight:"+t,setTimeout(function(){a.trigger.apply(a,i)},0))}},n.runtimes.Silverlight=n.addRuntime("silverlight",{getFeatures:function(){return{jpgresize:!0,pngresize:!0,chunks:!0,progress:!0,multipart:!0,multi_selection:!0}},init:function(i,l){function d(){return t.getElementById(i.id+"_silverlight").content.Upload}var u,c,h="",p=i.settings.filters,f=t.body;if(!s("2.0.31005.0")||e.opera&&e.opera.buildNumber)return l({success:!1}),void 0;for(o[i.id]=!1,r[i.id]=i,u=t.createElement("div"),u.id=i.id+"_silverlight_container",n.extend(u.style,{position:"absolute",top:"0px",background:i.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100px",height:"100px",overflow:"hidden",opacity:i.settings.shim_bgcolor||t.documentMode>8?"":.01}),u.className="plupload silverlight",i.settings.container&&(f=t.getElementById(i.settings.container),n.getStyle(f,"position")==="static"&&(f.style.position="relative")),f.appendChild(u),c=0;c<p.length;c++)h+=(""!=h?"|":"")+p[c].title+" | *."+p[c].extensions.replace(/,/g,";*.");u.innerHTML='<object id="'+i.id+'_silverlight" data="data:application/x-silverlight," type="application/x-silverlight-2" style="outline:none;" width="1024" height="1024"><param name="source" value="'+i.settings.silverlight_xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="id='+i.id+",filter="+h+",multiselect="+i.settings.multi_selection+'"/></object>',i.bind("Silverlight:Init",function(){var e,s={};o[i.id]||(o[i.id]=!0,i.bind("Silverlight:StartSelectFiles",function(){e=[]}),i.bind("Silverlight:SelectFile",function(t,i,a,r){var o;o=n.guid(),s[o]=i,s[i]=o,e.push(new n.File(o,a,r))}),i.bind("Silverlight:SelectSuccessful",function(){e.length&&i.trigger("FilesAdded",e)}),i.bind("Silverlight:UploadChunkError",function(e,t,a,r,o){i.trigger("Error",{code:n.IO_ERROR,message:"IO Error.",details:o,file:e.getFile(s[t])})}),i.bind("Silverlight:UploadFileProgress",function(e,t,i,a){var r=e.getFile(s[t]);r.status!=n.FAILED&&(r.size=a,r.loaded=i,e.trigger("UploadProgress",r))}),i.bind("Refresh",function(e){var i,a,s;i=t.getElementById(e.settings.browse_button),i&&(a=n.getPos(i,t.getElementById(e.settings.container)),s=n.getSize(i),n.extend(t.getElementById(e.id+"_silverlight_container").style,{top:a.y+"px",left:a.x+"px",width:s.w+"px",height:s.h+"px"}))}),i.bind("Silverlight:UploadChunkSuccessful",function(e,t,i,a,r){var o,l=e.getFile(s[t]);o={chunk:i,chunks:a,response:r},e.trigger("ChunkUploaded",l,o),l.status!=n.FAILED&&e.state!==n.STOPPED&&d().UploadNextChunk(),i==a-1&&(l.status=n.DONE,e.trigger("FileUploaded",l,{response:r}))}),i.bind("Silverlight:UploadSuccessful",function(e,t,i){var a=e.getFile(s[t]);a.status=n.DONE,e.trigger("FileUploaded",a,{response:i})}),i.bind("FilesRemoved",function(e,t){var n;for(n=0;n<t.length;n++)d().RemoveFile(s[t[n].id])}),i.bind("UploadFile",function(e,t){var i=e.settings,r=i.resize||{};d().UploadFile(s[t.id],e.settings.url,a({name:t.target_name||t.name,mime:n.mimeTypes[t.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:i.chunk_size,image_width:r.width,image_height:r.height,image_quality:r.quality||90,multipart:!!i.multipart,multipart_params:i.multipart_params||{},file_data_name:i.file_data_name,headers:i.headers}))}),i.bind("CancelUpload",function(){d().CancelUpload()}),i.bind("Silverlight:MouseEnter",function(e){var a,s;a=t.getElementById(i.settings.browse_button),s=e.settings.browse_button_hover,a&&s&&n.addClass(a,s)}),i.bind("Silverlight:MouseLeave",function(e){var a,s;a=t.getElementById(i.settings.browse_button),s=e.settings.browse_button_hover,a&&s&&n.removeClass(a,s)}),i.bind("Silverlight:MouseLeftButtonDown",function(e){var a,s;a=t.getElementById(i.settings.browse_button),s=e.settings.browse_button_active,a&&s&&(n.addClass(a,s),n.addEvent(t.body,"mouseup",function(){n.removeClass(a,s)}))}),i.bind("Sliverlight:StartSelectFiles",function(e){var a,s;a=t.getElementById(i.settings.browse_button),s=e.settings.browse_button_active,a&&s&&n.removeClass(a,s)}),i.bind("DisableBrowse",function(e,t){d().DisableBrowse(t)}),i.bind("Destroy",function(e){var i;n.removeAllEvents(t.body,e.id),delete o[e.id],delete r[e.id],i=t.getElementById(e.id+"_silverlight_container"),i&&f.removeChild(i)}),l({success:!0}))})}})}(window,document,plupload),function(e,t,n){function i(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(n){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}var a={},s={};n.flash={trigger:function(e,t,n){setTimeout(function(){var i=a[e];i&&i.trigger("Flash:"+t,n)},0)}},n.runtimes.Flash=n.addRuntime("flash",{getFeatures:function(){return{jpgresize:!0,pngresize:!0,maxWidth:8091,maxHeight:8091,chunks:!0,progress:!0,multipart:!0,multi_selection:!0}},init:function(e,r){function o(){return t.getElementById(e.id+"_flash")}function l(){return c++>5e3?(r({success:!1}),void 0):(s[e.id]===!1&&setTimeout(l,1),void 0)}var d,u,c=0,h=t.body;return i()<10?(r({success:!1}),void 0):(s[e.id]=!1,a[e.id]=e,d=t.getElementById(e.settings.browse_button),u=t.createElement("div"),u.id=e.id+"_flash_container",n.extend(u.style,{position:"absolute",top:"0px",background:e.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100%",height:"100%"}),u.className="plupload flash",e.settings.container&&(h=t.getElementById(e.settings.container),n.getStyle(h,"position")==="static"&&(h.style.position="relative")),h.appendChild(u),function(){var i,a;i='<object id="'+e.id+'_flash" type="application/x-shockwave-flash" data="'+e.settings.flash_swf_url+'" ',n.ua.ie&&(i+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),i+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+e.settings.flash_swf_url+'" /><param name="flashvars" value="id='+escape(e.id)+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',n.ua.ie?(a=t.createElement("div"),u.appendChild(a),a.outerHTML=i,a=null):u.innerHTML=i}(),l(),d=u=null,e.bind("Destroy",function(e){var i;n.removeAllEvents(t.body,e.id),delete s[e.id],delete a[e.id],i=t.getElementById(e.id+"_flash_container"),i&&h.removeChild(i)}),e.bind("Flash:Init",function(){var i={};try{o().setFileFilters(e.settings.filters,e.settings.multi_selection)}catch(a){return r({success:!1}),void 0}s[e.id]||(s[e.id]=!0,e.bind("UploadFile",function(t,a){var s=t.settings,r=e.settings.resize||{};o().uploadFile(i[a.id],s.url,{name:a.target_name||a.name,mime:n.mimeTypes[a.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:s.chunk_size,width:r.width,height:r.height,quality:r.quality,multipart:s.multipart,multipart_params:s.multipart_params||{},file_data_name:s.file_data_name,format:/\.(jpg|jpeg)$/i.test(a.name)?"jpg":"png",headers:s.headers,urlstream_upload:s.urlstream_upload})}),e.bind("CancelUpload",function(){o().cancelUpload()}),e.bind("Flash:UploadProcess",function(e,t){var a=e.getFile(i[t.id]);a.status!=n.FAILED&&(a.loaded=t.loaded,a.size=t.size,e.trigger("UploadProgress",a))}),e.bind("Flash:UploadChunkComplete",function(e,t){var a,s=e.getFile(i[t.id]);a={chunk:t.chunk,chunks:t.chunks,response:t.text},e.trigger("ChunkUploaded",s,a),s.status!==n.FAILED&&e.state!==n.STOPPED&&o().uploadNextChunk(),t.chunk==t.chunks-1&&(s.status=n.DONE,e.trigger("FileUploaded",s,{response:t.text}))}),e.bind("Flash:SelectFiles",function(t,a){var s,r,o,l=[];for(r=0;r<a.length;r++)s=a[r],o=n.guid(),i[o]=s.id,i[s.id]=o,l.push(new n.File(o,s.name,s.size));l.length&&e.trigger("FilesAdded",l)}),e.bind("Flash:SecurityError",function(t,a){e.trigger("Error",{code:n.SECURITY_ERROR,message:n.translate("Security error."),details:a.message,file:e.getFile(i[a.id])})}),e.bind("Flash:GenericError",function(t,a){e.trigger("Error",{code:n.GENERIC_ERROR,message:n.translate("Generic error."),details:a.message,file:e.getFile(i[a.id])})}),e.bind("Flash:IOError",function(t,a){e.trigger("Error",{code:n.IO_ERROR,message:n.translate("IO error."),details:a.message,file:e.getFile(i[a.id])})}),e.bind("Flash:ImageError",function(t,a){e.trigger("Error",{code:parseInt(a.code,10),message:n.translate("Image error."),file:e.getFile(i[a.id])})}),e.bind("Flash:StageEvent:rollOver",function(i){var a,s;a=t.getElementById(e.settings.browse_button),s=i.settings.browse_button_hover,a&&s&&n.addClass(a,s)}),e.bind("Flash:StageEvent:rollOut",function(i){var a,s;a=t.getElementById(e.settings.browse_button),s=i.settings.browse_button_hover,a&&s&&n.removeClass(a,s)}),e.bind("Flash:StageEvent:mouseDown",function(i){var a,s;a=t.getElementById(e.settings.browse_button),s=i.settings.browse_button_active,a&&s&&(n.addClass(a,s),n.addEvent(t.body,"mouseup",function(){n.removeClass(a,s)},i.id))}),e.bind("Flash:StageEvent:mouseUp",function(i){var a,s;a=t.getElementById(e.settings.browse_button),s=i.settings.browse_button_active,a&&s&&n.removeClass(a,s)}),e.bind("Flash:ExifData",function(t,n){e.trigger("ExifData",e.getFile(i[n.id]),n.data)}),e.bind("Flash:GpsData",function(t,n){e.trigger("GpsData",e.getFile(i[n.id]),n.data)}),e.bind("QueueChanged",function(){e.refresh()}),e.bind("FilesRemoved",function(e,t){var n;for(n=0;n<t.length;n++)o().removeFile(i[t[n].id])}),e.bind("StateChanged",function(){e.refresh()}),e.bind("Refresh",function(i){var a,s,r;o().setFileFilters(e.settings.filters,e.settings.multi_selection),a=t.getElementById(i.settings.browse_button),a&&(s=n.getPos(a,t.getElementById(i.settings.container)),r=n.getSize(a),n.extend(t.getElementById(i.id+"_flash_container").style,{top:s.y+"px",left:s.x+"px",width:r.w+"px",height:r.h+"px"}))}),e.bind("DisableBrowse",function(e,t){o().disableBrowse(t)}),r({success:!0}))}),void 0)}})}(window,document,plupload),function(e){e.runtimes.BrowserPlus=e.addRuntime("browserplus",{getFeatures:function(){return{dragdrop:!0,jpgresize:!0,pngresize:!0,chunks:!0,progress:!0,multipart:!0,multi_selection:!0}},init:function(t,n){function i(n){var i,a,s,o=[];for(i=0;i<n.length;i++)a=n[i],s=e.guid(),r[s]=a,o.push(new e.File(s,a.name,a.size));i&&t.trigger("FilesAdded",o)}function a(){var a=!1;t.bind("PostInit",function(){function n(e,t){s.DragAndDrop.AddDropTarget({id:e},function(){s.DragAndDrop.AttachCallbacks({id:e,hover:function(e){!e&&t&&t()},drop:function(e){t&&t(),i(e)}},function(){})})}function r(){document.getElementById(u).style.top="-1000px"}var l,d=o.drop_element,u=t.id+"_droptarget",c=document.getElementById(d);c&&(document.attachEvent&&/MSIE/gi.test(navigator.userAgent)?(l=document.createElement("div"),l.setAttribute("id",u),e.extend(l.style,{position:"absolute",top:"-1000px",background:"red",filter:"alpha(opacity=0)",opacity:0}),document.body.appendChild(l),e.addEvent(c,"dragenter",function(){var t,n;t=document.getElementById(d),n=e.getPos(t),e.extend(document.getElementById(u).style,{top:n.y+"px",left:n.x+"px",width:t.offsetWidth+"px",height:t.offsetHeight+"px"})}),n(u,r)):n(d)),e.addEvent(document.getElementById(o.browse_button),"click",function(t){var n,r,l,d,u=[],c=o.filters;if(t.preventDefault(),!a){e:for(n=0;n<c.length;n++)for(l=c[n].extensions.split(","),r=0;r<l.length;r++){if(l[r]==="*"){u=[];break e}d=e.mimeTypes[l[r]],d&&e.inArray(d,u)===-1&&u.push(e.mimeTypes[l[r]])}s.FileBrowse.OpenBrowseDialog({mimeTypes:u},function(e){e.success&&i(e.value)})}}),c=l=null}),t.bind("CancelUpload",function(){s.Uploader.cancel({},function(){})}),t.bind("DisableBrowse",function(e,t){a=t}),t.bind("UploadFile",function(t,n){function i(a,r){var l;n.status!=e.FAILED&&(u.name=n.target_name||n.name,c&&(u.chunk=""+a,u.chunks=""+r),l=h.shift(),s.Uploader.upload({url:t.settings.url,files:{file:l},cookies:document.cookies,postvars:e.extend(u,t.settings.multipart_params),progressCallback:function(e){var i,s=0;for(o[a]=parseInt(e.filePercent*l.size/100,10),i=0;i<o.length;i++)s+=o[i];n.loaded=s,t.trigger("UploadProgress",n)}},function(s){var o;s.success?(o=s.value.statusCode,c&&t.trigger("ChunkUploaded",n,{chunk:a,chunks:r,response:s.value.body,status:o}),h.length>0?i(++a,r):(n.status=e.DONE,t.trigger("FileUploaded",n,{response:s.value.body,status:o}),o>=400&&t.trigger("Error",{code:e.HTTP_ERROR,message:e.translate("HTTP Error."),file:n,status:o}))):t.trigger("Error",{code:e.GENERIC_ERROR,message:e.translate("Generic Error."),file:n,details:s.error})}))}function a(e){n.size=e.size,c?s.FileAccess.chunk({file:e,chunkSize:c},function(e){if(e.success){var t=e.value,n=t.length;o=Array(n);for(var a=0;n>a;a++)o[a]=0,h.push(t[a]);i(0,n)}}):(o=Array(1),h.push(e),i(0,1))}var o,d=r[n.id],u={},c=t.settings.chunk_size,h=[];l&&/\.(png|jpg|jpeg)$/i.test(n.name)?BrowserPlus.ImageAlter.transform({file:d,quality:l.quality||90,actions:[{scale:{maxwidth:l.width,maxheight:l.height}}]},function(e){e.success&&a(e.value.file)}):a(d)}),n({success:!0})}var s=window.BrowserPlus,r={},o=t.settings,l=o.resize;s?s.init(function(e){var t=[{service:"Uploader",version:"3"},{service:"DragAndDrop",version:"1"},{service:"FileBrowse",version:"1"},{service:"FileAccess",version:"2"}];l&&t.push({service:"ImageAlter",version:"4"}),e.success?s.require({services:t},function(e){e.success?a():n()
}):n()}):n()}})}(plupload),function(e,t,n,a){function s(t,n){var i;return"FileReader"in e?(i=new FileReader,i.readAsDataURL(t),i.onload=function(){n(i.result)},void 0):n(t.getAsDataURL())}function r(t,n){var i;return"FileReader"in e?(i=new FileReader,i.readAsBinaryString(t),i.onload=function(){n(i.result)},void 0):n(t.getAsBinary())}function o(e,n,i,a){var r,o,l,c,p=this;s(h[e.id],function(s){r=t.createElement("canvas"),r.style.display="none",t.body.appendChild(r),o=r.getContext("2d"),l=new Image,l.onerror=l.onabort=function(){a({success:!1})},l.onload=function(){var t,h,f,g;if(n.width||(n.width=l.width),n.height||(n.height=l.height),c=Math.min(n.width/l.width,n.height/l.height),1>c||1===c&&"image/jpeg"===i){if(t=Math.round(l.width*c),h=Math.round(l.height*c),r.width=t,r.height=h,o.drawImage(l,0,0,t,h),"image/jpeg"===i){if(f=new d(atob(s.substring(s.indexOf("base64,")+7))),f.headers&&f.headers.length&&(g=new u,g.init(f.get("exif")[0])&&(g.setExif("PixelXDimension",t),g.setExif("PixelYDimension",h),f.set("exif",g.getBinary()),p.hasEventListener("ExifData")&&p.trigger("ExifData",e,g.EXIF()),p.hasEventListener("GpsData")&&p.trigger("GpsData",e,g.GPS()))),n.quality)try{s=r.toDataURL(i,n.quality/100)}catch(m){s=r.toDataURL(i)}}else s=r.toDataURL(i);s=s.substring(s.indexOf("base64,")+7),s=atob(s),f&&f.headers&&f.headers.length&&(s=f.restore(s),f.purge()),r.parentNode.removeChild(r),a({success:!0,data:s})}else a({success:!1})},l.src=s})}function l(){function e(e,t){var n,a=s?0:-8*(t-1),r=0;for(n=0;t>n;n++)r|=i.charCodeAt(e+n)<<Math.abs(a+8*n);return r}function t(e,t,n){var n=arguments.length===3?n:i.length-t-1;i=i.substr(0,t)+e+i.substr(n+t)}function n(e,n,i){var a,r="",o=s?0:-8*(i-1);for(a=0;i>a;a++)r+=String.fromCharCode(n>>Math.abs(o+8*a)&255);t(r,e,i)}var i,s=!1;return{II:function(e){return e===a?s:(s=e,void 0)},init:function(e){s=!1,i=e},SEGMENT:function(e,n,a){switch(arguments.length){case 1:return i.substr(e,i.length-e-1);case 2:return i.substr(e,n);case 3:t(a,e,n);break;default:return i}},BYTE:function(t){return e(t,1)},SHORT:function(t){return e(t,2)},LONG:function(t,i){return i===a?e(t,4):(n(t,i,4),void 0)},SLONG:function(t){var n=e(t,4);return n>2147483647?n-4294967296:n},STRING:function(t,n){var i="";for(n+=t;n>t;t++)i+=String.fromCharCode(e(t,1));return i}}}function d(e){var t,n,i,s={65505:{app:"EXIF",name:"APP1",signature:"Exif\0"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\0"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\0"}},r=[],o=a,u=0;if(t=new l,t.init(e),t.SHORT(0)===65496){for(n=2,i=Math.min(1048576,e.length);i>=n;)if(o=t.SHORT(n),o>=65488&&65495>=o)n+=2;else{if(65498===o||65497===o)break;u=t.SHORT(n+2)+2,s[o]&&t.STRING(n+4,s[o].signature.length)===s[o].signature&&r.push({hex:o,app:s[o].app.toUpperCase(),name:s[o].name.toUpperCase(),start:n,length:u,segment:t.SEGMENT(n,u)}),n+=u}return t.init(null),{headers:r,restore:function(e){t.init(e);var i=new d(e);if(!i.headers)return!1;for(var a=i.headers.length;a>0;a--){var s=i.headers[a-1];t.SEGMENT(s.start,s.length,"")}i.purge(),n=t.SHORT(2)==65504?4+t.SHORT(4):2;for(var a=0,o=r.length;o>a;a++)t.SEGMENT(n,0,r[a].segment),n+=r[a].length;return t.SEGMENT()},get:function(e){for(var t=[],n=0,i=r.length;i>n;n++)r[n].app===e.toUpperCase()&&t.push(r[n].segment);return t},set:function(e,t){var n=[];"string"==typeof t?n.push(t):n=t;for(var i=ii=0,a=r.length;a>i&&(r[i].app===e.toUpperCase()&&(r[i].segment=n[ii],r[i].length=n[ii].length,ii++),!(ii>=n.length));i++);},purge:function(){r=[],t.init(null)}}}}function u(){function e(e,t){var n,i,s,o,l,c,h,p,f=r.SHORT(e),g=[],m={};for(n=0;f>n;n++)if(h=c=e+12*n+2,s=t[r.SHORT(h)],s!==a){switch(o=r.SHORT(h+=2),l=r.LONG(h+=2),h+=4,g=[],o){case 1:case 7:for(l>4&&(h=r.LONG(h)+u.tiffHeader),i=0;l>i;i++)g[i]=r.BYTE(h+i);break;case 2:l>4&&(h=r.LONG(h)+u.tiffHeader),m[s]=r.STRING(h,l-1);continue;case 3:for(l>2&&(h=r.LONG(h)+u.tiffHeader),i=0;l>i;i++)g[i]=r.SHORT(h+2*i);break;case 4:for(l>1&&(h=r.LONG(h)+u.tiffHeader),i=0;l>i;i++)g[i]=r.LONG(h+4*i);break;case 5:for(h=r.LONG(h)+u.tiffHeader,i=0;l>i;i++)g[i]=r.LONG(h+4*i)/r.LONG(h+4*i+4);break;case 9:for(h=r.LONG(h)+u.tiffHeader,i=0;l>i;i++)g[i]=r.SLONG(h+4*i);break;case 10:for(h=r.LONG(h)+u.tiffHeader,i=0;l>i;i++)g[i]=r.SLONG(h+4*i)/r.SLONG(h+4*i+4);break;default:continue}p=1==l?g[0]:g,m[s]=d.hasOwnProperty(s)&&"object"!=typeof p?d[s][p]:p}return m}function t(){var t=a,n=u.tiffHeader;return r.II(r.SHORT(n)==18761),r.SHORT(n+=2)!==42?!1:(u.IFD0=u.tiffHeader+r.LONG(n+=2),t=e(u.IFD0,o.tiff),u.exifIFD="ExifIFDPointer"in t?u.tiffHeader+t.ExifIFDPointer:a,u.gpsIFD="GPSInfoIFDPointer"in t?u.tiffHeader+t.GPSInfoIFDPointer:a,!0)}function s(e,t,n){var a,s,l,d=0;if("string"==typeof t){var c=o[e.toLowerCase()];for(hex in c)if(c[hex]===t){t=hex;break}}for(a=u[e.toLowerCase()+"IFD"],s=r.SHORT(a),i=0;s>i;i++)if(l=a+12*i+2,r.SHORT(l)==t){d=l+8;break}return d?(r.LONG(d,n),!0):!1}var r,o,d,u={};return r=new l,o={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},d={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(e){return u={tiffHeader:10},e!==a&&e.length?(r.init(e),r.SHORT(0)===65505&&r.STRING(4,5).toUpperCase()==="EXIF\0"?t():!1):!1},EXIF:function(){var t;if(t=e(u.exifIFD,o.exif),t.ExifVersion&&n.typeOf(t.ExifVersion)==="array"){for(var i=0,a="";i<t.ExifVersion.length;i++)a+=String.fromCharCode(t.ExifVersion[i]);t.ExifVersion=a}return t},GPS:function(){var t;return t=e(u.gpsIFD,o.gps),t.GPSVersionID&&(t.GPSVersionID=t.GPSVersionID.join(".")),t},setExif:function(e,t){return"PixelXDimension"!==e&&"PixelYDimension"!==e?!1:s("exif",e,t)},getBinary:function(){return r.SEGMENT()}}}var c,h={};n.runtimes.Html5=n.addRuntime("html5",{getFeatures:function(){var i,a,s,r,o,l;return a=s=o=l=!1,e.XMLHttpRequest&&(i=new XMLHttpRequest,s=!!i.upload,a=!(!i.sendAsBinary&&!i.upload)),a&&(r=!!(i.sendAsBinary||e.Uint8Array&&e.ArrayBuffer),o=!(!File||!File.prototype.getAsDataURL&&!e.FileReader||!r),l=!(!File||!(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))),c=n.ua.safari&&n.ua.windows,{html5:a,dragdrop:function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e}(),jpgresize:o,pngresize:o,multipart:o||!!e.FileReader||!!e.FormData,canSendBinary:r,cantSendBlobInFormData:!(!(n.ua.gecko&&e.FormData&&e.FileReader)||FileReader.prototype.readAsArrayBuffer),progress:s,chunks:l,multi_selection:!(n.ua.safari&&n.ua.windows),triggerDialog:n.ua.gecko&&e.FormData||n.ua.webkit}},init:function(i,a){function s(e){var t,a,s,r=[],o={};for(a=0;a<e.length;a++)t=e[a],o[t.name]||(o[t.name]=!0,s=n.guid(),h[s]=t,r.push(new n.File(s,t.fileName||t.name,t.fileSize||t.size)));r.length&&i.trigger("FilesAdded",r)}var l,d;return l=this.getFeatures(),l.html5?(i.bind("Init",function(e){var a,r,o,l,d,u,c,h=[],p=e.settings.filters,f=t.body;a=t.createElement("div"),a.id=e.id+"_html5_container",n.extend(a.style,{position:"absolute",background:i.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:i.settings.shim_bgcolor?"":0}),a.className="plupload html5",i.settings.container&&(f=t.getElementById(i.settings.container),n.getStyle(f,"position")==="static"&&(f.style.position="relative")),f.appendChild(a);e:for(o=0;o<p.length;o++)for(d=p[o].extensions.split(/,/),l=0;l<d.length;l++){if(d[l]==="*"){h=[];break e}u=n.mimeTypes[d[l]],u&&n.inArray(u,h)===-1&&h.push(u)}if(a.innerHTML='<input id="'+i.id+'_html5"  style="font-size:999px" type="file" accept="'+h.join(",")+'" '+(i.settings.multi_selection&&i.features.multi_selection?'multiple="multiple"':"")+" />",a.scrollTop=100,c=t.getElementById(i.id+"_html5"),e.features.triggerDialog?n.extend(c.style,{position:"absolute",width:"100%",height:"100%"}):n.extend(c.style,{cssFloat:"right",styleFloat:"right"}),c.onchange=function(){s(this.files),this.value=""},r=t.getElementById(e.settings.browse_button)){var g=e.settings.browse_button_hover,m=e.settings.browse_button_active,v=e.features.triggerDialog?r:a;g&&(n.addEvent(v,"mouseover",function(){n.addClass(r,g)},e.id),n.addEvent(v,"mouseout",function(){n.removeClass(r,g)},e.id)),m&&(n.addEvent(v,"mousedown",function(){n.addClass(r,m)},e.id),n.addEvent(t.body,"mouseup",function(){n.removeClass(r,m)},e.id)),e.features.triggerDialog&&n.addEvent(r,"click",function(n){var i=t.getElementById(e.id+"_html5");i&&!i.disabled&&i.click(),n.preventDefault()},e.id)}}),i.bind("PostInit",function(){var e=t.getElementById(i.settings.drop_element);if(e){if(c)return n.addEvent(e,"dragenter",function(){var a,r,o;a=t.getElementById(i.id+"_drop"),a||(a=t.createElement("input"),a.setAttribute("type","file"),a.setAttribute("id",i.id+"_drop"),a.setAttribute("multiple","multiple"),n.addEvent(a,"change",function(){s(this.files),n.removeEvent(a,"change",i.id),a.parentNode.removeChild(a)},i.id),e.appendChild(a)),r=n.getPos(e,t.getElementById(i.settings.container)),o=n.getSize(e),n.getStyle(e,"position")==="static"&&n.extend(e.style,{position:"relative"}),n.extend(a.style,{position:"absolute",display:"block",top:0,left:0,width:o.w+"px",height:o.h+"px",opacity:0})},i.id),void 0;n.addEvent(e,"dragover",function(e){e.preventDefault()},i.id),n.addEvent(e,"drop",function(e){var t=e.dataTransfer;t&&t.files&&s(t.files),e.preventDefault()},i.id)}}),i.bind("Refresh",function(e){var a,s,r,o,l;a=t.getElementById(i.settings.browse_button),a&&(s=n.getPos(a,t.getElementById(e.settings.container)),r=n.getSize(a),o=t.getElementById(i.id+"_html5_container"),n.extend(o.style,{top:s.y+"px",left:s.x+"px",width:r.w+"px",height:r.h+"px"}),i.features.triggerDialog&&(n.getStyle(a,"position")==="static"&&n.extend(a.style,{position:"relative"}),l=parseInt(n.getStyle(a,"z-index"),10),isNaN(l)&&(l=0),n.extend(a.style,{zIndex:l}),n.extend(o.style,{zIndex:l-1})))}),i.bind("DisableBrowse",function(e,n){var i=t.getElementById(e.id+"_html5");i&&(i.disabled=n)}),i.bind("CancelUpload",function(){d&&d.abort&&d.abort()}),i.bind("UploadFile",function(t,i){function a(e,t,n){var i;if(!File.prototype.slice)return(i=File.prototype.webkitSlice||File.prototype.mozSlice)?i.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(a){return e.slice(t,n-t)}}function s(s){function r(){function p(a){var s,c=0,h="----pluploadboundary"+n.guid(),p="--",S="\r\n",w="";if(d=new XMLHttpRequest,d.upload&&(d.upload.onprogress=function(e){i.loaded=Math.min(i.size,u+e.loaded-c),t.trigger("UploadProgress",i)}),d.onreadystatechange=function(){var e,l;if(d.readyState==4&&t.state!==n.STOPPED){try{e=d.status}catch(c){e=0}if(e>=400)t.trigger("Error",{code:n.HTTP_ERROR,message:n.translate("HTTP Error."),file:i,status:e});else{if(g){if(l={chunk:o,chunks:g,response:d.responseText,status:e},t.trigger("ChunkUploaded",i,l),u+=b,l.cancelled)return i.status=n.FAILED,void 0;i.loaded=Math.min(i.size,(o+1)*v)}else i.loaded=i.size;t.trigger("UploadProgress",i),a=f=s=w=null,!g||++o>=g?(i.status=n.DONE,t.trigger("FileUploaded",i,{response:d.responseText,status:e})):r()}}},t.settings.multipart&&l.multipart){if(m.name=i.target_name||i.name,d.open("post",C,!0),n.each(t.settings.headers,function(e,t){d.setRequestHeader(t,e)}),"string"!=typeof a&&e.FormData)return s=new FormData,n.each(n.extend(m,t.settings.multipart_params),function(e,t){s.append(t,e)}),s.append(t.settings.file_data_name,a),d.send(s),void 0;if("string"==typeof a){if(d.setRequestHeader("Content-Type","multipart/form-data; boundary="+h),n.each(n.extend(m,t.settings.multipart_params),function(e,t){w+=p+h+S+'Content-Disposition: form-data; name="'+t+'"'+S+S,w+=unescape(encodeURIComponent(e))+S}),y=n.mimeTypes[i.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",w+=p+h+S+'Content-Disposition: form-data; name="'+t.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(i.name))+'"'+S+"Content-Type: "+y+S+S+a+S+p+h+p+S,c=w.length-a.length,a=w,d.sendAsBinary)d.sendAsBinary(a);else if(l.canSendBinary){for(var x=new Uint8Array(a.length),D=0;D<a.length;D++)x[D]=a.charCodeAt(D)&255;d.send(x.buffer)}return}}C=n.buildUrl(t.settings.url,n.extend(m,t.settings.multipart_params)),d.open("post",C,!0),d.setRequestHeader("Content-Type","application/octet-stream"),n.each(t.settings.headers,function(e,t){d.setRequestHeader(t,e)}),d.send(a)}var f,g,m,v,b,y,C=t.settings.url;i.status!=n.DONE&&i.status!=n.FAILED&&t.state!=n.STOPPED&&(m={name:i.target_name||i.name},c.chunk_size&&i.size>c.chunk_size&&(l.chunks||"string"==typeof s)?(v=c.chunk_size,g=Math.ceil(i.size/v),b=Math.min(v,i.size-o*v),f="string"==typeof s?s.substring(o*v,o*v+b):a(s,o*v,o*v+b),m.chunk=o,m.chunks=g):(b=i.size,f=s),t.settings.multipart&&l.multipart&&"string"!=typeof f&&h&&l.cantSendBlobInFormData&&l.chunks&&t.settings.chunk_size?(h.onload=function(){p(h.result)},h.readAsBinaryString(f)):p(f))}var o=0,u=0,h="FileReader"in e?new FileReader:null;r()}var u,c=t.settings;u=h[i.id],l.jpgresize&&t.settings.resize&&/\.(png|jpg|jpeg)$/i.test(i.name)?o.call(t,i,t.settings.resize,/\.png$/i.test(i.name)?"image/png":"image/jpeg",function(e){e.success?(i.size=e.data.length,s(e.data)):l.chunks?s(u):r(u,s)}):!l.chunks&&l.jpgresize?r(u,s):s(u)}),i.bind("Destroy",function(e){var i,a,s=t.body,r={inputContainer:e.id+"_html5_container",inputFile:e.id+"_html5",browseButton:e.settings.browse_button,dropElm:e.settings.drop_element};for(i in r)a=t.getElementById(r[i]),a&&n.removeAllEvents(a,e.id);n.removeAllEvents(t.body,e.id),e.settings.container&&(s=t.getElementById(e.settings.container)),s.removeChild(t.getElementById(r.inputContainer))}),a({success:!0}),void 0):(a({success:!1}),void 0)}})}(window,document,plupload),function(e,t,n){function i(e){return t.getElementById(e)}n.runtimes.Html4=n.addRuntime("html4",{getFeatures:function(){return{multipart:!0,triggerDialog:n.ua.gecko&&e.FormData||n.ua.webkit}},init:function(a,s){a.bind("Init",function(s){function r(){var e,o,l,d;u=n.guid(),v.push(u),e=t.createElement("form"),e.setAttribute("id","form_"+u),e.setAttribute("method","post"),e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data"),e.setAttribute("target",s.id+"_iframe"),e.style.position="absolute",o=t.createElement("input"),o.setAttribute("id","input_"+u),o.setAttribute("type","file"),o.setAttribute("accept",y),o.setAttribute("size",1),d=i(s.settings.browse_button),s.features.triggerDialog&&d&&n.addEvent(i(s.settings.browse_button),"click",function(e){o.disabled||o.click(),e.preventDefault()},s.id),n.extend(o.style,{width:"100%",height:"100%",opacity:0,fontSize:"99px",cursor:"pointer"}),n.extend(e.style,{overflow:"hidden"}),l=s.settings.shim_bgcolor,l&&(e.style.background=l),b&&n.extend(o.style,{filter:"alpha(opacity=0)"}),n.addEvent(o,"change",function(t){var l,c=t.target,h=[];c.value&&(i("form_"+u).style.top="-1048575px",l=c.value.replace(/\\/g,"/"),l=l.substring(l.length,l.lastIndexOf("/")+1),h.push(new n.File(u,l)),s.features.triggerDialog?n.removeEvent(d,"click",s.id):n.removeAllEvents(e,s.id),n.removeEvent(o,"change",s.id),r(),h.length&&a.trigger("FilesAdded",h))},s.id),e.appendChild(o),g.appendChild(e),s.refresh()}function o(){var i=t.createElement("div");i.innerHTML='<iframe id="'+s.id+'_iframe" name="'+s.id+'_iframe" src="'+m+':&quot;&quot;" style="display:none"></iframe>',l=i.firstChild,g.appendChild(l),n.addEvent(l,"load",function(t){var i,a,r=t.target;if(d){try{i=r.contentWindow.document||r.contentDocument||e.frames[r.id].document}catch(o){return s.trigger("Error",{code:n.SECURITY_ERROR,message:n.translate("Security error."),file:d}),void 0}a=i.body.innerHTML,a&&(d.status=n.DONE,d.loaded=1025,d.percent=100,s.trigger("UploadProgress",d),s.trigger("FileUploaded",d,{response:a}))}},s.id)}var l,d,u,c,h,p,f,g=t.body,m="javascript",v=[],b=/MSIE/.test(navigator.userAgent),y=[],C=s.settings.filters;e:for(c=0;c<C.length;c++)for(h=C[c].extensions.split(/,/),f=0;f<h.length;f++){if(h[f]==="*"){y=[];break e}p=n.mimeTypes[h[f]],p&&n.inArray(p,y)===-1&&y.push(p)}y=y.join(","),s.settings.container&&(g=i(s.settings.container),n.getStyle(g,"position")==="static"&&(g.style.position="relative")),s.bind("UploadFile",function(e,a){var s,r;a.status!=n.DONE&&a.status!=n.FAILED&&e.state!=n.STOPPED&&(s=i("form_"+a.id),r=i("input_"+a.id),r.setAttribute("name",e.settings.file_data_name),s.setAttribute("action",e.settings.url),n.each(n.extend({name:a.target_name||a.name},e.settings.multipart_params),function(e,i){var a=t.createElement("input");n.extend(a,{type:"hidden",name:i,value:e}),s.insertBefore(a,s.firstChild)}),d=a,i("form_"+u).style.top="-1048575px",s.submit())}),s.bind("FileUploaded",function(e){e.refresh()}),s.bind("StateChanged",function(t){t.state==n.STARTED?o():t.state==n.STOPPED&&e.setTimeout(function(){n.removeEvent(l,"load",t.id),l.parentNode&&l.parentNode.removeChild(l)},0),n.each(t.files,function(e){if(e.status===n.DONE||e.status===n.FAILED){var t=i("form_"+e.id);t&&t.parentNode.removeChild(t)}})}),s.bind("Refresh",function(e){var a,s,r,o,l,d,c,h,p;a=i(e.settings.browse_button),a&&(l=n.getPos(a,i(e.settings.container)),d=n.getSize(a),c=i("form_"+u),h=i("input_"+u),n.extend(c.style,{top:l.y+"px",left:l.x+"px",width:d.w+"px",height:d.h+"px"}),e.features.triggerDialog&&(n.getStyle(a,"position")==="static"&&n.extend(a.style,{position:"relative"}),p=parseInt(a.style.zIndex,10),isNaN(p)&&(p=0),n.extend(a.style,{zIndex:p}),n.extend(c.style,{zIndex:p-1})),r=e.settings.browse_button_hover,o=e.settings.browse_button_active,s=e.features.triggerDialog?a:c,r&&(n.addEvent(s,"mouseover",function(){n.addClass(a,r)},e.id),n.addEvent(s,"mouseout",function(){n.removeClass(a,r)},e.id)),o&&(n.addEvent(s,"mousedown",function(){n.addClass(a,o)},e.id),n.addEvent(t.body,"mouseup",function(){n.removeClass(a,o)},e.id)))}),a.bind("FilesRemoved",function(e,t){var n,a;for(n=0;n<t.length;n++)a=i("form_"+t[n].id),a&&a.parentNode.removeChild(a)}),a.bind("DisableBrowse",function(e,n){var i=t.getElementById("input_"+u);i&&(i.disabled=n)}),a.bind("Destroy",function(e){var a,s,r,o={inputContainer:"form_"+u,inputFile:"input_"+u,browseButton:e.settings.browse_button};for(a in o)s=i(o[a]),s&&n.removeAllEvents(s,e.id);n.removeAllEvents(t.body,e.id),n.each(v,function(e){r=i("form_"+e),r&&g.removeChild(r)})}),r()}),s({success:!0})}})}(window,document,plupload),function(){function e(t,n,i){var a=e.resolve(t);if(null==a){i=i||t,n=n||"root";var s=Error('Failed to require "'+i+'" from "'+n+'"');throw s.path=i,s.parent=n,s.require=!0,s}var r=e.modules[a];return r.exports||(r.exports={},r.client=r.component=!0,r.call(this,r.exports,e.relative(a),r)),r.exports}var t=Object.prototype.hasOwnProperty;e.modules={},e.aliases={},e.resolve=function(n){"/"===n.charAt(0)&&(n=n.slice(1));for(var i=n+"/index.js",a=[n,n+".js",n+".json",n+"/index.js",n+"/index.json"],s=0;a.length>s;s++){var n=a[s];if(t.call(e.modules,n))return n}return t.call(e.aliases,i)?e.aliases[i]:void 0},e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var i=0;t.length>i;++i)".."==t[i]?e.pop():"."!=t[i]&&""!=t[i]&&n.push(t[i]);return e.concat(n).join("/")},e.register=function(t,n){e.modules[t]=n},e.alias=function(n,i){if(!t.call(e.modules,n))throw Error('Failed to alias "'+n+'", it does not exist');e.aliases[i]=n},e.relative=function(n){function i(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function a(t){var i=a.resolve(t);return e(i,n,t)}var s=e.normalize(n,"..");return a.resolve=function(t){var a=t.charAt(0);if("/"==a)return t.slice(1);if("."==a)return e.normalize(s,t);var r=n.split("/"),o=i(r,"deps")+1;return o||(o=0),t=r.slice(0,o+1).join("/")+"/deps/"+t},a.exists=function(n){return t.call(e.modules,a.resolve(n))},a},e.register("component-emitter/index.js",function(e,t,n){function i(e){return e?a(e):void 0}function a(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}n.exports=i,i.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},t._off=n,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=function(e,t){this._callbacks=this._callbacks||{};var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;var i=n.indexOf(t._off||t);return~i&&n.splice(i,1),this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var i=0,a=n.length;a>i;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),e.register("dropzone/index.js",function(e,t,n){n.exports=t("./lib/dropzone.js")}),e.register("dropzone/lib/dropzone.js",function(e,t,n){(function(){var e,i,a,s,r,o,l,d={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var i in t)d.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c=[].slice,h=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};i="undefined"!=typeof Emitter&&null!==Emitter?Emitter:t("emitter"),o=function(){},e=function(e){function t(e,n){var i,s,r,o,l;if(this.element=e,this.version=t.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw Error("Invalid dropzone element.");if(t.forElement(this.element))throw Error("Dropzone already attached.");if(t.instances.push(this),i=this.element.id,s=null!=(l=i?t.options[a(i)]:void 0)?l:{},r=function(){var e,t,n,i,a,s,r;for(i=arguments[0],n=arguments.length>=2?c.call(arguments,1):[],s=0,r=n.length;r>s;s++){t=n[s];for(e in t)a=t[e],i[e]=a}return i},this.options=r({},this.defaultOptions,s,null!=n?n:{}),null==this.options.url&&(this.options.url=this.element.action),!this.options.url)throw Error("No URL provided.");if(this.options.method=this.options.method.toUpperCase(),!t.isBrowserSupported())return this.options.fallback.call(this);if((o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.options.previewsContainer){if("string"==typeof this.options.previewsContainer?this.previewsContainer=document.querySelector(this.options.previewsContainer):null!=this.options.previewsContainer.nodeType&&(this.previewsContainer=this.options.previewsContainer),null==this.previewsContainer)throw Error("Invalid `previewsContainer` option provided. Please provide a CSS selector or a plain HTML element.")}else this.previewsContainer=this.element;this.init()}return u(t,e),t.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","selectedfiles","addedfile","removedfile","thumbnail","error","processingfile","uploadprogress","sending","success","complete","reset"],t.prototype.defaultOptions={url:null,method:"post",parallelUploads:2,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:2,thumbnailWidth:100,thumbnailHeight:100,params:{},clickable:!0,enqueueForUpload:!0,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",accept:function(e,t){return t()},init:function(){return o},fallback:function(){var e,t,n,i,a,s;for(this.element.className=""+this.element.className+" browser-not-supported",s=this.element.getElementsByTagName("div"),i=0,a=s.length;a>i;i++)e=s[i],/(^| )message($| )/.test(e.className)&&(t=e,e.className="message");return t||(t=r('<div class="message"><span></span></div>'),this.element.appendChild(t)),n=t.getElementsByTagName("span")[0],n&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},drop:function(){return this.element.classList.remove("drag-hover")},dragstart:o,dragend:function(){return this.element.classList.remove("drag-hover")},dragenter:function(){return this.element.classList.add("drag-hover")},dragover:function(){return this.element.classList.add("drag-hover")},dragleave:function(){return this.element.classList.remove("drag-hover")},selectedfiles:function(){return this.element===this.previewsContainer?this.element.classList.add("started"):void 0},reset:function(){return this.element.classList.remove("started")},addedfile:function(e){return e.previewTemplate=r(this.options.previewTemplate),this.previewsContainer.appendChild(e.previewTemplate),e.previewTemplate.querySelector(".filename span").textContent=e.name,e.previewTemplate.querySelector(".details").appendChild(r('<div class="size">'+this.filesize(e.size)+"</div>"))},removedfile:function(e){return e.previewTemplate.parentNode.removeChild(e.previewTemplate)},thumbnail:function(e,t){return e.previewTemplate.classList.remove("file-preview"),e.previewTemplate.classList.add("image-preview"),e.previewTemplate.querySelector(".details").appendChild(r('<img alt="'+e.name+'" src="'+t+'"/>'))},error:function(e,t){return e.previewTemplate.classList.add("error"),e.previewTemplate.querySelector(".error-message span").textContent=t},processingfile:function(e){return e.previewTemplate.classList.add("processing")},uploadprogress:function(e,t){return e.previewTemplate.querySelector(".progress .upload").style.width=""+t+"%"},sending:o,success:function(e){return e.previewTemplate.classList.add("success")},complete:function(e){plupupload_complete_callback(e)},previewTemplate:'<div class="preview file-preview">\n  <div class="details">\n   <div class="filename"><span></span></div>\n  </div>\n  <div class="progress"><span class="upload"></span></div>\n  <div class="success-mark"><span></span></div>\n  <div class="error-mark"><span></span></div>\n  <div class="error-message"><span></span></div>\n</div>'},t.prototype.init=function(){var e,t,n,i,a,s,o=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".message")&&this.element.appendChild(r('<div class="default message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.options.clickable&&(this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.style.display="none",document.body.appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",function(){var e;return e=o.hiddenFileInput.files,e.length?(o.emit("selectedfiles",e),o.handleFiles(e)):void 0})),this.files=[],this.filesQueue=[],this.filesProcessing=[],this.URL=null!=(a=window.URL)?a:window.webkitURL,s=this.events,n=0,i=s.length;i>n;n++)e=s[n],this.on(e,this.options[e]);return t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners={dragstart:function(e){return o.emit("dragstart",e)},dragenter:function(e){return t(e),o.emit("dragenter",e)},dragover:function(e){return t(e),o.emit("dragover",e)},dragleave:function(e){return o.emit("dragleave",e)},drop:function(e){return t(e),o.drop(e),o.emit("drop",e)},dragend:function(e){return o.emit("dragend",e)},click:function(e){return o.options.clickable?e.target===o.element||e.target===o.element.querySelector(".message")?o.hiddenFileInput.click():void 0:void 0}},this.enable(),this.options.init.call(this)},t.prototype.getFallbackForm=function(){var e,t,n,i;return(e=this.getExistingFallback())?e:(n='<div class="fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this.options.paramName+'" multiple="multiple" /><button type="submit">Upload!</button></div>',t=r(n),"FORM"!==this.element.tagName?(i=r('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),i.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:t)},t.prototype.getExistingFallback=function(){var e,t,n,i,a,s;for(t=function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},s=["div","form"],i=0,a=s.length;a>i;i++)if(n=s[i],e=t(this.element.getElementsByTagName("div")))return e},t.prototype.setupEventListeners=function(){var e,t,n,i;n=this.listeners,i=[];for(e in n)t=n[e],i.push(this.element.addEventListener(e,t,!1));return i},t.prototype.removeEventListeners=function(){var e,t,n,i;n=this.listeners,i=[];for(e in n)t=n[e],i.push(this.element.removeEventListener(e,t,!1));return i},t.prototype.disable=function(){return this.options.clickable&&this.element.classList.remove("clickable"),this.removeEventListeners(),this.filesProcessing=[],this.filesQueue=[]},t.prototype.enable=function(){return this.options.clickable&&this.element.classList.add("clickable"),this.setupEventListeners()},t.prototype.filesize=function(e){var t;return e>=1e11?(e/=1e11,t="TB"):e>=1e8?(e/=1e8,t="GB"):e>=1e5?(e/=1e5,t="MB"):e>=100?(e/=100,t="KB"):(e=10*e,t="b"),"<strong>"+Math.round(e)/10+"</strong> "+t},t.prototype.drop=function(e){var t;return e.dataTransfer?(t=e.dataTransfer.files,this.emit("selectedfiles",t),t.length?this.handleFiles(t):void 0):void 0},t.prototype.handleFiles=function(e){var t,n,i,a;for(a=[],n=0,i=e.length;i>n;n++)t=e[n],a.push(this.addFile(t));return a},t.prototype.accept=function(e,t){return e.size>1048576*this.options.maxFilesize?t("File is too big ("+Math.round(e.size/1024/10.24)/100+"MB). Max filesize: "+this.options.maxFilesize+"MB"):this.options.accept.call(this,e,t)},t.prototype.addFile=function(e){var t=this;return this.files.push(e),this.emit("addedfile",e),this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1048576*this.options.maxThumbnailFilesize&&this.createThumbnail(e),this.accept(e,function(n){return n?t.errorProcessing(e,n):t.options.enqueueForUpload?(t.filesQueue.push(e),t.processQueue()):void 0
})},t.prototype.removeFile=function(e){if(e.processing)throw Error("Can't remove file currently processing");return this.files=l(this.files,e),this.filesQueue=l(this.filesQueue,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},t.prototype.removeAllFiles=function(){var e,t,n,i;for(i=this.files.slice(),t=0,n=i.length;n>t;t++)e=i[t],0>h.call(this.filesProcessing,e)&&this.removeFile(e);return null},t.prototype.createThumbnail=function(e){var t,n=this;return t=new FileReader,t.onload=function(){var i;return i=new Image,i.onload=function(){var t,a,s,r,o,l,d,u,c,h,p,f,g;return t=document.createElement("canvas"),a=t.getContext("2d"),l=0,d=0,o=i.width,s=i.height,t.width=n.options.thumbnailWidth,t.height=n.options.thumbnailHeight,f=0,g=0,p=t.width,c=t.height,r=i.width/i.height,h=t.width/t.height,i.height<t.height||i.width<t.width?(c=s,p=o):r>h?(s=i.height,o=s*h):(o=i.width,s=o/h),l=(i.width-o)/2,d=(i.height-s)/2,g=(t.height-c)/2,f=(t.width-p)/2,a.drawImage(i,l,d,o,s,f,g,p,c),u=t.toDataURL("image/png"),n.emit("thumbnail",e,u)},i.src=t.result},t.readAsDataURL(e)},t.prototype.processQueue=function(){var e,t,n;for(t=this.options.parallelUploads,n=this.filesProcessing.length,e=n;t>e;){if(!this.filesQueue.length)return;this.processFile(this.filesQueue.shift()),e++}},t.prototype.processFile=function(e){return this.filesProcessing.push(e),e.processing=!0,this.emit("processingfile",e),this.uploadFile(e)},t.prototype.uploadFile=function(e){var t,n,i,a,s,r,o,l,d,u,c,h,p,f,g=this;if(d=new XMLHttpRequest,d.open(this.options.method,this.options.url,!0),n=function(){return g.errorProcessing(e,d.responseText||"Server responded with "+d.status+" code.")},d.onload=function(t){var i,a;return(a=d.status)>=200&&300>a?(g.emit("uploadprogress",e,100),i=d.responseText,d.getResponseHeader("content-type")&&~d.getResponseHeader("content-type").indexOf("application/json")&&(i=JSON.parse(i)),g.finished(e,i,t)):n()},d.onerror=function(){return n()},o=null!=(h=d.upload)?h:d,o.onprogress=function(t){return g.emit("uploadprogress",e,Math.max(0,Math.min(100,100*(t.loaded/t.total))))},d.setRequestHeader("Accept","application/json"),d.setRequestHeader("Cache-Control","no-cache"),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.setRequestHeader("X-File-Name",e.name),t=new FormData,this.options.params){p=this.options.params;for(r in p)l=p[r],t.append(r,l)}if("FORM"===this.element.tagName)for(f=this.element.querySelectorAll("input, textarea, select, button"),u=0,c=f.length;c>u;u++)i=f[u],a=i.getAttribute("name"),s=i.getAttribute("type"),(!s||"checkbox"!==s.toLowerCase()||i.checked)&&t.append(a,i.value);return this.emit("sending",e,d,t),t.append(this.options.paramName,e),d.send(t)},t.prototype.finished=function(e,t,n){return this.filesProcessing=l(this.filesProcessing,e),e.processing=!1,this.processQueue(),this.emit("success",e,t,n),this.emit("finished",e,t,n),this.emit("complete",e)},t.prototype.errorProcessing=function(e,t){return this.filesProcessing=l(this.filesProcessing,e),e.processing=!1,this.processQueue(),this.emit("error",e,t),this.emit("complete",e)},t}(i),e.version="2.0.8",e.options={},e.instances=[],e.forElement=function(t){var n,i,a,s;for("string"==typeof t&&(t=document.querySelector(t)),s=e.instances,i=0,a=s.length;a>i;i++)if(n=s[i],n.element===t)return n;return null},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,n,i,a,s;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(s=e.blacklistedBrowsers,i=0,a=s.length;a>i;i++)n=s[i],n.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},l=function(e,t){var n,i,a,s;for(s=[],i=0,a=e.length;a>i;i++)n=e[i],n!==t&&s.push(n);return s},a=function(e){return e.replace(/[\-_](\w)/g,function(e){return e[1].toUpperCase()})},r=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),void 0!==n&&null!==n?n.exports=e:window.Dropzone=e,s=function(e,t){var n,i,a,s,r,o,l,d,u;if(a=!1,u=!0,i=e.document,d=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",o=i.addEventListener?"":"on",s=function(n){return"readystatechange"!==n.type||"complete"===i.readyState?(("load"===n.type?e:i)[l](o+n.type,s,!1),!a&&(a=!0)?t.call(e,n.type||n):void 0):void 0},r=function(){var e;try{d.doScroll("left")}catch(t){return e=t,setTimeout(r,50),void 0}return s("poll")},"complete"!==i.readyState){if(i.createEventObject&&d.doScroll){try{u=!e.frameElement}catch(c){}u&&r()}return i[n](o+"DOMContentLoaded",s,!1),i[n](o+"readystatechange",s,!1),e[n](o+"load",s,!1)}},s(window,function(){var t,n,i,a,s,r;for(i=[],t=function(e){var t,n,a,s;for(s=[],n=0,a=e.length;a>n;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?s.push(i.push(t)):s.push(void 0);return s},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form")),r=[],a=0,s=i.length;s>a;a++)n=i[a],r.push(new e(n));return r})}).call(this)}),e.alias("component-emitter/index.js","dropzone/deps/emitter/index.js"),"object"==typeof exports?module.exports=e("dropzone"):"function"==typeof define&&define.amd?define(function(){return e("dropzone")}):window.Dropzone=e("dropzone")}();